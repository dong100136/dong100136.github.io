!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=6)}([function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";t.exports=function(){$(document).ready(function(){function t(){var t=$(".header-inner").height()+CONFIG.sidebar.offset;$("#sidebar").height()<$("#content").height()&&e.affix({offset:{top:t-2*CONFIG.sidebar.offset,bottom:540}})}var e=$(".sidebar-inner");t(),window.matchMedia("(min-width: 991px)").addListener(function(i){i.matches&&($(window).off(".affix"),e.removeData("bs.affix").removeClass("affix affix-top affix-bottom"),t())})})}},function(t,e,i){"use strict";t.exports=function(){$(document).ready(function(){!function(){function t(){$(e+" "+n).removeClass(n.substring(1))}var e=".post-toc",i=$(e),n=".active-current";i.on("activate.bs.scrollspy",function(){var n=$(e+" .active").last();t(),n.addClass("active-current"),i.scrollTop(n.offset().top-i.offset().top+i.scrollTop()-i.height()/2)}).on("clear.bs.scrollspy",t),$("body").scrollspy({target:e})}()}),$(document).ready(function(){var t=$("html"),e=$.isFunction(t.velocity);$(".sidebar-nav li").on("click",function(){var t=$(this);if(!t.hasClass("sidebar-nav-active")){var i=$(".sidebar-panel-active"),n=$("."+t.data("target"));e?i.velocity("transition.slideUpOut",200,function(){n.velocity("stop").velocity("transition.slideDownIn",200).addClass("sidebar-panel-active")}):i.animate({opacity:0},200,function(){i.hide(),n.stop().css({opacity:0,display:"block"}).animate({opacity:1},200,function(){i.removeClass("sidebar-panel-active"),n.addClass("sidebar-panel-active")})}),t.siblings().removeClass("sidebar-nav-active"),t.addClass("sidebar-nav-active")}}),$(".post-toc a").on("click",function(i){i.preventDefault();var n=NexT.utils.escapeSelector(this.getAttribute("href")),r=$(n).offset().top;e?t.velocity("stop").velocity("scroll",{offset:r+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:r},500)});var i=$(".post-toc-content"),n="post"===CONFIG.sidebar.display||"always"===CONFIG.sidebar.display,r=i.length>0&&i.html().trim().length>0;n&&r&&(CONFIG.motion.enable?NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}:NexT.utils.displaySidebar())})}},function(t,e,i){"use strict";var n=void 0;window.CONFIG.leancloud.enable&&(n=i(17)).initialize(window.CONFIG.leancloud.appID,window.CONFIG.leancloud.appKey),t.exports=function(){window.CONFIG.leancloud.enable&&$(function(){var t,e,i,r,o,s,a,l,u,h=n.Object.extend("Counter");1==$(".leancloud_visitors").length?(o=h,s=$(".leancloud_visitors"),a=s.attr("id").trim(),l=s.attr("data-flag-title").trim(),(u=new n.Query(o)).equalTo("url",a),u.find().then(function(t){if(t.length>0){var e=t[0];e.save(null,{fetchWhenSave:!0}),e.increment("time"),e.save().then(function(t){$(document.getElementById(a)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to save Visitor num, with error message: "+e.message)})}else{var i=new o,r=new n.ACL;r.setPublicReadAccess(!0),r.setPublicWriteAccess(!0),i.setACL(r),i.set("title",l),i.set("url",a),i.set("time",1),i.save().then(function(t){$(document.getElementById(a)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to create")})}}).then(function(t){console.log("Error:"+t.code+" "+t.message)})):$(".post-title-link").length>1&&(t=h,e=new n.Query(t),i=[],(r=$(".leancloud_visitors")).each(function(){i.push($(this).attr("id").trim())}),e.containedIn("url",i),e.find().then(function(t){if(0!==t.length){for(var e=0;e<t.length;e++){var n=t[e],o=n.get("url"),s=n.get("time"),a=document.getElementById(o);$(a).find(".leancloud-visitors-count").text(s)}for(e=0;e<i.length;e++){o=i[e],a=document.getElementById(o);var l=$(a).find(".leancloud-visitors-count");""==l.text()&&l.text(0)}}else r.find(".leancloud-visitors-count").text(0)}).then(function(t,e){console.log("Error: "+e.code+" "+e.message)}))})}},function(t,e,i){"use strict";i(20),t.exports=function(){$(".post-share").length&&$(".post-share").share({disabled:["tencent","douban","linkedin","diandian","facebook","google"],wechatQrcodeTitle:"微信扫一扫",wechatQrcodeHelper:"<p>微信扫一扫，右上角分享</p>",source:CONFIG.site.title})}},function(t,e,i){"use strict";window.FastClick=i(7),i(8),i(9)(window.$),window.notie=i(10),i(11),i(12),i(13),i(2)(),i(14),i(3)(),i(15),i(16),i(4)(),i(5)(),i(21),i(23),i(24),i(25),i(27),i(29),i(30),i(31),i(34),i(35)},function(t,e,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function o(t,e){var i;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!o.notNeeded(t)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=0,s=n.length;r<s;r++)this[n[r]]=function(t,e){return function(){return t.apply(e,arguments)}}(this[n[r]],this);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,i.hijacked||i,n):r.call(t,e,i,n)},t.addEventListener=function(e,i,n){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(t,e,i,n)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null)}}var s=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!s,l=/iP(ad|hone|od)/.test(navigator.userAgent)&&!s,u=l&&/OS 4_\d(_\d)?/.test(navigator.userAgent),h=l&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;o.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(l&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},o.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},o.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},o.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},o.prototype.focus=function(t){var e;l&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},o.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},o.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],l){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},o.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},o.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},o.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(t){var e,i,n,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,h&&(o=t.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),a)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-i>100||l&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),l&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return!(!l||u||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},o.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(t){return!(this.targetElement&&!t.forwardedTouchEvent&&t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),1))},o.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},o.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.notNeeded=function(t){var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&((n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===t.style.touchAction||"manipulation"===t.style.touchAction},o.attach=function(t,e){return new o(t,e)},"object"===r(i(0))&&i(0)?void 0!==(n=function(){return o}.call(e,i,e,t))&&(t.exports=n):void 0!==t&&t.exports?(t.exports=o.attach,t.exports.FastClick=o):window.FastClick=o}()},function(t,e,i){"use strict";(function(i){var n,r,o,s,a,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=void 0!==i?i:(void 0).window||(void 0).global,a=function(t){function e(t,e){this.settings=n(i,e||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}var i={src:"data-src",srcset:"data-srcset",selector:".lazyload"},n=function t(){var e={},i=!1,n=0,r=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],n++);n<r;n++){!function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i&&"[object Object]"===Object.prototype.toString.call(n[r])?e[r]=t(!0,e[r],n[r]):e[r]=n[r])}(arguments[n])}return e};if(e.prototype={init:function(){if(t.IntersectionObserver){var e=this;this.observer=new IntersectionObserver(function(t){t.forEach(function(t){if(t.intersectionRatio>0){e.observer.unobserve(t.target);var i=t.target.getAttribute(e.settings.src),n=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(i&&(t.target.src=i),n&&(t.target.srcset=n)):t.target.style.backgroundImage="url("+i+")"}})},{root:null,rootMargin:"0px",threshold:[0]}),this.images.forEach(function(t){e.observer.observe(t)})}else this.loadImages()},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var t=this;this.images.forEach(function(e){var i=e.getAttribute(t.settings.src),n=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(i&&(e.src=i),n&&(e.srcset=n)):e.style.backgroundImage="url("+i+")"})}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,i){return new e(t,i)},t.jQuery){var r=t.jQuery;r.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new e(r.makeArray(this),t),this}}return e},"object"===l(e)?t.exports=a(s):(r=[],n=a(s),void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o))}).call(e,i(1))},function(t,e,i){"use strict";t.exports=function(t){var e=t("html"),i=t(window),n=t(document),r=t.fancybox=function(){r.open.apply(this,arguments)},o=navigator.userAgent.match(/msie/i),s=null,a=void 0!==document.createTouch,l=function(e){return e&&e.hasOwnProperty&&e instanceof t},u=function(e){return e&&"string"===t.type(e)},h=function(t){return u(t)&&t.indexOf("%")>0},c=function(t,e){var i=parseInt(t,10)||0;return e&&h(t)&&(i=r.getViewport()[e]/100*i),Math.ceil(i)},f=function(t,e){return c(t,e)+"px"};t.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!a,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(o?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:t.noop,beforeLoad:t.noop,afterLoad:t.noop,beforeShow:t.noop,afterShow:t.noop,beforeChange:t.noop,beforeClose:t.noop,afterClose:t.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,i){if(e&&(t.isPlainObject(i)||(i={}),!1!==r.close(!0)))return t.isArray(e)||(e=l(e)?t(e).get():[e]),t.each(e,function(n,o){var s,a,h,c,f,_,p,d={};"object"===t.type(o)&&(o.nodeType&&(o=t(o)),l(o)?(d={href:o.data("fancybox-href")||o.attr("href"),title:t("<div/>").text(o.data("fancybox-title")||o.attr("title")||"").html(),isDom:!0,element:o},t.metadata&&t.extend(!0,d,o.metadata())):d=o),s=i.href||d.href||(u(o)?o:null),a=void 0!==i.title?i.title:d.title||"",!(c=(h=i.content||d.content)?"html":i.type||d.type)&&d.isDom&&((c=o.data("fancybox-type"))||(c=(f=o.prop("class").match(/fancybox\.(\w+)/))?f[1]:null)),u(s)&&(c||(r.isImage(s)?c="image":r.isSWF(s)?c="swf":"#"===s.charAt(0)?c="inline":u(o)&&(c="html",h=o)),"ajax"===c&&(s=(_=s.split(/\s+/,2)).shift(),p=_.shift())),h||("inline"===c?s?h=t(u(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):d.isDom&&(h=o):"html"===c?h=s:c||s||!d.isDom||(c="inline",h=o)),t.extend(d,{href:s,type:c,content:h,title:a,selector:p}),e[n]=d}),r.opts=t.extend(!0,{},r.defaults,i),void 0!==i.keys&&(r.opts.keys=!!i.keys&&t.extend({},r.defaults.keys,i.keys)),r.group=e,r._start(r.opts.index)},cancel:function(){var t=r.coming;t&&!1===r.trigger("onCancel")||(r.hideLoading(),t&&(r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t)))},close:function(e){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==e?(r.isOpen=r.isOpened=!1,r.isClosing=!0,t(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(t(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},i=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},o=function(){e(),n.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===t||!r.player.isActive&&!1!==t?r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,n.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":i,"beforeLoad.player":e}),i(),r.trigger("onPlayStart")):o()},next:function(t){var e=r.current;e&&(u(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(u(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var n=r.current;n&&(t=c(t),r.direction=e||n.direction[t>=n.index?"next":"prev"],r.router=i||"jumpto",n.loop&&(t<0&&(t=n.group.length+t%n.group.length),t%=n.group.length),void 0!==n.group[t]&&(r.cancel(),r._start(t)))},reposition:function(e,i){var n,o=r.current,s=o?o.wrap:null;s&&(n=r._getPosition(i),e&&"scroll"===e.type?(delete n.position,s.stop(!0,!0).animate(n,200)):(s.css(n),o.pos=t.extend({},o.dim,n)))},update:function(t){var e=t&&t.originalEvent&&t.originalEvent.type,i=!e||"orientationchange"===e;i&&(clearTimeout(s),s=null),r.isOpen&&!s&&(s=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&r._setDimension(),"scroll"===e&&n.canShrink||r.reposition(t),r.trigger("onUpdate"),s=null)},i&&!a?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView="boolean"===t.type(e)?e:!r.current.fitToView,a&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){n.unbind(".loading"),t("#fancybox-loading").remove()},showLoading:function(){var e,i;r.hideLoading(),e=t(r.opts.tpl.loading).click(r.cancel).appendTo("body"),n.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(i=r.getViewport(),e.css({position:"absolute",top:.5*i.h+i.y,left:.5*i.w+i.x})),r.trigger("onLoading")},getViewport:function(){var t=r.current&&r.current.locked||!1,e={x:i.scrollLeft(),y:i.scrollTop()};return t&&t.length?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=a&&window.innerWidth?window.innerWidth:i.width(),e.h=a&&window.innerHeight?window.innerHeight:i.height()),e},unbindEvents:function(){r.wrap&&l(r.wrap)&&r.wrap.unbind(".fb"),n.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var e,o=r.current;o&&(i.bind("orientationchange.fb"+(a?"":" resize.fb")+(o.autoCenter&&!o.locked?" scroll.fb":""),r.update),(e=o.keys)&&n.bind("keydown.fb",function(i){var n=i.which||i.keyCode,s=i.target||i.srcElement;if(27===n&&r.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||s&&(s.type||t(s).is("[contenteditable]"))||t.each(e,function(e,s){return o.group.length>1&&void 0!==s[n]?(r[e](s[n]),i.preventDefault(),!1):t.inArray(n,s)>-1?(r[e](),i.preventDefault(),!1):void 0})}),t.fn.mousewheel&&o.mouseWheel&&r.wrap.bind("mousewheel.fb",function(e,i,n,s){for(var a=e.target||null,l=t(a),u=!1;l.length&&!(u||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)u=(h=l[0])&&!(h.style.overflow&&"hidden"===h.style.overflow)&&(h.clientWidth&&h.scrollWidth>h.clientWidth||h.clientHeight&&h.scrollHeight>h.clientHeight),l=t(l).parent();var h;0===i||u||r.group.length>1&&!o.canShrink&&(s>0||n>0?r.prev(s>0?"down":"left"):(s<0||n<0)&&r.next(s<0?"up":"right"),e.preventDefault())}))},trigger:function(e,i){var o,s=i||r.coming||r.current;if(s){if(t.isFunction(s[e])&&(o=s[e].apply(s,Array.prototype.slice.call(arguments,1))),!1===o)return!1;s.helpers&&t.each(s.helpers,function(i,n){n&&r.helpers[i]&&t.isFunction(r.helpers[i][e])&&r.helpers[i][e](t.extend(!0,{},r.helpers[i].defaults,n),s)})}n.trigger(e)},isImage:function(t){return u(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return u(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var i,n,o,s,l,u={};if(e=c(e),!(i=r.group[e]||null))return!1;if(s=(u=t.extend(!0,{},r.opts,i)).margin,l=u.padding,"number"===t.type(s)&&(u.margin=[s,s,s,s]),"number"===t.type(l)&&(u.padding=[l,l,l,l]),u.modal&&t.extend(!0,u,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),u.autoSize&&(u.autoWidth=u.autoHeight=!0),"auto"===u.width&&(u.autoWidth=!0),"auto"===u.height&&(u.autoHeight=!0),u.group=r.group,u.index=e,r.coming=u,!1!==r.trigger("beforeLoad")){if(o=u.type,n=u.href,!o)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=e,r[r.router](r.direction));if(r.isActive=!0,"image"!==o&&"swf"!==o||(u.autoHeight=u.autoWidth=!1,u.scrolling="visible"),"image"===o&&(u.aspectRatio=!0),"iframe"===o&&a&&(u.scrolling="scroll"),u.wrap=t(u.tpl.wrap).addClass("fancybox-"+(a?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+u.wrapCSS).appendTo(u.parent||"body"),t.extend(u,{skin:t(".fancybox-skin",u.wrap),outer:t(".fancybox-outer",u.wrap),inner:t(".fancybox-inner",u.wrap)}),t.each(["Top","Right","Bottom","Left"],function(t,e){u.skin.css("padding"+e,f(u.padding[t]))}),r.trigger("onReady"),"inline"===o||"html"===o){if(!u.content||!u.content.length)return r._error("content")}else if(!n)return r._error("href");"image"===o?r._loadImage():"ajax"===o?r._loadAjax():"iframe"===o?r._loadIframe():r._afterLoad()}else r.coming=null},_error:function(e){t.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,!0!==t.complete&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=t.ajax(t.extend({},e.ajax,{url:e.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,i=t(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",a?"auto":e.iframe.scrolling).attr("src",e.href);t(e.wrap).bind("onReset",function(){try{t(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),e.iframe.preload&&(r.showLoading(),i.one("load",function(){t(this).data("ready",1),a||t(this).bind("load.fb",r.update),t(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),e.content=i.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var t,e,i=r.group,n=r.current,o=i.length,s=n.preload?Math.min(n.preload,o-1):0;for(e=1;e<=s;e+=1)"image"===(t=i[(n.index+e)%o]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var e,i,n,o,s,a,u=r.coming,h=r.current,c="fancybox-placeholder";if(r.hideLoading(),u&&!1!==r.isActive){if(!1===r.trigger("afterLoad",u,h))return u.wrap.stop(!0).trigger("onReset").remove(),void(r.coming=null);switch(h&&(r.trigger("beforeChange",h),h.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),e=u,i=u.content,n=u.type,o=u.scrolling,t.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:h}),s=e.href,n){case"inline":case"ajax":case"html":e.selector?i=t("<div>").html(i).find(e.selector):l(i)&&(i.data(c)||i.data(c,t('<div class="'+c+'"></div>').insertAfter(i).hide()),i=i.show().detach(),e.wrap.bind("onReset",function(){t(this).find(i).length&&i.hide().replaceAll(i.data(c)).data(c,!1)}));break;case"image":i=e.tpl.image.replace(/\{href\}/g,s);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',a="",t.each(e.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',a+=" "+t+'="'+e+'"'}),i+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}l(i)&&i.parent().is(e.inner)||e.inner.append(i),r.trigger("beforeShow"),e.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?h.prevMethod&&r.transitions[h.prevMethod]():t(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,i,n,o,s,a,l,u,_,p,d,m,g,v,y,$,w,b=r.getViewport(),T=0,x=r.wrap,S=r.skin,P=r.inner,O=r.current,E=O.width,A=O.height,C=O.minWidth,L=O.minHeight,I=O.maxWidth,M=O.maxHeight,R=O.scrolling,D=O.scrollOutside?O.scrollbarWidth:0,k=O.margin,N=c(k[1]+k[3]),F=c(k[0]+k[2]);if(x.add(S).add(P).width("auto").height("auto").removeClass("fancybox-tmp"),n=N+(e=c(S.outerWidth(!0)-S.width())),o=F+(i=c(S.outerHeight(!0)-S.height())),s=h(E)?(b.w-n)*c(E)/100:E,a=h(A)?(b.h-o)*c(A)/100:A,"iframe"===O.type){if(v=O.content,O.autoHeight&&1===v.data("ready"))try{v[0].contentWindow.document.location&&(P.width(s).height(9999),y=v.contents().find("body"),D&&y.css("overflow-x","hidden"),a=y.outerHeight(!0))}catch(t){}}else(O.autoWidth||O.autoHeight)&&(P.addClass("fancybox-tmp"),O.autoWidth||P.width(s),O.autoHeight||P.height(a),O.autoWidth&&(s=P.width()),O.autoHeight&&(a=P.height()),P.removeClass("fancybox-tmp"));if(E=c(s),A=c(a),_=s/a,C=c(h(C)?c(C,"w")-n:C),I=c(h(I)?c(I,"w")-n:I),L=c(h(L)?c(L,"h")-o:L),l=I,u=M=c(h(M)?c(M,"h")-o:M),O.fitToView&&(I=Math.min(b.w-n,I),M=Math.min(b.h-o,M)),m=b.w-N,g=b.h-F,O.aspectRatio?(E>I&&(A=c((E=I)/_)),A>M&&(E=c((A=M)*_)),E<C&&(A=c((E=C)/_)),A<L&&(E=c((A=L)*_))):(E=Math.max(C,Math.min(E,I)),O.autoHeight&&"iframe"!==O.type&&(P.width(E),A=P.height()),A=Math.max(L,Math.min(A,M))),O.fitToView)if(P.width(E).height(A),x.width(E+e),p=x.width(),d=x.height(),O.aspectRatio)for(;(p>m||d>g)&&E>C&&A>L&&!(T++>19);)A=Math.max(L,Math.min(M,A-10)),(E=c(A*_))<C&&(A=c((E=C)/_)),E>I&&(A=c((E=I)/_)),P.width(E).height(A),x.width(E+e),p=x.width(),d=x.height();else E=Math.max(C,Math.min(E,E-(p-m))),A=Math.max(L,Math.min(A,A-(d-g)));D&&"auto"===R&&A<a&&E+e+D<m&&(E+=D),P.width(E).height(A),x.width(E+e),p=x.width(),d=x.height(),$=(p>m||d>g)&&E>C&&A>L,w=O.aspectRatio?E<l&&A<u&&E<s&&A<a:(E<l||A<u)&&(E<s||A<a),t.extend(O,{dim:{width:f(p),height:f(d)},origWidth:s,origHeight:a,canShrink:$,canExpand:w,wPadding:e,hPadding:i,wrapSpace:d-S.outerHeight(!0),skinSpace:S.height()-A}),!v&&O.autoHeight&&A>L&&A<M&&!w&&P.height("auto")},_getPosition:function(t){var e=r.current,i=r.getViewport(),n=e.margin,o=r.wrap.width()+n[1]+n[3],s=r.wrap.height()+n[0]+n[2],a={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&s<=i.h&&o<=i.w?a.position="fixed":e.locked||(a.top+=i.y,a.left+=i.x),a.top=f(Math.max(a.top,a.top+(i.h-s)*e.topRatio)),a.left=f(Math.max(a.left,a.left+(i.w-o)*e.leftRatio)),a},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0),r.update(),(e.closeClick||e.nextClick&&r.group.length>1)&&r.inner.css("cursor","pointer").bind("click.fb",function(i){t(i.target).is("a")||t(i.target).parent().is("a")||(i.preventDefault(),r[e.closeClick?"close":"next"]())}),e.closeBtn&&t(e.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&t(e.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&t(e.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play(!0)):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,t(".fancybox-wrap").trigger("onReset").remove(),t.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",e)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,i=t.orig,n={},o=50,s=50,a=t.hPadding,u=t.wPadding,h=r.getViewport();return!i&&t.isDom&&e.is(":visible")&&((i=e.find("img:first")).length||(i=e)),l(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),s=i.outerHeight())):(n.top=h.y+(h.h-s)*t.topRatio,n.left=h.x+(h.w-o)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(n.top-=h.y,n.left-=h.x),{top:f(n.top-a*t.topRatio),left:f(n.left-u*t.leftRatio),width:f(o+u),height:f(s+a)}},step:function(t,e){var i,n,o=e.prop,s=r.current,a=s.wrapSpace,l=s.skinSpace;"width"!==o&&"height"!==o||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(i=1-i),n=t-("width"===o?s.wPadding:s.hPadding),r.skin[o](c("width"===o?n:n-a*i)),r.inner[o](c("width"===o?n:n-a*i-l*i)))},zoomIn:function(){var e=r.current,i=e.pos,n=e.openEffect,o="elastic"===n,s=t.extend({opacity:1},i);delete s.position,o?(i=this.getOrigPosition(),e.openOpacity&&(i.opacity=.1)):"fade"===n&&(i.opacity=.1),r.wrap.css(i).animate(s,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t,e=r.current,i=e.nextEffect,n=e.pos,o={opacity:1},s=r.direction;n.opacity=.1,"elastic"===i&&(t="down"===s||"up"===s?"top":"left","down"===s||"right"===s?(n[t]=f(c(n[t])-200),o[t]="+=200px"):(n[t]=f(c(n[t])+200),o[t]="-=200px")),"none"===i?r._afterZoomIn():r.wrap.css(n).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,i=e.prevEffect,n={opacity:.1},o=r.direction;"elastic"===i&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),e.wrap.animate(n,{duration:"none"===i?0:e.prevSpeed,easing:e.prevEasing,complete:function(){t(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!a,fixed:!0},overlay:null,fixed:!1,el:t("html"),create:function(e){var i;e=t.extend({},this.defaults,e),this.overlay&&this.close(),i=r.coming?r.coming.parent:e.parent,this.overlay=t('<div class="fancybox-overlay"></div>').appendTo(i&&i.length?i:"body"),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var n=this;e=t.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(i.bind("resize.overlay",t.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if(t(e.target).hasClass("fancybox-overlay"))return r.isActive?r.close():n.close(),!1}),this.overlay.css(e.css).show()},close:function(){i.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(t(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),i.scrollTop(this.scrollV).scrollLeft(this.scrollH)),t(".fancybox-overlay").remove().hide(),t.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),o?(t=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),n.width()>t&&(e=n.width())):n.width()>i.width()&&(e=n.width()),this.overlay.width(e).height(n.height())},onReady:function(e,i){var n=this.overlay;t(".fancybox-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&i.fixed&&(i.locked=this.overlay.append(i.wrap),i.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,n){n.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&t("*").filter(function(){return"fixed"===t(this).css("position")&&!t(this).hasClass("fancybox-overlay")&&!t(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=i.scrollTop(),this.scrollH=i.scrollLeft(),this.el.addClass("fancybox-lock"),i.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,t.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var i,n,s=r.current,a=s.title,l=e.type;if(t.isFunction(a)&&(a=a.call(s.element,s)),u(a)&&""!==t.trim(a)){switch(i=t('<div class="fancybox-title fancybox-title-'+l+'-wrap">'+a+"</div>"),l){case"inside":n=r.skin;break;case"outside":n=r.wrap;break;case"over":n=r.inner;break;default:n=r.skin,i.appendTo("body"),o&&i.width(i.width()),i.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(c(i.css("margin-bottom")))}i["top"===e.position?"prependTo":"appendTo"](n)}}},t.fn.fancybox=function(e){var i,o=t(this),s=this.selector||"",a=function(n){var a,l,u=t(this).blur(),h=i;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||u.is(".fancybox-wrap")||(a=e.groupAttr||"data-fancybox-group",(l=u.attr(a))||(a="rel",l=u.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(h=(u=(u=s.length?t(s):o).filter("["+a+'="'+l+'"]')).index(this)),e.index=h,!1!==r.open(u,e)&&n.preventDefault())};return i=(e=e||{}).index||0,s&&!1!==e.live?n.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):o.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},n.ready(function(){var i,n,o,s;void 0===t.scrollbarWidth&&(t.scrollbarWidth=function(){var e=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),i=e.children(),n=i.innerWidth()-i.height(99).innerWidth();return e.remove(),n}),void 0===t.support.fixedPosition&&(t.support.fixedPosition=(o=t('<div style="position:fixed;top:20px;"></div>').appendTo("body"),s=20===o[0].offsetTop||15===o[0].offsetTop,o.remove(),s)),t.extend(r.defaults,{scrollbarWidth:t.scrollbarWidth(),fixed:t.support.fixedPosition,parent:t("body")}),i=t(window).width(),e.addClass("fancybox-lock-test"),n=t(window).width(),e.removeClass("fancybox-lock-test"),t("<style type='text/css'>.fancybox-margin{margin-right:"+(n-i)+"px;}</style>").appendTo("head")})}},function(t,e,i){"use strict";"function"==typeof Symbol&&Symbol.iterator,t.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(2)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n((n(i(5)),i(6))),s=n(i(8)),a=n(i(9)),l={info:n(i(7)).default,success:s.default,warning:a.default,error:o.default},u=document.querySelector.bind(document),h=(document.querySelectorAll.bind(document),function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.text=e,this.opts=i,this.events={},this.notify()}return r(t,[{key:"init",value:function(){var t=u(".noties-"+this.opts.position);t?this.noties=t:(this.noties=document.createElement("div"),this.noties.className="noties noties-"+this.opts.position,u("body").appendChild(this.noties))}},{key:"notify",value:function(){var t=this;this.init(),this.notie=document.createElement("div"),this.notie.style.width=this.opts.width+"px",this.notie.className="notie notie-"+this.opts.type+(this.opts.autoHide?"":" notie-auto-hide-disabled"),this.notie.innerHTML='\n    <div class="notie-body">\n      <span class="notie-svg">'+l[this.opts.type]+'</span>\n      <span class="notie-text">'+this.text+"</span>\n    </div>\n    ";var e=this.noties.firstChild;this.noties.insertBefore(this.notie,e),setTimeout(function(){t.notie.classList.add("notie-shown")},100),this.opts.autoHide&&this.startTimeout(),this.registerEvents()}},{key:"registerEvents",value:function(){var t,e,i=this;this.opts.autoHide?(this.events.mouseover=function(){clearTimeout(i.timeout),i.timeout=null},this.events.mouseleave=function(){return i.startTimeout()},this.notie.addEventListener("mouseover",this.events.mouseover,!1),this.notie.addEventListener("mouseleave",this.events.mouseleave,!1)):(this.notie.addEventListener("click",function(){return i.removeNotie()}),t=this.notie.querySelectorAll("[notie-prevent]"),e=function(t){t.addEventListener("click",function(t){return t.stopPropagation()},!1)},Array.prototype.forEach.call(t,e))}},{key:"startTimeout",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.timeout;this.timeout=setTimeout(function(){t.removeNotie()},e)}},{key:"removeNotie",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.notie;e.classList.remove("notie-shown"),setTimeout(function(){t.noties.removeChild(e),e=null},200)}}]),t}());e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.position,n=void 0===i?"top-right":i,r=e.type,o=void 0===r?"info":r,s=e.autoHide,a=void 0===s||s,l=e.timeout,u=void 0===l?3e3:l,c=e.width;return new h(t,{type:o,position:n,autoHide:a,timeout:u,width:void 0===c?240:c})},t.exports=e.default},function(t,e,i){(t.exports=i(1)()).push([t.id,".noties {\n  position: fixed;\n  max-width: 80%;\n  z-index: 9999\n}\n\n.noties:empty {\n  display: none\n}\n\n.noties-top-right {\n  right: 0;\n  top: 20px\n}\n\n.noties-top-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-top-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-top-left {\n  left: 0;\n  top: 20px\n}\n\n.noties-top-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-top-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-bottom-right {\n  right: 0;\n  bottom: 20px\n}\n\n.noties-bottom-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-bottom-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-bottom-left {\n  left: 0;\n  bottom: 20px\n}\n\n.noties-bottom-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-bottom-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-top-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  top: 0\n}\n\n.noties-top-center .notie {\n  -ms-transform: translateY(-100%);\n      transform: translateY(-100%)\n}\n\n.noties-top-center .notie.notie-shown {\n  -ms-transform: translateY(20px);\n      transform: translateY(20px)\n}\n\n.noties-bottom-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  bottom: 0\n}\n\n.noties-bottom-center .notie {\n  -ms-transform: translateY(100%);\n      transform: translateY(100%)\n}\n\n.noties-bottom-center .notie.notie-shown {\n  -ms-transform: translateY(-20px);\n      transform: translateY(-20px)\n}\n\n.notie {\n  background-color: #ddd;\n  opacity: 0;\n  transition: transform .3s, opacity .3s;\n  border: 1px solid #ddd;\n  font: 14px/1.4 Helvetica, serif;\n  word-wrap: break-word\n}\n\n.notie:not(:last-child) {\n  margin-bottom: 10px\n}\n\n.notie.notie-auto-hide-disabled {\n  cursor: pointer\n}\n\n.notie.notie-shown {\n  opacity: 1\n}\n\n.notie .notie-body {\n  padding: 10px 12px\n}\n\n.notie .notie-svg {\n  height: 23px;\n  display: block;\n  float: left\n}\n\n.notie .notie-text {\n  display: block;\n  padding-left: 30px;\n  padding-top: 2px\n}\n\n.notie svg {\n  height: 23px;\n  width: 23px\n}\n\n.notie.notie-info {\n  background-color: #C6E4F4;\n  border-color: #A9D3EB;\n  color: #477DAC;\n\n  a {\n    color: #477DAC\n  }\n}\n\n.notie.notie-error {\n  background-color: #EAC1BD;\n  border-color: #D7A9A6;\n  color: #AB2925;\n\n  a {\n    color: #AB2925\n  }\n}\n\n.notie.notie-success {\n  background-color: #D9F1CF;\n  border-color: #C8E1BF;\n  color: #748C6C;\n\n  a {\n    color: #748C6C\n  }\n}\n\n.notie.notie-warning {\n  background-color: #F7F2CF;\n  border-color: #E8E2B2;\n  color: #9C7D45;\n\n  a {\n    color: #9C7D45\n  }\n}\n",""])},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=h[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(l(n.parts[o],e))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(l(n.parts[o],e));h[n.id]={id:n.id,refs:1,parts:s}}}}function r(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],o=r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(s):e.push(i[o]={id:o,parts:[s]})}return e}function o(t,e){var i=_(),n=m[m.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function l(t,e){var i,n,r,l,h;if(e.singleton){var c=d++;i=p||(p=a(e)),n=u.bind(null,i,c,!1),r=u.bind(null,i,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(l=e,(h=document.createElement("link")).rel="stylesheet",o(l,h),n=function(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}.bind(null,i=h),r=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=a(e),n=function(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){s(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function u(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var h={},c=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},f=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),_=c(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,d=0,m=[];t.exports=function(t,e){void 0===(e=e||{}).singleton&&(e.singleton=f()),void 0===e.insertAt&&(e.insertAt="bottom");var i=r(t);return n(i,e),function(t){for(var o=[],s=0;s<i.length;s++){var a=i[s];(l=h[a.id]).refs--,o.push(l)}t&&n(r(t),e);for(s=0;s<o.length;s++){var l;if(0===(l=o[s]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var g,v=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")})},function(t,e,i){var n=i(3);"string"==typeof n&&(n=[[t.id,n,""]]),i(4)(n,{}),n.locals&&(t.exports=n.locals)},function(t,e){t.exports='<svg fill="#AB2925" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'},function(t,e){t.exports='<svg fill="#477DAC" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>'},function(t,e){t.exports='<svg fill="#748C6C" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></svg>'},function(t,e){t.exports='<svg fill="#9C7D45" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>'}])},function(t,e,i){"use strict";NexT.utils=NexT.$u={wrapImageWithFancyBox:function(){$(".content img").not("[hidden]").not(".no-fancybox").not(".group-picture img, .post-gallery img").not("#QR img").not(".post-share img").each(function(){var t=$(this),e=t.attr("title"),i=t.parent("a");if(i.size()<1){var n=t.attr("data-original")?this.getAttribute("data-original"):this.getAttribute("src");i=t.wrap('<a href="'+n+'"></a>').parent("a")}i.addClass("fancybox fancybox.image"),i.attr("rel","group"),e&&(i.append('<p class="image-caption">'+e+"</p>"),i.attr("title",e))}),$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})},lazyLoadPostsImages:function(){$("#posts").find("img").lazyload({effect:"fadeIn",threshold:0})},registerTabsTag:function(){var t=".tabs ul.nav-tabs ";$(function(){$(window).bind("hashchange",function(){var e=location.hash;""!==e&&($(t+'li:has(a[href="'+e+'"])').addClass("active").siblings().removeClass("active"),$(e).addClass("active").siblings().removeClass("active"))}).trigger("hashchange")}),$(t+".tab").on("click",function(t){if(t.preventDefault(),!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");var e=$(this).find("a").attr("href");$(e).addClass("active").siblings().removeClass("active"),""!==location.hash&&history.pushState("",document.title,window.location.pathname+window.location.search)}})},registerESCKeyEvent:function(){$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&($(".search-popup").hide(),$(".search-popup-overlay").remove(),$("body").css("overflow",""))})},embeddedVideoTransformer:function(){function t(t){return{width:t.width(),height:t.height()}}function e(t,e){return e/t*100}var i=$("iframe"),n=new RegExp(["www.youtube.com","player.vimeo.com","player.youku.com","music.163.com","www.tudou.com"].join("|"));i.each(function(){var i,r=$(this),o=t(r);if(this.src.search(n)>0){var s=e(o.width,o.height);r.width("100%").height("100%").css({position:"absolute",top:"0",left:"0"});var a=document.createElement("div");a.className="fluid-vids",a.style.position="relative",a.style.marginBottom="20px",a.style.width="100%",a.style.paddingTop=s+"%",""===a.style.paddingTop&&(a.style.paddingTop="50%"),this.parentNode.insertBefore(a,this),a.appendChild(this),this.src.search("music.163.com")>0&&((i=t(r)).width>o.width||i.height<o.height)&&(a.style.paddingTop=e(i.width,o.height)+"%")}})},addActiveClassToMenuItem:function(){var t=window.location.pathname;t="/"===t?t:t.substring(0,t.length-1),$('.menu-item a[href^="'+t+'"]:first').parent().addClass("menu-item-active")},hasMobileUA:function(){return/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g.test(window.navigator.userAgent)},isTablet:function(){return window.screen.width<992&&window.screen.width>767&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},escapeSelector:function(t){return t.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},displaySidebar:function(){!this.isDesktop()||this.isPisces()||this.isGemini()||$(".sidebar-toggle").trigger("click")},isMist:function(){return"Mist"===CONFIG.scheme},isPisces:function(){return"Pisces"===CONFIG.scheme},isGemini:function(){return"Gemini"===CONFIG.scheme},getScrollbarWidth:function(){var t=$("<div />").addClass("scrollbar-measure").prependTo("body"),e=t[0],i=e.offsetWidth-e.clientWidth;return t.remove(),i},getContentVisibilityHeight:function(){var t=$("#content").height(),e=$(window).height();return t>e?t-e:$(document).height()-e},getSidebarb2tHeight:function(){return CONFIG.sidebar.b2t?$(".back-to-top").height():0},getSidebarSchemePadding:function(){var t="block"==$(".sidebar-nav").css("display")?$(".sidebar-nav").outerHeight(!0):0,e=$(".sidebar-inner"),i=e.innerWidth()-e.width();return this.isPisces()||this.isGemini()?2*i+t+2*CONFIG.sidebar.offset+this.getSidebarb2tHeight():2*i+t/2}},$(document).ready(function(){function t(t){t=t||"auto",$(".site-overview, .post-toc").css("max-height",t)}!function(){var e;$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){t(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())},0)});var i=NexT.utils.getScrollbarWidth();$(".sidebar-panel").height()>document.body.clientHeight-NexT.utils.getSidebarSchemePadding()&&$(".site-overview").css("width","calc(100% + "+i+"px)"),$(".post-toc").css("width","calc(100% + "+i+"px)"),t(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())}()})},function(t,e,i){"use strict";$(document).ready(function(){function t(t){this.el=$(t.el),this.status=$.extend({},{init:{width:"100%",opacity:1,left:0,rotateZ:0,top:0}},t.status)}NexT.motion={};var e={lines:[],push:function(t){this.lines.push(t)},init:function(){this.lines.forEach(function(t){t.init()})},arrow:function(){this.lines.forEach(function(t){t.arrow()})},close:function(){this.lines.forEach(function(t){t.close()})}};t.prototype.init=function(){this.transform("init")},t.prototype.arrow=function(){this.transform("arrow")},t.prototype.close=function(){this.transform("close")},t.prototype.transform=function(t){this.el.velocity("stop").velocity(this.status[t])};var i,n,r=new t({el:".sidebar-toggle-line-first",status:{arrow:{width:"50%",rotateZ:"-45deg",top:"2px"},close:{width:"100%",rotateZ:"-45deg",top:"5px"}}}),o=new t({el:".sidebar-toggle-line-middle",status:{arrow:{width:"90%"},close:{opacity:0}}}),s=new t({el:".sidebar-toggle-line-last",status:{arrow:{width:"50%",rotateZ:"45deg",top:"-2px"},close:{width:"100%",rotateZ:"45deg",top:"-5px"}}});e.push(r),e.push(o),e.push(s),{toggleEl:$(".sidebar-toggle"),dimmerEl:$("#sidebar-dimmer"),sidebarEl:$(".sidebar"),isSidebarVisible:!1,init:function(){this.toggleEl.on("click",this.clickHandler.bind(this)),this.dimmerEl.on("click",this.clickHandler.bind(this)),this.toggleEl.on("mouseenter",this.mouseEnterHandler.bind(this)),this.toggleEl.on("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.on("touchstart",this.touchstartHandler.bind(this)),this.sidebarEl.on("touchend",this.touchendHandler.bind(this)),this.sidebarEl.on("touchmove",function(t){t.preventDefault()}),$(document).on("sidebar.isShowing",function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:"320px"},200)}).on("sidebar.isHiding",function(){})},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar(),this.isSidebarVisible=!this.isSidebarVisible},mouseEnterHandler:function(){this.isSidebarVisible||e.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||e.init()},touchstartHandler:function(t){i=t.originalEvent.touches[0].clientX,n=t.originalEvent.touches[0].clientY},touchendHandler:function(t){var e=t.originalEvent.changedTouches[0].clientX,r=t.originalEvent.changedTouches[0].clientY;e-i>30&&Math.abs(r-n)<20&&this.clickHandler()},showSidebar:function(){var t=this;e.close(),this.sidebarEl.velocity("stop").velocity({width:"320px"},{display:"block",duration:200,begin:function(){$(".sidebar .motion-element").velocity("transition.slideRightIn",{stagger:50,drag:!0,complete:function(){t.sidebarEl.trigger("sidebar.motion.complete")}})},complete:function(){t.sidebarEl.addClass("sidebar-active"),t.sidebarEl.trigger("sidebar.didShow")}}),this.sidebarEl.trigger("sidebar.isShowing")},hideSidebar:function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:0}),this.sidebarEl.find(".motion-element").velocity("stop").css("display","none"),this.sidebarEl.velocity("stop").velocity({width:0},{display:"none"}),e.init(),this.sidebarEl.removeClass("sidebar-active"),this.sidebarEl.trigger("sidebar.isHiding"),$(".post-toc-wrap")&&("block"===$(".site-overview-wrap").css("display")?$(".post-toc-wrap").removeClass("motion-element"):$(".post-toc-wrap").addClass("motion-element"))}}.init(),NexT.motion.integrator={queue:[],cursor:-1,add:function(t){return this.queue.push(t),this},next:function(){this.cursor++;var t=this.queue[this.cursor];$.isFunction(t)&&t(NexT.motion.integrator)},bootstrap:function(){this.next()}},NexT.motion.middleWares={logo:function(t){function e(t,e){return{e:$(t),p:{translateX:e},o:{duration:500,sequenceQueue:!1}}}function i(t){return(t=Array.isArray(t)?t:[t]).every(function(t){return $.isFunction(t.size)&&t.size()>0})}var n=[],r=$(".brand"),o=$(".site-title"),s=$(".site-subtitle"),a=$(".logo-line-before i"),l=$(".logo-line-after i");r.size()>0&&n.push({e:r,p:{opacity:1},o:{duration:200}}),NexT.utils.isMist()&&i([a,l])&&n.push(e(a,"100%"),e(l,"-100%")),i(o)&&n.push({e:o,p:{opacity:1,top:180},o:{duration:200}}),i(s)&&n.push({e:s,p:{opacity:1,top:100},o:{duration:200}}),CONFIG.motion.async&&t.next(),n.length>0?(n[n.length-1].o.complete=function(){t.next()},$.Velocity.RunSequence(n)):t.next()},menu:function(t){CONFIG.motion.async&&t.next(),$(".menu-item").velocity("transition.slideDownIn",{display:null,duration:200,complete:function(){t.next()}})},postList:function(t){var e,i=$(".post-block, .pagination, .comments"),n=CONFIG.motion.transition.post_block,r=$(".post-header"),o=CONFIG.motion.transition.post_header,s=$(".post-body"),a=CONFIG.motion.transition.post_body,l=$(".collection-title, .archive-year"),u=CONFIG.motion.transition.coll_header,h=$(".sidebar-inner"),c=CONFIG.motion.transition.sidebar;i.size()>0?((e=window.postMotionOptions||{stagger:100,drag:!0}).complete=function(){CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&h.css({transform:"initial"}),t.next()},CONFIG.motion.transition.post_block&&i.velocity("transition."+n,e),CONFIG.motion.transition.post_header&&r.velocity("transition."+o,e),CONFIG.motion.transition.post_body&&s.velocity("transition."+a,e),CONFIG.motion.transition.coll_header&&l.velocity("transition."+u,e),CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&h.velocity("transition."+c,e)):t.next(),CONFIG.motion.async&&t.next()},sidebar:function(t){"always"===CONFIG.sidebar.display&&NexT.utils.displaySidebar(),t.next()}}})},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(e){return this.each(function(){var r=t(this),o=r.data("bs.affix"),s="object"==(void 0===e?"undefined":n(e))&&e;o||r.data("bs.affix",o=new i(this,s)),"string"==typeof e&&o[e]()})}var i=function e(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-n)&&"bottom";var a=null==this.affixed,l=a?r:o.top;return null!=i&&r<=i?"top":null!=n&&l+(a?s:e)>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,o=r.top,s=r.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=(void 0===r?"undefined":n(r))&&(s=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var l=this.getState(a,e,o,s);if(this.affixed!=l){null!=this.unpin&&this.$element.css("top","");var u="affix"+(l?"-"+l:""),h=t.Event(u+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(u).trigger(u.replace("affix","affixed")+".bs.affix")}"bottom"==l&&this.$element.offset({top:a-e-s})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery)},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var r=t(this),o=r.data("bs.scrollspy"),s="object"==(void 0===i?"undefined":n(i))&&i;o||r.data("bs.scrollspy",o=new e(this,s)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(NexT.utils.escapeSelector(r));return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var e,i=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i>=r)return a!=(e=s[s.length-1])&&this.activate(e);if(a&&i<o[0])return t(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=s[e]&&i>=o[e]&&(!o[e+1]||i<=o[e+1])&&this.activate(s[e])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery)},function(t,e,i){"use strict";$(document).ready(function(){$(document).trigger("bootstrap:before"),NexT.utils.isMobile()&&window.FastClick.attach(document.body),NexT.utils.lazyLoadPostsImages(),NexT.utils.registerESCKeyEvent(),$(".site-nav-toggle button").on("click",function(){var t=$(".site-nav"),e=t.hasClass("site-nav-on"),i=e?"slideUp":"slideDown",n=e?"removeClass":"addClass";t.stop()[i]("fast",function(){t[n]("site-nav-on")})}),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),CONFIG.tabs&&NexT.utils.registerTabsTag(),NexT.utils.embeddedVideoTransformer(),NexT.motion.integrator.add(NexT.motion.middleWares.logo).add(NexT.motion.middleWares.menu).add(NexT.motion.middleWares.postList).add(NexT.motion.middleWares.sidebar),$(document).trigger("motion:before"),CONFIG.motion.enable&&NexT.motion.integrator.bootstrap(),$(document).trigger("bootstrap:after")})},function(t,e,i){"use strict";if(document.getElementById("evanyou")){var n,r=function(){for(l.clearRect(0,0,h,c),n=[{x:0,y:.7*c+f},{x:0,y:.7*c-f}];n[1].x<h+f;)o(n[0],n[1])},o=function(t,e){l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(e.x,e.y);var i=e.x+(2*g()-.25)*f,r=s(e.y);l.lineTo(i,r),l.closePath(),p-=d/-50,l.fillStyle="#"+(127*m(p)+128<<16|127*m(p+d/3)+128<<8|127*m(p+d/3*2)+128).toString(16),l.fill(),n[0]=n[1],n[1]={x:i,y:r}},s=function t(e){var i=e+(2*g()-1.1)*f;return i>c||i<0?t(e):i},a=document.getElementById("evanyou"),l=a.getContext("2d"),u=window.devicePixelRatio||1,h=window.innerWidth,c=window.innerHeight,f=90,_=Math,p=0,d=2*_.PI,m=_.cos,g=_.random;a.width=h*u,a.height=c*u,l.scale(u,u),l.globalAlpha=.6,document.onclick=r,document.ontouchstart=r,r()}},function(t,e,i){"use strict";(function(t,i){var n,r,o,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=35)}([function(t,e,i){var n;(function(){function i(t){return function(e,i,n,r){i=T(i,r,4);var o=!C(e)&&b.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,i,n,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;n=i(n,e[a],a,e)}return n}(e,i,n,o,a,s)}}function r(t){return function(e,i,n){i=x(i,n);for(var r=A(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}}function o(t,e,i){return function(n,r,o){var s=0,a=A(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(i&&o&&a)return n[o=i(n,r)]===r?o:-1;if(r!=r)return(o=e(p.call(n,s,a),b.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===r)return o;return-1}}function s(t,e){var i=D.length,n=t.constructor,r=b.isFunction(n)&&n.prototype||c,o="constructor";for(b.has(t,o)&&!b.contains(e,o)&&e.push(o);i--;)(o=D[i])in t&&t[o]!==r[o]&&!b.contains(e,o)&&e.push(o)}var l=this,u=l._,h=Array.prototype,c=Object.prototype,f=Function.prototype,_=h.push,p=h.slice,d=c.toString,m=c.hasOwnProperty,g=Array.isArray,v=Object.keys,y=f.bind,$=Object.create,w=function(){},b=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0!==t&&t.exports&&(e=t.exports=b),e._=b,b.VERSION="1.8.3";var T=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}},x=function(t,e,i){return null==t?b.identity:b.isFunction(t)?T(t,e,i):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return x(t,e,1/0)};var S=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];e&&void 0!==i[u]||(i[u]=o[u])}return i}},P=function(t){if(!b.isObject(t))return{};if($)return $(t);w.prototype=t;var e=new w;return w.prototype=null,e},O=function(t){return function(e){return null==e?void 0:e[t]}},E=Math.pow(2,53)-1,A=O("length"),C=function(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=E};b.each=b.forEach=function(t,e,i){var n,r;if(e=T(e,i),C(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=b.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},b.map=b.collect=function(t,e,i){e=x(e,i);for(var n=!C(t)&&b.keys(t),r=(n||t).length,o=Array(r),s=0;s<r;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},b.reduce=b.foldl=b.inject=i(1),b.reduceRight=b.foldr=i(-1),b.find=b.detect=function(t,e,i){var n;if(void 0!==(n=C(t)?b.findIndex(t,e,i):b.findKey(t,e,i))&&-1!==n)return t[n]},b.filter=b.select=function(t,e,i){var n=[];return e=x(e,i),b.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},b.reject=function(t,e,i){return b.filter(t,b.negate(x(e)),i)},b.every=b.all=function(t,e,i){e=x(e,i);for(var n=!C(t)&&b.keys(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},b.some=b.any=function(t,e,i){e=x(e,i);for(var n=!C(t)&&b.keys(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,i,n){return C(t)||(t=b.values(t)),("number"!=typeof i||n)&&(i=0),b.indexOf(t,e,i)>=0},b.invoke=function(t,e){var i=p.call(arguments,2),n=b.isFunction(e);return b.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,i){var n,r,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=C(t)?t:b.values(t)).length;a<l;a++)(n=t[a])>o&&(o=n);else e=x(e,i),b.each(t,function(t,i,n){((r=e(t,i,n))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},b.min=function(t,e,i){var n,r,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,l=(t=C(t)?t:b.values(t)).length;a<l;a++)(n=t[a])<o&&(o=n);else e=x(e,i),b.each(t,function(t,i,n){((r=e(t,i,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},b.shuffle=function(t){for(var e,i=C(t)?t:b.values(t),n=i.length,r=Array(n),o=0;o<n;o++)(e=b.random(0,o))!==o&&(r[o]=r[e]),r[e]=i[o];return r},b.sample=function(t,e,i){return null==e||i?(C(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,i){return e=x(e,i),b.pluck(b.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var L=function(t){return function(e,i,n){var r={};return i=x(i,n),b.each(e,function(n,o){var s=i(n,o,e);t(r,n,s)}),r}};b.groupBy=L(function(t,e,i){b.has(t,i)?t[i].push(e):t[i]=[e]}),b.indexBy=L(function(t,e,i){t[i]=e}),b.countBy=L(function(t,e,i){b.has(t,i)?t[i]++:t[i]=1}),b.toArray=function(t){return t?b.isArray(t)?p.call(t):C(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:C(t)?t.length:b.keys(t).length},b.partition=function(t,e,i){e=x(e,i);var n=[],r=[];return b.each(t,function(t,i,o){(e(t,i,o)?n:r).push(t)}),[n,r]},b.first=b.head=b.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,i){return p.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},b.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,i){return p.call(t,null==e||i?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var I=function t(e,i,n,r){for(var o=[],s=0,a=r||0,l=A(e);a<l;a++){var u=e[a];if(C(u)&&(b.isArray(u)||b.isArguments(u))){i||(u=t(u,i,n));var h=0,c=u.length;for(o.length+=c;h<c;)o[s++]=u[h++]}else n||(o[s++]=u)}return o};b.flatten=function(t,e){return I(t,e,!1)},b.without=function(t){return b.difference(t,p.call(arguments,1))},b.uniq=b.unique=function(t,e,i,n){b.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=x(i,n));for(var r=[],o=[],s=0,a=A(t);s<a;s++){var l=t[s],u=i?i(l,s,t):l;e?(s&&o===u||r.push(l),o=u):i?b.contains(o,u)||(o.push(u),r.push(l)):b.contains(r,l)||r.push(l)}return r},b.union=function(){return b.uniq(I(arguments,!0,!0))},b.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=A(t);n<r;n++){var o=t[n];if(!b.contains(e,o)){for(var s=1;s<i&&b.contains(arguments[s],o);s++);s===i&&e.push(o)}}return e},b.difference=function(t){var e=I(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,A).length||0,i=Array(e),n=0;n<e;n++)i[n]=b.pluck(t,n);return i},b.object=function(t,e){for(var i={},n=0,r=A(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(t,e,i,n){for(var r=(i=x(i,n,1))(e),o=0,s=A(t);o<s;){var a=Math.floor((o+s)/2);i(t[a])<r?o=a+1:s=a}return o},b.indexOf=o(1,b.findIndex,b.sortedIndex),b.lastIndexOf=o(-1,b.findLastIndex),b.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r};var M=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=P(t.prototype),s=t.apply(o,r);return b.isObject(s)?s:o};b.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var i=p.call(arguments,2);return function n(){return M(t,n,e,this,i.concat(p.call(arguments)))}},b.partial=function(t){var e=p.call(arguments,1);return function i(){for(var n=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===b?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return M(t,i,this,this,o)}},b.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[i=arguments[e]]=b.bind(t[i],t);return t},b.memoize=function(t,e){var i=function i(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return b.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},b.delay=function(t,e){var i=p.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,i){var n,r,o,s=null,a=0;i||(i={});var l=function(){a=!1===i.leading?0:b.now(),s=null,o=t.apply(n,r),s||(n=r=null)};return function(){var u=b.now();a||!1!==i.leading||(a=u);var h=e-(u-a);return n=this,r=arguments,h<=0||h>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(n,r),s||(n=r=null)):s||!1===i.trailing||(s=setTimeout(l,h)),o}},b.debounce=function(t,e,i){var n,r,o,s,a,l=function l(){var u=b.now()-s;u<e&&u>=0?n=setTimeout(l,e-u):(n=null,i||(a=t.apply(o,r),n||(o=r=null)))};return function(){o=this,r=arguments,s=b.now();var u=i&&!n;return n||(n=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},b.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},b.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},b.once=b.partial(b.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(v)return v(t);var e=[];for(var i in t)b.has(t,i)&&e.push(i);return R&&s(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var i in t)e.push(i);return R&&s(t,e),e},b.values=function(t){for(var e=b.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},b.mapObject=function(t,e,i){e=x(e,i);for(var n,r=b.keys(t),o=r.length,s={},a=0;a<o;a++)s[n=r[a]]=e(t[n],n,t);return s},b.pairs=function(t){for(var e=b.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},b.invert=function(t){for(var e={},i=b.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},b.functions=b.methods=function(t){var e=[];for(var i in t)b.isFunction(t[i])&&e.push(i);return e.sort()},b.extend=S(b.allKeys),b.extendOwn=b.assign=S(b.keys),b.findKey=function(t,e,i){e=x(e,i);for(var n,r=b.keys(t),o=0,s=r.length;o<s;o++)if(e(t[n=r[o]],n,t))return n},b.pick=function(t,e,i){var n,r,o={},s=t;if(null==s)return o;b.isFunction(e)?(r=b.allKeys(s),n=T(e,i)):(r=I(arguments,!1,!1,1),n=function(t,e,i){return e in i},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],h=s[u];n(h,u,s)&&(o[u]=h)}return o},b.omit=function(t,e,i){if(b.isFunction(e))e=b.negate(e);else{var n=b.map(I(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(n,e)}}return b.pick(t,e,i)},b.defaults=S(b.allKeys,!0),b.create=function(t,e){var i=P(t);return e&&b.extendOwn(i,e),i},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var i=b.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var s=i[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};b.isEqual=function(t,e){return function t(e,i,n,r){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return e===i;e instanceof b&&(e=e._wrapped),i instanceof b&&(i=i._wrapped);var o=d.call(e);if(o!==d.call(i))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+i;case"[object Number]":return+e!=+e?+i!=+i:0==+e?1/+e==1/i:+e==+i;case"[object Date]":case"[object Boolean]":return+e==+i}var s="[object Array]"===o;if(!s){if("object"!=(void 0===e?"undefined":a(e))||"object"!=(void 0===i?"undefined":a(i)))return!1;var l=e.constructor,u=i.constructor;if(l!==u&&!(b.isFunction(l)&&l instanceof l&&b.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in i)return!1}r=r||[];for(var h=(n=n||[]).length;h--;)if(n[h]===e)return r[h]===i;if(n.push(e),r.push(i),s){if((h=e.length)!==i.length)return!1;for(;h--;)if(!t(e[h],i[h],n,r))return!1}else{var c,f=b.keys(e);if(h=f.length,b.keys(i).length!==h)return!1;for(;h--;)if(c=f[h],!b.has(i,c)||!t(e[c],i[c],n,r))return!1}return n.pop(),r.pop(),!0}(t,e)},b.isEmpty=function(t){return null==t||(C(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=g||function(t){return"[object Array]"===d.call(t)},b.isObject=function(t){var e=void 0===t?"undefined":a(t);return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":a(Int8Array))&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&m.call(t,e)},b.noConflict=function(){return l._=u,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=O,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,i){var n=Array(Math.max(0,t));e=T(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=b.invert(k),F=function(t){var e=function(e){return t[e]},i="(?:"+b.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};b.escape=F(k),b.unescape=F(N),b.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),b.isFunction(n)?n.call(t):n};var U=0;b.uniqueId=function(t){var e=++U+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+j[t]};b.template=function(t,e,i){!e&&i&&(e=i),e=b.defaults({},e,b.templateSettings);var n=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(e,i,n,s,a){return o+=t.slice(r,a).replace(G,z),r=a+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,b)};return a.source="function("+(e.variable||"obj")+"){\n"+o+"}",a},b.chain=function(t){var e=b(t);return e._chain=!0,e};var q=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var i=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return _.apply(t,arguments),q(this,i.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=h[t];b.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],q(this,i)}}),b.each(["concat","join","slice"],function(t){var e=h[t];b.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},void 0!==(n=function(){return b}.apply(e,[]))&&(t.exports=n)}).call(this)},function(t,e,i){var n=(i(0),i(46).Promise);n._continueWhile=function(t,e){return t()?e().then(function(){return n._continueWhile(t,e)}):n.resolve()},t.exports=n},function(t,e,i){var n=i(50),r=i(0).extend,o=i(1),s=i(4),a=i(5),l=i(3),u=l.getSessionToken,h=l.ajax,c=function(t,e){var i=(new Date).getTime(),r=n(i+t);return e?r+","+i+",master":r+","+i},f=function(t,e){e?t["X-LC-Sign"]=c(a.applicationKey):t["X-LC-Key"]=a.applicationKey},_=function(t){var e=t.service,i=t.version,n=t.method,r=t.path,l=t.query,_=t.data,p=void 0===_?{}:_,d=t.authOptions,m=t.signKey,g=void 0===m||m;if(!a.applicationId||!a.applicationKey&&!a.masterKey)throw new Error("Not initialized");a._appRouter.refresh();var v=function(t){var e=t.service,i=void 0===e?"api":e,n=t.version,r=void 0===n?"1.1":n,o=t.path,s=a._config.serverURLs[i];if(!s)throw new Error("undefined server URL for "+i);return"/"!==s.charAt(s.length-1)&&(s+="/"),s+=r,o&&(s+=o),s}({service:e,path:r,version:i});return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i={"X-LC-Id":a.applicationId,"Content-Type":"application/json;charset=UTF-8"},n=!1;return"boolean"==typeof t.useMasterKey?n=t.useMasterKey:"boolean"==typeof a._config.useMasterKey&&(n=a._config.useMasterKey),n?a.masterKey?e?i["X-LC-Sign"]=c(a.masterKey,!0):i["X-LC-Key"]=a.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),f(i,e)):f(i,e),a.hookKey&&(i["X-LC-Hook-Key"]=a.hookKey),null!==a._config.production&&(i["X-LC-Prod"]=String(a._config.production)),i["X-LC-UA"]=a._sharedConfig.userAgent,o.resolve().then(function(){var e=u(t);if(e)i["X-LC-Session"]=e;else if(!a._config.disableCurrentUser)return a.User.currentAsync().then(function(t){return t&&t._sessionToken&&(i["X-LC-Session"]=t._sessionToken),i});return i})}(d,g).then(function(t){return h({method:n,url:v,query:l,data:p,headers:t}).catch(function(t){var e={code:t.code||-1,error:t.message||t.responseText};if(t.response&&t.response.code)e=t.response;else if(t.responseText)try{e=JSON.parse(t.responseText)}catch(t){}throw e.error+=" ["+(t.statusCode||"N/A")+" "+n+" "+v+"]",new s(e.code,e.error)})})};a.request=_,t.exports={_request:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments[5],a=arguments[6],l="";if(t&&(l+="/"+t),e&&(l+="/"+e),i&&(l+="/"+i),o&&o._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(o&&o._where)throw new Error("_where should be in the query");return n&&"get"===n.toLowerCase()&&(a=r({},a,o),o=null),_({method:n,path:l,query:a,data:o,authOptions:s})},request:_}},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},r=i(0),o=i(7),s=i(6)("leancloud:request"),l=i(1),u=0,h=function(t){return r.isArray(t)?t:null==t?[]:[t]},c=function(){};t.exports={ajax:function(t){var e=t.method,i=t.url,r=t.query,a=t.data,h=t.headers,c=void 0===h?{}:h,f=t.onprogress,_=u++;s("request("+_+")",e,i,r,a,c);var p={};if(r)for(var d in r)"object"===n(r[d])?p[d]=JSON.stringify(r[d]):p[d]=r[d];return new l(function(t,n){var r=o(e,i).set(c).query(p).send(a);f&&r.on("progress",f),r.end(function(e,i){return i&&s("response("+_+")",i.status,i.body||i.text,i.header),e?(i&&(e.statusCode=i.status,e.responseText=i.text,e.response=i.body),n(e)):t(i.body)})})},isNullOrUndefined:function(t){return r.isNull(t)||r.isUndefined(t)},ensureArray:h,transformFetchOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keys,i=t.include,n=t.includeACL,r={};return e&&(r.keys=h(e).join(",")),i&&(r.include=h(i).join(",")),n&&(r.returnACL=n),r},getSessionToken:function(t){return t.sessionToken?t.sessionToken:t.user&&"function"==typeof t.user.getSessionToken?t.user.getSessionToken():void 0},tap:function(t){return function(e){return t(e),e}},inherits:function(t,e,i){var n;return n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(n,t),c.prototype=t.prototype,n.prototype=new c,e&&r.extend(n.prototype,e),i&&r.extend(n,i),n.prototype.constructor=n,n.__super__=t.prototype,n},parseDate:function(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(t);if(!e)return null;var i=e[1]||0,n=(e[2]||1)-1,r=e[3]||0,o=e[4]||0,s=e[5]||0,a=e[6]||0,l=e[8]||0;return new Date(Date.UTC(i,n,r,o,s,a,l))}}},function(t,e,i){function n(t,e){var i=new Error(e);return i.code=t,i}i(0).extend(n,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),t.exports=n},function(t,e,i){(function(e){var n=i(0),r=i(37),o=i(3),s=o.inherits,a=o.parseDate,l=e.AV||{};l._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null},l._sharedConfig={userAgent:r,liveQueryRealtime:null},l._getAVPath=function(t){if(!l.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(t||(t=""),!n.isString(t))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===t[0]&&(t=t.substring(1)),"AV/"+l.applicationId+"/"+t};var u=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},h=function(){return""+u()+u()+"-"+u()+"-"+u()+"-"+u()+"-"+u()+u()+u()};l._installationId=null,l._getInstallationId=function(){if(l._installationId)return l.Promise.resolve(l._installationId);var t=l._getAVPath("installationId");return l.localStorage.getItemAsync(t).then(function(e){return l._installationId=e,l._installationId?e:(l._installationId=e=h(),l.localStorage.setItemAsync(t,e).then(function(){return e}))})},l._subscriptionId=null,l._refreshSubscriptionId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l._getAVPath("subscriptionId"),e=l._subscriptionId=h();return l.localStorage.setItemAsync(t,e).then(function(){return e})},l._getSubscriptionId=function(){if(l._subscriptionId)return l.Promise.resolve(l._subscriptionId);var t=l._getAVPath("subscriptionId");return l.localStorage.getItemAsync(t).then(function(e){return l._subscriptionId=e,l._subscriptionId||(e=l._refreshSubscriptionId(t)),e})},l._parseDate=a,l._extend=function(t,e){var i=s(this,t,e);return i.extend=this.extend,i},l._encode=function(t,e,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof l.Object){if(i)throw new Error("AV.Objects not allowed here");return e&&!n.include(e,t)&&t._hasData?t._toFullJSON(e.concat(t),r):t._toPointer()}if(t instanceof l.ACL)return t.toJSON();if(n.isDate(t))return r?{__type:"Date",iso:t.toJSON()}:t.toJSON();if(t instanceof l.GeoPoint)return t.toJSON();if(n.isArray(t))return n.map(t,function(t){return l._encode(t,e,i,r)});if(n.isRegExp(t))return t.source;if(t instanceof l.Relation)return t.toJSON();if(t instanceof l.Op)return t.toJSON();if(t instanceof l.File){if(!t.url()&&!t.id)throw new Error("Tried to save an object containing an unsaved file.");return t._toFullJSON(e,r)}return n.isObject(t)?n.mapObject(t,function(t,n){return l._encode(t,e,i,r)}):t},l._decode=function(t,e){if(!n.isObject(t)||n.isDate(t))return t;if(n.isArray(t))return n.map(t,function(t){return l._decode(t)});if(t instanceof l.Object)return t;if(t instanceof l.File)return t;if(t instanceof l.Op)return t;if(t instanceof l.GeoPoint)return t;if(t instanceof l.ACL)return t;if("ACL"===e)return new l.ACL(t);if(t.__op)return l.Op._decode(t);var i;if("Pointer"===t.__type){i=t.className;var r=l.Object._create(i);if(Object.keys(t).length>3){var o=n.clone(t);delete o.__type,delete o.className,r._finishFetch(o,!0)}else r._finishFetch({objectId:t.objectId},!1);return r}if("Object"===t.__type){i=t.className;var s=n.clone(t);delete s.__type,delete s.className;var a=l.Object._create(i);return a._finishFetch(s,!0),a}if("Date"===t.__type)return l._parseDate(t.iso);if("GeoPoint"===t.__type)return new l.GeoPoint({latitude:t.latitude,longitude:t.longitude});if("Relation"===t.__type){if(!e)throw new Error("key missing decoding a Relation");var u=new l.Relation(null,e);return u.targetClassName=t.className,u}if("File"===t.__type){var h=new l.File(t.name),c=n.clone(t);return delete c.__type,h._finishFetch(c),h}return n.mapObject(t,l._decode)},l.parseJSON=l._decode,l._encodeObjectOrArray=function(t){var e=function(t){return t&&t._toFullJSON&&(t=t._toFullJSON([])),n.mapObject(t,function(t){return l._encode(t,[])})};return n.isArray(t)?t.map(function(t){return e(t)}):e(t)},l._arrayEach=n.each,l._traverse=function(t,e,i){if(t instanceof l.Object){if(i=i||[],n.indexOf(i,t)>=0)return;return i.push(t),l._traverse(t.attributes,e,i),e(t)}return t instanceof l.Relation||t instanceof l.File?e(t):n.isArray(t)?(n.each(t,function(n,r){var o=l._traverse(n,e,i);o&&(t[r]=o)}),e(t)):n.isObject(t)?(l._each(t,function(n,r){var o=l._traverse(n,e,i);o&&(t[r]=o)}),e(t)):e(t)},l._objectEach=l._each=function(t,e){n.isObject(t)?n.each(n.keys(t),function(i){e(t[i],i)}):n.each(t,e)},t.exports=l}).call(e,i(8))},function(e,i,n){function r(){var e;try{e=i.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(i=e.exports=n(45)).log=function(){return"object"==("undefined"==typeof console?"undefined":a(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+i.humanize(this.diff),e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++r)}),t.splice(o,0,n)}},i.save=function(t){try{null==t?i.storage.removeItem("debug"):i.storage.debug=t}catch(t){}},i.load=r,i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},i.enable(r())},function(t,e,i){function n(){}function r(t){if(!d(t))return t;var e=[];for(var i in t)o(e,i,t[i]);return e.join("&")}function o(t,e,i){if(null!=i)if(Array.isArray(i))i.forEach(function(i){o(t,e,i)});else if(d(i))for(var n in i)o(t,e+"["+n+"]",i[n]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));else null===i&&t.push(encodeURIComponent(e))}function s(t){for(var e,i,n={},r=t.split("&"),o=0,s=r.length;o<s;++o)-1==(i=(e=r[o]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,i))]=decodeURIComponent(e.slice(i+1));return n}function l(t){return/[\/+]json\b/.test(t)}function u(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,i,n,r,o=t.split(/\r?\n/),s={},a=0,l=o.length;a<l;++a)-1!==(e=(i=o[a]).indexOf(":"))&&(n=i.slice(0,e).toLowerCase(),r=y(i.slice(e+1)),s[n]=r);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var i=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,n=null;try{n=new u(i)}catch(n){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=n,i.xhr?(e.rawResponse=void 0===i.xhr.responseType?i.xhr.responseText:i.xhr.response,e.status=i.xhr.status?i.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),i.callback(e)}i.emit("response",n);try{i._isResponseOK(n)||(t=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=n,t.status=n.status,i.callback(t,n)):i.callback(null,n)})}function c(t,e,i){var n=v("DELETE",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var _=i(43),p=i(53),d=i(13),m=i(54),g=i(52),v=e=t.exports=function(t,i){return"function"==typeof i?new e.Request("GET",t).end(i):1==arguments.length?new e.Request("GET",t):new e.Request(t,i)};e.Request=h,v.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};v.serializeObject=r,v.parseString=s,v.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},m(u.prototype),u.prototype._parseBody=function(t){var e=v.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&l(this.type)&&(e=v.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},u.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",r=new Error(n);return r.status=this.status,r.method=e,r.url=i,r},v.Response=u,_(h.prototype),p(h.prototype),h.prototype.type=function(t){return this.set("Content-Type",v.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",v.types[t]||t),this},h.prototype.auth=function(t,e,i){1===arguments.length&&(e=""),"object"==(void 0===e?"undefined":a(e))&&null!==e&&(i=e,e=""),i||(i={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,i,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},h.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,i){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,i||e.name)}return this},h.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},h.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var i=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),i(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.buffer=h.prototype.ca=h.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},h.prototype.pipe=h.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},h.prototype._isHost=function(t){return t&&"object"==(void 0===t?"undefined":a(t))&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},h.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||n,this._finalizeQueryString(),this._end()},h.prototype._end=function(){var t=this,e=this.xhr=v.getXHR(),i=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==i){var n;try{n=e.status}catch(t){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var n=function(e,i){i.total>0&&(i.percent=i.loaded/i.total*100),i.direction=e,t.emit("progress",i)};if(this.hasListeners("progress"))try{e.onprogress=n.bind(null,"download"),e.upload&&(e.upload.onprogress=n.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof i&&!this._isHost(i)){var r=this._header["content-type"],o=this._serializer||v.serialize[r?r.split(";")[0]:""];!o&&l(r)&&(o=v.serialize["application/json"]),o&&(i=o(i))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==i?i:null),this},v.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){g.prototype[t.toLowerCase()]=function(e,i){var n=new v.Request(t,e);return this._setDefaults(n),i&&n.end(i),n}}),g.prototype.del=g.prototype.delete,v.get=function(t,e,i){var n=v("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},v.head=function(t,e,i){var n=v("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},v.options=function(t,e,i){var n=v("OPTIONS",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},v.del=c,v.delete=c,v.patch=function(t,e,i){var n=v("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},v.post=function(t,e,i){var n=v("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},v.put=function(t,e,i){var n=v("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":a(window))&&(i=window)}t.exports=i},function(t,e,i){var n=i(10),r=i(5),o=e.removeAsync=n.removeItemAsync.bind(n);e.getAsync=function(t){return t="AV/"+r.applicationId+"/"+t,n.getItemAsync(t).then(function(e){return function(t,e){try{t=JSON.parse(t)}catch(t){return null}return t?t.expiredAt&&t.expiredAt<Date.now()?o(e).then(function(){return null}):t.value:null}(e,t)})},e.setAsync=function(t,e,i){var o={value:e};return"number"==typeof i&&(o.expiredAt=Date.now()+i),n.setItemAsync("AV/"+r.applicationId+"/"+t,JSON.stringify(o))}},function(t,e,i){var n=i(0),r=i(1),o=i(41),s=["getItem","setItem","removeItem","clear"];o.async?n(s).each(function(t){"function"!=typeof o[t]&&(o[t]=function(){var e=new Error("Synchronous API ["+t+"] is not available in this runtime.");throw e.code="SYNC_API_NOT_AVAILABLE",e})}):n(s).each(function(t){"function"==typeof o[t]&&(o[t+"Async"]=function(){return r.resolve(o[t].apply(o,arguments))})}),t.exports=o},function(t,e,i){t.exports="3.3.1"},function(t,e){var i={utf8:{stringToBytes:function(t){return i.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(i.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=i},function(t,e,i){t.exports=function(t){return null!==t&&"object"==(void 0===t?"undefined":a(t))}},function(t,e,i){var n=i(0);t.exports=function(t){t.ACL=function(e){var i=this;if(i.permissionsById={},n.isObject(e))if(e instanceof t.User)i.setReadAccess(e,!0),i.setWriteAccess(e,!0);else{if(n.isFunction(e))throw new Error("AV.ACL() called with a function.  Did you forget ()?");t._objectEach(e,function(e,r){if(!n.isString(r))throw new Error("Tried to create an ACL with an invalid userId.");i.permissionsById[r]={},t._objectEach(e,function(t,e){if("read"!==e&&"write"!==e)throw new Error("Tried to create an ACL with an invalid permission type.");if(!n.isBoolean(t))throw new Error("Tried to create an ACL with an invalid permission value.");i.permissionsById[r][e]=t})})}},t.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,i,r){if(i instanceof t.User?i=i.id:i instanceof t.Role&&(i="role:"+i.getName()),!n.isString(i))throw new Error("userId must be a string.");if(!n.isBoolean(r))throw new Error("allowed must be either true or false.");var o=this.permissionsById[i];if(!o){if(!r)return;o={},this.permissionsById[i]=o}r?this.permissionsById[i][e]=!0:(delete o[e],n.isEmpty(o)&&delete this.permissionsById[i])},t.ACL.prototype._getAccess=function(e,i){i instanceof t.User?i=i.id:i instanceof t.Role&&(i="role:"+i.getName());var n=this.permissionsById[i];return!!n&&!!n[e]},t.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},t.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},t.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},t.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},t.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess("*",t)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},t.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess("*",t)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getReadAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getWriteAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.setRoleReadAccess=function(e,i){if(e instanceof t.Role&&(e=e.getName()),!n.isString(e))throw new Error("role must be a AV.Role or a String");this.setReadAccess("role:"+e,i)},t.ACL.prototype.setRoleWriteAccess=function(e,i){if(e instanceof t.Role&&(e=e.getName()),!n.isString(e))throw new Error("role must be a AV.Role or a String");this.setWriteAccess("role:"+e,i)}}},function(t,e,i){var n=i(0),r=i(3).tap;t.exports=function(t){t.Captcha=function(t,e){this._options=t,this._authOptions=e,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},t.Captcha.prototype.refresh=function(){var e=this;return t.Cloud._requestCaptcha(this._options,this._authOptions).then(function(t){var i=t.captchaToken,r=t.url;return n.extend(e,{captchaToken:i,url:r}),r})},t.Captcha.prototype.verify=function(e){var i=this;return t.Cloud.verifyCaptcha(e,this.captchaToken).then(r(function(t){return i.validateToken=t}))},t.Captcha.prototype.bind=function(t,e){var i=this,n=t.textInput,r=t.image,o=t.verifyButton,s=e.success,a=e.error;if("string"==typeof n&&!(n=document.getElementById(n)))throw new Error("textInput with id "+n+" not found");if("string"==typeof r&&!(r=document.getElementById(r)))throw new Error("image with id "+r+" not found");if("string"==typeof o&&!(o=document.getElementById(o)))throw new Error("verifyButton with id "+o+" not found");this.__refresh=function(){return i.refresh().then(function(t){r.src=t,n&&(n.value="",n.focus())}).catch(function(t){return console.warn("refresh captcha fail: "+t.message)})},r&&(this.__image=r,r.src=this.url,r.addEventListener("click",this.__refresh)),this.__verify=function(){var t=n.value;i.verify(t).catch(function(t){throw i.__refresh(),t}).then(s,a).catch(function(t){return console.warn("verify captcha fail: "+t.message)})},n&&o&&(this.__verifyButton=o,o.addEventListener("click",this.__verify))},t.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},t.Captcha.request=function(e,i){var n=new t.Captcha(e,i);return n.refresh().then(function(){return n})}}},function(t,e,i){var n=i(0),r=i(2),o=r._request,s=r.request,a=i(1);t.exports=function(t){t.Cloud=t.Cloud||{},n.extend(t.Cloud,{run:function(e,i,n){return s({service:"engine",method:"POST",path:"/functions/"+e,data:t._encode(i,null,!0),authOptions:n}).then(function(e){return t._decode(e).result})},rpc:function(e,i,r){return n.isArray(i)?a.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):s({service:"engine",method:"POST",path:"/call/"+e,data:t._encodeObjectOrArray(i),authOptions:r}).then(function(e){return t._decode(e).result})},getServerDate:function(){return o("date",null,null,"GET").then(function(e){return t._decode(e)})},requestSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.isString(t)&&(t={mobilePhoneNumber:t}),!t.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return e.validateToken&&(t=n.extend({},t,{validate_token:e.validateToken})),o("requestSmsCode",null,null,"POST",t,e)},verifySmsCode:function(t,e){if(!t)throw new Error("Missing sms code.");var i={};return n.isString(e)&&(i.mobilePhoneNumber=e),o("verifySmsCode",t,null,"POST",i)},_requestCaptcha:function(t,e){return o("requestCaptcha",null,null,"GET",t,e).then(function(t){var e=t.captcha_url;return{captchaToken:t.captcha_token,url:e}})},requestCaptcha:t.Captcha.request,verifyCaptcha:function(t,e){return o("verifyCaptcha",null,null,"POST",{captcha_code:t,captcha_token:e}).then(function(t){return t.validate_token})}})}},function(t,e,i){var n=i(0),r=i(2)._request,o=i(5);t.exports=o.Object.extend("_Conversation",{constructor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.Object.prototype.constructor.call(this,null,null),this.set("name",t),void 0!==e.isSystem&&this.set("sys",!!e.isSystem),void 0!==e.isTransient&&this.set("tr",!!e.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(t){return this.add("m",t)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof e&&(e=JSON.stringify(e));var o={from_peer:t,conv_id:this.id,transient:!1,message:e};return void 0!==i.toClients&&(o.to_peers=i.toClients),void 0!==i.transient&&(o.transient=!!i.transient),void 0!==i.pushData&&(o.push_data=i.pushData),r("rtm","messages",null,"POST",o,n)},broadcast:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof e&&(e=JSON.stringify(e));var s={from_peer:t,conv_id:this.id,message:e};if(void 0!==i.pushData&&(s.push=i.pushData),void 0!==i.validTill){var a=i.validTill;n.isDate(a)&&(a=a.getTime()),i.valid_till=a}return r("rtm","broadcast",null,"POST",s,o)}})},function(t,e,i){var n=i(0);t.exports=function(t){var e=/\s+/,i=Array.prototype.slice;t.Events={on:function(t,i,n){var r,o,s,a,l;if(!i)return this;for(t=t.split(e),r=this._callbacks||(this._callbacks={}),o=t.shift();o;)(s=(l=r[o])?l.tail:{}).next=a={},s.context=n,s.callback=i,r[o]={tail:a,next:l?l.next:s},o=t.shift();return this},off:function(t,i,r){var o,s,a,l,u,h;if(s=this._callbacks){if(!(t||i||r))return delete this._callbacks,this;for(o=(t=t?t.split(e):n.keys(s)).shift();o;)if(a=s[o],delete s[o],a&&(i||r)){for(l=a.tail,a=a.next;a!==l;)u=a.callback,h=a.context,(i&&u!==i||r&&h!==r)&&this.on(o,u,h),a=a.next;o=t.shift()}return this}},trigger:function(t){var n,r,o,s,a,l,u;if(!(o=this._callbacks))return this;for(l=o.all,t=t.split(e),u=i.call(arguments,1),n=t.shift();n;){if(r=o[n])for(s=r.tail;(r=r.next)!==s;)r.callback.apply(r.context||this,u);if(r=l)for(s=r.tail,a=[n].concat(u);(r=r.next)!==s;)r.callback.apply(r.context||this,a);n=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}},function(t,e,i){var n=i(0),r=i(38),o=i(39),s=i(40),a=i(4),l=i(2)._request,u=i(1),h=i(3),c=h.tap,f=h.transformFetchOptions,_=i(6)("leancloud:file"),p=i(42);t.exports=function(t){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},i=function(t){return t.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]},h=function(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new Error("Tried to encode large digit "+t+" in base64.")};t.File=function(e,r,o){if(this.attributes={name:e,url:"",metaData:{},base64:""},n.isString(r))throw new TypeError("Creating an AV.File from a String is not yet supported.");var s,a;n.isArray(r)&&(this.attributes.metaData.size=r.length,r={base64:(s=r,a=[],a.length=Math.ceil(s.length/3),n.times(a.length,function(t){var e=s[3*t],i=s[3*t+1]||0,n=s[3*t+2]||0,r=3*t+1<s.length,o=3*t+2<s.length;a[t]=[h(e>>2&63),h(e<<4&48|i>>4&15),r?h(i<<2&60|n>>6&3):"=",o?h(63&n):"="].join("")}),a.join(""))}),this._extName="",this._data=r,this._uploadHeaders={},"undefined"!=typeof Blob&&r instanceof Blob&&(r.size&&(this.attributes.metaData.size=r.size),r.name&&(this._extName=i(r.name)));var l=void 0;if(r&&r.owner)l=r.owner;else if(!t._config.disableCurrentUser)try{l=t.User.current()}catch(t){if("SYNC_API_NOT_AVAILABLE"!==t.code)throw t;console.warn("Get current user failed. It seems this runtime use an async storage system, please create AV.File in the callback of AV.User.currentAsync().")}this.attributes.metaData.owner=l?l.id:"unknown",this.set("mime_type",o)},t.File.withURL=function(e,i,n,r){if(!e||!i)throw new Error("Please provide file name and url");var o=new t.File(e,null,r);if(n)for(var s in n)o.attributes.metaData[s]||(o.attributes.metaData[s]=n[s]);return o.attributes.url=i,o.attributes.metaData.__source="external",o},t.File.createWithoutData=function(e){var i=new t.File;return i.id=e,i},n.extend(t.File.prototype,{className:"_File",_toFullJSON:function(e){var i=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=n.clone(this.attributes);return t._objectEach(o,function(i,n){o[n]=t._encode(i,e,void 0,r)}),t._objectEach(this._operations,function(t,e){o[e]=t}),n.has(this,"id")&&(o.objectId=this.id),n(["createdAt","updatedAt"]).each(function(t){if(n.has(i,t)){var e=i[t];o[t]=n.isDate(e)?e.toJSON():e}}),r&&(o.__type="File"),o},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},toJSON:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(i,!1)},getACL:function(){return this._acl},setACL:function(e){if(!(e instanceof t.ACL))return new a(a.OTHER_CAUSE,"ACL must be a AV.ACL.");this._acl=e},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(t){switch(t){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[t];default:return this.attributes.metaData[t]}},set:function(){for(var t=this,e=function(e,i){switch(e){case"name":case"url":case"mime_type":case"base64":case"metaData":t.attributes[e]=i;break;default:t.attributes.metaData[e]=i}},i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];switch(n.length){case 1:for(var o in n[0])e(o,n[0][o]);break;case 2:e(n[0],n[1])}},setUploadHeader:function(t,e){return this._uploadHeaders[t]=e,this},metaData:function(t,e){return t&&e?(this.attributes.metaData[t]=e,this):t&&!e?this.attributes.metaData[t]:this.attributes.metaData},thumbnailURL:function(t,e,i,n,r){var o=this.attributes.url;if(!o)throw new Error("Invalid url.");if(!t||!e||t<=0||e<=0)throw new Error("Invalid width or height value.");if(n=n||!0,(i=i||100)<=0||i>100)throw new Error("Invalid quality value.");return o+"?imageView/"+(n?2:1)+"/w/"+t+"/h/"+e+"/q/"+i+"/format/"+(r=r||"png")},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(t){return this.id?l("files",null,this.id,"DELETE",null,t):u.reject(new Error("The file id is not eixsts."))},_fileToken:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fileTokens",r=this.attributes.name,o=i(r);!o&&this._extName&&(r+=this._extName,o=this._extName);var s=e()+e()+e()+e()+e()+o,a={key:s,name:r,ACL:this._acl,mime_type:t,metaData:this.attributes.metaData};return this._qiniu_key=s,l(n,null,null,"POST",a)},save:function(t){var e=this;if(this.id)throw new Error("File already saved. If you want to manipulate a file, use AV.Query to get it.");if(!this._previousSave)if(this._data){var i=this.get("mime_type");this._previousSave=this._fileToken(i).then(function(n){return n.mime_type&&(i=n.mime_type,e.set("mime_type",i)),e._token=n.token,u.resolve().then(function(){var t=e._data;if(t&&t.base64)return p(t.base64,i);if(t&&t.blob)return!t.blob.type&&i&&(t.blob.type=i),t.blob.name||(t.blob.name=e.get("name")),t.blob;if("undefined"!=typeof Blob&&t instanceof Blob)return t;throw new TypeError("malformed file data")}).then(function(i){switch(n.provider){case"s3":return s(n,i,e,t);case"qcloud":return r(n,i,e,t);case"qiniu":default:return o(n,i,e,t)}}).then(c(function(){return e._callback(!0)}),function(t){throw e._callback(!1),t})})}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var n={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=l("files",this.attributes.name,null,"post",n).then(function(t){return e.attributes.name=t.name,e.attributes.url=t.url,e.id=t.objectId,t.size&&(e.attributes.metaData.size=t.size),e})}return this._previousSave},_callback:function(t){l("fileCallback",null,null,"post",{token:this._token,result:t}).catch(_),delete this._token,delete this._data},fetch:function(t,e){return l("files",null,this.id,"GET",f(t),e).then(this._finishFetch.bind(this))},_finishFetch:function(e){var i=t.Object.prototype.parse(e);return i.attributes={name:i.name,url:i.url,mime_type:i.mime_type,bucket:i.bucket},i.attributes.metaData=i.metaData||{},i.id=i.objectId,delete i.objectId,delete i.metaData,delete i.url,delete i.name,delete i.mime_type,delete i.bucket,n.extend(this,i),this}})}},function(t,e,i){var n=i(0);t.exports=function(t){t.GeoPoint=function(e,i){n.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):n.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):n.isNumber(e)&&n.isNumber(i)?(t.GeoPoint._validate(e,i),this.latitude=e,this.longitude=i):(this.latitude=0,this.longitude=0);var r=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return r._latitude}),this.__defineGetter__("longitude",function(){return r._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,r.longitude),r._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(r.latitude,e),r._longitude=e}))},t.GeoPoint._validate=function(t,e){if(t<-90)throw new Error("AV.GeoPoint latitude "+t+" < -90.0.");if(t>90)throw new Error("AV.GeoPoint latitude "+t+" > 90.0.");if(e<-180)throw new Error("AV.GeoPoint longitude "+e+" < -180.0.");if(e>180)throw new Error("AV.GeoPoint longitude "+e+" > 180.0.")},t.GeoPoint.current=function(){return new t.Promise(function(e,i){navigator.geolocation.getCurrentPosition(function(i){e(new t.GeoPoint({latitude:i.coords.latitude,longitude:i.coords.longitude}))},i)})},n.extend(t.GeoPoint.prototype,{toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,i=this.latitude*e,n=this.longitude*e,r=t.latitude*e,o=i-r,s=n-t.longitude*e,a=Math.sin(o/2),l=Math.sin(s/2),u=a*a+Math.cos(i)*Math.cos(r)*l*l;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}})}},function(t,e,i){var n=i(5),r=i(34),o=i(3).isNullOrUndefined,s=i(0),a=s.extend,l=s.isObject,u=function(t){return{push:t,stats:t,engine:t,api:t}},h=!1;n.init=function(t){if(!l(t))return n.init({appId:t,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2],region:arguments.length<=3?void 0:arguments[3]});var e=t.appId,i=t.appKey,o=t.masterKey,s=(t.hookKey,t.region),c=void 0===s?"cn":s,f=t.serverURLs,_=t.disableCurrentUser,p=t.production,d=t.realtime;if(n.applicationId)throw new Error("SDK is already initialized.");if(!e)throw new TypeError("appId must be a string");if(!i)throw new TypeError("appKey must be a string");o&&console.warn("MasterKey is not supposed to be used in browser."),n._config.applicationId=e,n._config.applicationKey=i,n._config.masterKey=o,void 0!==p&&(n._config.production=p),void 0!==_&&(n._config.disableCurrentUser=_),n._appRouter=new r(n);var m=h||void 0!==f||"cn"!==c;n._setServerURLs(a({},function(t,e){if("us"===e)return u("https://us-api.leancloud.cn");var i=void 0;switch(t.slice(-9)){case"-9Nh9j0Va":return u("https://e1-api.leancloud.cn");case"-MdYXbMMI":return u("https://us-api.leancloud.cn");default:return{push:"https://"+(i=t.slice(0,8).toLowerCase())+".push.lncld.net",stats:"https://"+i+".stats.lncld.net",engine:"https://"+i+".engine.lncld.net",api:"https://"+i+".api.lncld.net"}}}(e,c),n._config.serverURLs,f),m),d?n._config.realtime=d:n._sharedConfig.liveQueryRealtime&&(n._config.realtime=new n._sharedConfig.liveQueryRealtime({appId:e,region:c}))},n.setProduction=function(t){o(t)?n._config.production=null:n._config.production=t?1:0},n._setServerURLs=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof t?a(n._config.serverURLs,t):n._config.serverURLs=u(t),e&&(n._appRouter?n._appRouter.disable():h=!0)},n.setServerURLs=function(t){return n._setServerURLs(t)},n.initialize=n.init,["applicationId","applicationKey","masterKey","hookKey"].forEach(function(t){return Object.defineProperty(n,t,{get:function(){return n._config[t]},set:function(e){n._config[t]=e}})})},function(t,e,i){var n=i(0),r=i(4),o=i(2).request;t.exports=function(t){t.Insight=t.Insight||{},n.extend(t.Insight,{startJob:function(e,i){if(!e||!e.sql)throw new Error("Please provide the sql to run the job.");var n={jobConfig:e,appId:t.applicationId};return o({path:"/bigquery/jobs",method:"POST",data:t._encode(n,null,!0),authOptions:i,signKey:!1}).then(function(e){return t._decode(e).id})},on:function(t,e){}}),t.Insight.JobQuery=function(t,e){if(!t)throw new Error("Please provide the job id.");this.id=t,this.className=e,this._skip=0,this._limit=100},n.extend(t.Insight.JobQuery.prototype,{skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},find:function(e){var i={skip:this._skip,limit:this._limit};return o({path:"/bigquery/jobs/"+this.id,method:"GET",query:i,authOptions:e,signKey:!1}).then(function(e){return e.error?t.Promise.reject(new r(e.code,e.error)):t.Promise.resolve(e)})}})}},function(t,e,i){var n=i(0),r=i(47),o=i(1),s=i(3).inherits,a=i(2).request;t.exports=function(t){t.LiveQuery=s(r,{constructor:function(t,e){r.apply(this),this.id=t,this._client=e,this._client.register(this),e.on("message",this._dispatch.bind(this))},_dispatch:function(e){var i=this;e.forEach(function(e){var r=e.op,o=e.object,s=e.query_id,a=e.updatedKeys;if(s===i.id){var l=t.parseJSON(n.extend({__type:"_File"===o.className?"File":"Object"},o));a?i.emit(r,l,a):i.emit(r,l)}})},unsubscribe:function(){return this._client.deregister(this),a({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:this._client.id,query_id:this.id}})}},{init:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).subscriptionId,n=void 0===i?t._getSubscriptionId():i;if(!t._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query");if(!(e instanceof t.Query))throw new TypeError("LiveQuery must be inited with a Query");var r=e.toJSON(),s=r.where,l=r.keys,u=r.returnACL;return o.resolve(n).then(function(i){return a({method:"POST",path:"/LiveQuery/subscribe",data:{query:{where:s,keys:l,returnACL:u,className:e.className},id:i}}).then(function(e){var n=e.query_id;return t._config.realtime.createLiveQueryClient(i).then(function(e){return new t.LiveQuery(n,e)})})})}})}},function(t,e,i){var n=i(0),r=i(4),o=i(2)._request,s=i(3),a=s.isNullOrUndefined,l=s.ensureArray,u=s.transformFetchOptions,h=["objectId","createdAt","updatedAt"],c=function(t){if(-1!==h.indexOf(t))throw new Error("key["+t+"] is reserved")},f=function(t){var e=n.find(t,function(t){return t instanceof Error});if(!e)return t;var i=new r(e.code,e.message);throw i.results=t,i};t.exports=function(t){t.Object=function(e,i){if(n.isString(e))return t.Object._create.apply(this,arguments);e=e||{},i&&i.parse&&(e=this.parse(e),e=this._mergeMagicFields(e));var r,o,s=(o="defaults",(r=this)&&r[o]?n.isFunction(r[o])?r[o]():r[o]:null);s&&(e=n.extend({},s,e)),i&&i.collection&&(this.collection=i.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=n.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=n.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,i){return t.Object._deepSaveAsync(e,null,i)},t.Object.fetchAll=function(e,i){return t.Promise.resolve().then(function(){return o("batch",null,null,"POST",{requests:n.map(e,function(t){if(!t.className)throw new Error("object must have className to fetch");if(!t.id)throw new Error("object must have id to fetch");if(t.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+t.className+"/"+t.id}})},i)}).then(function(t){var i=n.map(e,function(e,i){return t[i].success?(e._finishFetch(e.parse(t[i].success)),e):null===t[i].success?new r(r.OBJECT_NOT_FOUND,"Object not found."):new r(t[i].error.code,t[i].error.error)});return f(i)})},n.extend(t.Object.prototype,t.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!n.isBoolean(t))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=t},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt||this.get("createdAt")},getUpdatedAt:function(){return this.updatedAt||this.get("updatedAt")},toJSON:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(i,!1)},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},_toFullJSON:function(e){var i=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=n.clone(this.attributes);if(n.isArray(e))var s=e.concat(this);return t._objectEach(o,function(e,i){o[i]=t._encode(e,s,void 0,r)}),t._objectEach(this._operations,function(t,e){o[e]=t}),n.has(this,"id")&&(o.objectId=this.id),n(["createdAt","updatedAt"]).each(function(t){if(n.has(i,t)){var e=i[t];o[t]=n.isDate(e)?e.toJSON():e}}),r&&(o.__type="Object",n.isArray(e)&&e.length&&(o.__type="Pointer"),o.className=this.className),o},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(i,r){i instanceof t.Object?i._refreshCache():n.isObject(i)&&e._resetCacheForKey(r)&&e.set(r,new t.Op.Set(i),{silent:!0})}),delete e._refreshingCache)},dirty:function(t){return this._refreshCache(),this._dirty()},_dirty:function(t){var e=n.last(this._opSetQueue);return t?!!e[t]:!this.id||n.keys(e).length>0},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){switch(t){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[t];default:return this.attributes[t]}},relation:function(e){var i=this.get(e);if(i){if(!(i instanceof t.Relation))throw new Error("Called relation() on non-relation field "+e);return i._ensureParentAndKey(this,e),i}return new t.Relation(this,e)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var i,r=this.attributes[t];return i=a(r)?"":n.escape(r.toString()),this._escapedAttributes[t]=i,i},has:function(t){return!a(this.attributes[t])},_mergeMagicFields:function(e){var i=this;return t._arrayEach(["objectId","createdAt","updatedAt"],function(r){e[r]&&("objectId"===r?i.id=e[r]:"createdAt"!==r&&"updatedAt"!==r||n.isDate(e[r])?i[r]=e[r]:i[r]=t._parseDate(e[r]),delete e[r])}),e},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue);var i=n.first(this._opSetQueue);t._objectEach(e,function(t,n){var r=e[n],o=i[n];r&&o?i[n]=o._mergeWithPrevious(r):r&&(i[n]=r)}),this._saving=this._saving-1},_finishSave:function(e){var i={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(i[e.id]=e)});var r=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue),this._applyOpSet(r,this._serverData),this._mergeMagicFields(e);var o=this;t._objectEach(e,function(e,n){o._serverData[n]=t._decode(e,n);var r=t._traverse(o._serverData[n],function(e){if(e instanceof t.Object&&i[e.id])return i[e.id]});r&&(o._serverData[n]=r)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(e,i){this._opSetQueue=[{}],this._mergeMagicFields(e);var n=this;t._objectEach(e,function(e,i){n._serverData[i]=t._decode(e,i)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=i},_applyOpSet:function(e,i){var n=this;t._objectEach(e,function(e,r){i[r]=e._estimate(i[r],n,r),i[r]===t.Op._UNSET&&delete i[r]})},_resetCacheForKey:function(e){var i=this.attributes[e];if(n.isObject(i)&&!(i instanceof t.Object)&&!(i instanceof t.File)){i=i.toJSON?i.toJSON():i;var r=JSON.stringify(i);if(this._hashedJSON[e]!==r){var o=!!this._hashedJSON[e];return this._hashedJSON[e]=r,o}}return!1},_rebuildEstimatedDataForKey:function(e){var i=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(n){var r=n[e];r&&(i.attributes[e]=r._estimate(i.attributes[e],i,e),i.attributes[e]===t.Op._UNSET?delete i.attributes[e]:i._resetCacheForKey(e))})},_rebuildAllEstimatedData:function(){var e=this,i=n.clone(this.attributes);this.attributes=n.clone(this._serverData),t._arrayEach(this._opSetQueue,function(i){e._applyOpSet(i,e.attributes),t._objectEach(i,function(t,i){e._resetCacheForKey(i)})}),t._objectEach(i,function(t,i){e.attributes[i]!==t&&e.trigger("change:"+i,e,e.attributes[i],{})}),t._objectEach(this.attributes,function(t,r){n.has(i,r)||e.trigger("change:"+r,e,t,{})})},set:function(e,i,r){var o;if(n.isObject(e)||a(e)?(o=n.mapObject(e,function(e,i){return c(i),t._decode(e,i)}),r=i):(o={},c(e),o[e]=t._decode(i,e)),r=r||{},!o)return this;o instanceof t.Object&&(o=o.attributes),r.unset&&t._objectEach(o,function(e,i){o[i]=new t.Op.Unset});var s=n.clone(o),l=this;t._objectEach(s,function(e,i){e instanceof t.Op&&(s[i]=e._estimate(l.attributes[i],l,i),s[i]===t.Op._UNSET&&delete s[i])}),this._validate(o,r),r.changes={};var u=this._escapedAttributes;return this._previousAttributes,t._arrayEach(n.keys(o),function(e){var i=o[e];i instanceof t.Relation&&(i.parent=l),i instanceof t.Op||(i=new t.Op.Set(i));var s=!0;i instanceof t.Op.Set&&n.isEqual(l.attributes[e],i.value)&&(s=!1),s&&(delete u[e],r.silent?l._silent[e]=!0:r.changes[e]=!0);var a=n.last(l._opSetQueue);a[e]=i._mergeWithPrevious(a[e]),l._rebuildEstimatedDataForKey(e),s?(l.changed[e]=l.attributes[e],r.silent||(l._pending[e]=!0)):(delete l.changed[e],delete l._pending[e])}),r.silent||this.change(r),this},unset:function(t,e){return(e=e||{}).unset=!0,this.set(t,null,e)},increment:function(e,i){return(n.isUndefined(i)||n.isNull(i))&&(i=1),this.set(e,new t.Op.Increment(i))},add:function(e,i){return this.set(e,new t.Op.Add(l(i)))},addUnique:function(e,i){return this.set(e,new t.Op.AddUnique(l(i)))},remove:function(e,i){return this.set(e,new t.Op.Remove(l(i)))},bitAnd:function(e,i){return this.set(e,new t.Op.BitAnd(i))},bitOr:function(e,i){return this.set(e,new t.Op.BitOr(i))},bitXor:function(e,i){return this.set(e,new t.Op.BitXor(i))},op:function(t){return n.last(this._opSetQueue)[t]},clear:function(t){(t=t||{}).unset=!0;var e=n.extend(this.attributes,this._operations);return this.set(e,t)},_getSaveJSON:function(){var e=n.clone(n.first(this._opSetQueue));return t._objectEach(e,function(t,i){e[i]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(t,e){var i=this;return o("classes",this.className,this.id,"GET",u(t),e).then(function(t){return i._finishFetch(i.parse(t),!0),i})},save:function(e,i,r){var s,l,u;n.isObject(e)||a(e)?(s=e,u=i):((s={})[e]=i,u=r),(u=n.clone(u)||{}).wait&&(l=n.clone(this.attributes));var h=n.clone(u)||{};h.wait&&(h.silent=!0),s&&this.set(s,h);var c=this,f=[],_=[];return t.Object._findUnsavedChildren(c,f,_),f.length+_.length>1?t.Object._deepSaveAsync(this,c,u):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||t.Promise.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch(function(t){}).then(function(){var t,e=c.id?"PUT":"POST",i=c._getSaveJSON(),r={};if(((c._fetchWhenSave||u.fetchWhenSave)&&(r.new="true"),u.query)&&("function"==typeof u.query.toJSON&&(t=u.query.toJSON())&&(r.where=t.where),!r.where))throw new Error("options.query is not an AV.Query");n.extend(i,c._flags);var a="classes",f=c.className;"_User"!==c.className||c.id||(a="users",f=null);var _=(u._makeRequest||o)(a,f,c.id,e,i,u,r);return _.then(function(t){var e=c.parse(t);return u.wait&&(e=n.extend(s||{},e)),c._finishSave(e),u.wait&&c.set(l,h),c},function(t){throw c._cancelSave(),t})}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,i=function(){e.trigger("destroy",e,e.collection,t)};return this.id?(t.wait||i(),o("classes",this.className,this.id,"DELETE",this._flags,t).then(function(){return t.wait&&i(),e})):i()},parse:function(e){var i=n.clone(e);return n(["createdAt","updatedAt"]).each(function(e){i[e]&&(i[e]=t._parseDate(i[e]))}),i.createdAt&&!i.updatedAt&&(i.updatedAt=i.createdAt),i},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var i=this._changing;this._changing=!0;var r=this;t._objectEach(this._silent,function(t){r._pending[t]=!0});var o=n.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(o,function(t,i){r.trigger("change:"+i,r,r.get(i),e)}),i)return this;for(var s=function(t,e){r._pending[e]||r._silent[e]||delete r.changed[e]};!n.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,s),r._previousAttributes=n.clone(this.attributes);return this._changing=!1,this},hasChanged:function(t){return arguments.length?this.changed&&n.has(this.changed,t):!n.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var i={},r=this._previousAttributes;return t._objectEach(e,function(t,e){n.isEqual(r[e],t)||(i[e]=t)}),i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(t){return!1}return!0},validate:function(e){if(n.has(e,"ACL")&&!(e.ACL instanceof t.ACL))throw new r(r.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(t,e){!e.silent&&this.validate&&(t=n.extend({},this.attributes,t),this.validate(t))},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(e){n.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],e)||console.trace("Unsupported hookName: "+e),t.hookKey||console.trace("ignoreHook required hookKey"),this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(e)}}),t.Object.createWithoutData=function(e,i,n){var r=new t.Object(e);return r.id=i,r._hasData=n,r},t.Object.destroyAll=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return t.Promise.resolve();var s=n.groupBy(e,function(t){return JSON.stringify({className:t.className,flags:t._flags})}),a={requests:n.map(s,function(t){var e=n.map(t,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+t[0].className+"/"+e,body:t[0]._flags}})};return o("batch",null,null,"POST",a,i).then(function(t){var e=n.find(t,function(t){return!t.success});if(e)throw new r(e.error.code,e.error.error)})},t.Object._getSubclass=function(e){if(!n.isString(e))throw new Error("AV.Object._getSubclass requires a string argument.");var i=t.Object._classMap[e];return i||(i=t.Object.extend(e),t.Object._classMap[e]=i),i},t.Object._create=function(e,i,n){return new(t.Object._getSubclass(e))(i,n)},t.Object._classMap={},t.Object._extend=t._extend,t.Object.new=function(e,i){return new t.Object(e,i)},t.Object.extend=function(e,i,r){if(!n.isString(e)){if(e&&n.has(e,"className"))return t.Object.extend(e.className,e,i);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===e&&(e="_User");var o=null;if(n.has(t.Object._classMap,e)){var s=t.Object._classMap[e];if(!i&&!r)return s;o=s._extend(i,r)}else(i=i||{})._className=e,o=this._extend(i,r);return o.extend=function(i){if(n.isString(i)||i&&n.has(i,"className"))return t.Object.extend.apply(o,arguments);var r=[e].concat(n.toArray(arguments));return t.Object.extend.apply(o,r)},Object.defineProperty(o,"query",Object.getOwnPropertyDescriptor(t.Object,"query")),o.new=function(t,e){return new o(t,e)},t.Object._classMap[e]=o,o},Object.defineProperty(t.Object.prototype,"className",{get:function(){var t=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===t?"_User":t}}),t.Object.register=function(e,i){if(!(e.prototype instanceof t.Object))throw new Error("registered class is not a subclass of AV.Object");var n=i||e.name;if(!n.length)throw new Error("registered class must be named");i&&(e._LCClassName=i),t.Object._classMap[n]=e},Object.defineProperty(t.Object,"query",{get:function(){return new t.Query(this.prototype.className)}}),t.Object._findUnsavedChildren=function(e,i,n){t._traverse(e,function(e){return e instanceof t.Object?void(e._dirty()&&i.push(e)):e instanceof t.File?void(e.url()||e.id||n.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){var i=!0;return e instanceof t.Object||e instanceof t.File?i=!!e.id:n.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(i=!1)}):n.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(i=!1)}),i},t.Object._deepSaveAsync=function(e,i,s){var a=[],l=[];t.Object._findUnsavedChildren(e,a,l);var u=t.Promise.resolve();n.each(l,function(t){u=u.then(function(){return t.save()})});var h=n.uniq(a),c=n.uniq(h);return u.then(function(){return t.Promise._continueWhile(function(){return c.length>0},function(){var e=[],i=[];if(t._arrayEach(c,function(t){e.length>20?i.push(t):t._canBeSerialized()?e.push(t):i.push(t)}),c=i,0===e.length)return t.Promise.reject(new r(r.OTHER_CAUSE,"Tried to save a batch with a cycle."));var a=t.Promise.resolve(n.map(e,function(e){return e._allPreviousSaves||t.Promise.resolve()})).then(function(){return o("batch",null,null,"POST",{requests:n.map(e,function(t){var e=t.id?"PUT":"POST",i=t._getSaveJSON();n.extend(i,t._flags);var r="/classes/"+t.className;"_User"!==t.className||t.id||(r="/users");r="/1.1"+r;return t.id&&(r=r+"/"+t.id),t._startSave(),{method:e,path:r,body:i}})},s).then(function(t){var i=n.map(e,function(e,i){return t[i].success?(e._finishSave(e.parse(t[i].success)),e):(e._cancelSave(),new r(t[i].error.code,t[i].error.error))});return f(i)})});return t._arrayEach(e,function(t){t._allPreviousSaves=a}),a})}).then(function(){return e})}}},function(t,e,i){var n=i(0);t.exports=function(t){t.Op=function(){this._initialize.apply(this,arguments)},n.extend(t.Op.prototype,{_initialize:function(){}}),n.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,i){t.Op._opDecoderMap[e]=i},_decode:function(e){var i=t.Op._opDecoderMap[e.__op];return i?i(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var i=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),i=e._mergeWithPrevious(i)}),i}),t.Op.Set=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.BitAnd=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(0);if(e instanceof t.Op.Set)return new t.Op.Set(e.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t&this.value()}}),t.Op._registerDecoder("BitAnd",function(e){return new t.Op.BitAnd(e.value)}),t.Op.BitOr=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t|this.value()}}),t.Op._registerDecoder("BitOr",function(e){return new t.Op.BitOr(e.value)}),t.Op.BitXor=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t^this.value()}}),t.Op._registerDecoder("BitXor",function(e){return new t.Op.BitXor(e.value)}),t.Op.Add=t.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t.concat(this.objects()):n.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(t){this._objects=n.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var i=n.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var r=n.find(i,function(i){return i instanceof t.Object&&i.id===e.id});if(r){var o=n.indexOf(i,r);i[o]=e}else i.push(e)}else n.contains(i,e)||i.push(e)}),i}return n.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(t){this._objects=n.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(n.union(e.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var i=n.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(i=n.reject(i,function(i){return i instanceof t.Object&&i.id===e.id}))}),i}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,i){this._targetClassName=null;var r=this,o=function(e){if(e instanceof t.Object){if(!e.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(r._targetClassName||(r._targetClassName=e.className),r._targetClassName!==e.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+r._targetClassName+" and "+e.className+".");return e.id}return e};this.relationsToAdd=n.uniq(n.map(e,o)),this.relationsToRemove=n.uniq(n.map(i,o))},added:function(){var e=this;return n.map(this.relationsToAdd,function(i){var n=t.Object._create(e._targetClassName);return n.id=i,n})},removed:function(){var e=this;return n.map(this.relationsToRemove,function(i){var n=t.Object._create(e._targetClassName);return n.id=i,n})},toJSON:function(){var t=null,e=null,i=this,r=function(t){return{__type:"Pointer",className:i._targetClassName,objectId:t}};return this.relationsToAdd.length>0&&(t={__op:"AddRelation",objects:n.map(this.relationsToAdd,r)}),this.relationsToRemove.length>0&&(e={__op:"RemoveRelation",objects:n.map(this.relationsToRemove,r)}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.");var i=n.union(n.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),r=n.union(n.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),o=new t.Op.Relation(i,r);return o._targetClassName=this._targetClassName,o}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e,i,n){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Op is invalid after previous op.")}new t.Relation(i,n).targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(e.objects))})}},function(t,e,i){},function(t,e,i){var n=i(2).request;t.exports=function(t){t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(t,e){if(t.where&&(t.where=t.where.toJSON().where),t.where&&t.cql)throw new Error("Both where and cql can't be set");if(t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_time_interval)throw new Error("Both expiration_time and expiration_time_interval can't be set");return n({service:"push",method:"POST",path:"/push",data:t,authOptions:e})}}},function(t,e,i){var n=i(0),r=i(6)("leancloud:query"),o=i(1),s=i(4),a=i(2),l=a._request,u=a.request,h=i(3),c=h.ensureArray,f=h.transformFetchOptions,_=function(t,e){if(void 0===t)throw new Error(e)};t.exports=function(t){t.Query=function(e){n.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._extraOptions={}},t.Query.or=function(){var e=n.toArray(arguments),i=null;t._arrayEach(e,function(t){if(n.isNull(i)&&(i=t.className),i!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(i);return r._orQuery(e),r},t.Query.and=function(){var e=n.toArray(arguments),i=null;t._arrayEach(e,function(t){if(n.isNull(i)&&(i=t.className),i!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(i);return r._andQuery(e),r},t.Query.doCloudQuery=function(e,i,r){var o={cql:e};return n.isArray(i)?o.pvalues=i:r=i,l("cloudQuery",null,null,"GET",o,r).then(function(e){var i=new t.Query(e.className);return{results:n.map(e.results,function(t){var n=i._newObject(e);return n._finishFetch&&n._finishFetch(i._processResult(t),!0),n}),count:e.count,className:e.className}})},t.Query._extend=t._extend,n.extend(t.Query.prototype,{_processResult:function(t){return t},get:function(t,e){if(!t)throw new s(s.OBJECT_NOT_FOUND,"Object not found.");var i=this._newObject();i.id=t;var r=this.toJSON(),o={};return r.keys&&(o.keys=r.keys),r.include&&(o.include=r.include),r.includeACL&&(o.includeACL=r.includeACL),l("classes",this.className,t,"GET",f(o),e).then(function(t){if(n.isEmpty(t))throw new s(s.OBJECT_NOT_FOUND,"Object not found.");return i._finishFetch(i.parse(t),!0),i})},toJSON:function(){var e={where:this._where};return this._include.length>0&&(e.include=this._include.join(",")),this._select.length>0&&(e.keys=this._select.join(",")),void 0!==this._includeACL&&(e.returnACL=this._includeACL),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order),t._objectEach(this._extraOptions,function(t,i){e[i]=t}),e},_newObject:function(e){return e&&e.className?new t.Object(e.className):new this.objectClass},_createRequest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toJSON(),e=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;return encodeURIComponent(JSON.stringify(t)).length>2e3?u({path:"/batch",method:"POST",data:{requests:[{method:"GET",path:"/1.1"+i,params:t}]},authOptions:e}).then(function(t){var e=t[0];if(e.success)return e.success;var i=new Error(e.error.error||"Unknown batch error");throw i.code=e.error.code,i}):u({method:"GET",path:i,query:t,authOptions:e})},_parseResponse:function(t){var e=this;return n.map(t.results,function(i){var n=e._newObject(t);return n._finishFetch&&n._finishFetch(e._processResult(i),!0),n})},find:function(t){return this._createRequest(void 0,t).then(this._parseResponse.bind(this))},scan:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.orderedBy,s=e.batchSize,a=arguments[1],u=this.toJSON();r("scan %O",u),u.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete u.order),u.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete u.skip),u.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete u.limit),i&&(u.scan_key=i),s&&(u.limit=s);var h=o.resolve([]),c=void 0,f=!1;return{next:function(){return(h=h.then(function(e){return f?[]:e.length>1?e:c||0===e.length?l("scan/classes",t.className,null,"GET",c?n.extend({},u,{cursor:c}):u,a).then(function(e){return c=e.cursor,t._parseResponse(e)}).then(function(t){return t.length||(f=!0),e.concat(t)}):(f=!0,e)})).then(function(t){return t.shift()}).then(function(t){return{value:t,done:f}})}}},destroyAll:function(e){return this.find(e).then(function(i){return t.Object.destroyAll(i,e)})},count:function(t){var e=this.toJSON();return e.limit=0,e.count=1,this._createRequest(e,t).then(function(t){return t.count})},first:function(t){var e=this,i=this.toJSON();return i.limit=1,this._createRequest(i,t).then(function(t){return n.map(t.results,function(t){var i=e._newObject();return i._finishFetch&&i._finishFetch(e._processResult(t),!0),i})[0]})},skip:function(t){return _(t,"undefined is not a valid skip value"),this._skip=t,this},limit:function(t){return _(t,"undefined is not a valid limit value"),this._limit=t,this},equalTo:function(e,i){return _(e,"undefined is not a valid key"),_(i,"undefined is not a valid value"),this._where[e]=t._encode(i),this},_addCondition:function(e,i,n){return _(e,"undefined is not a valid condition key"),_(i,"undefined is not a valid condition"),_(n,"undefined is not a valid condition value"),this._where[e]||(this._where[e]={}),this._where[e][i]=t._encode(n),this},sizeEqualTo:function(t,e){this._addCondition(t,"$size",e)},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,i){return this._addCondition(t,"$regex",e),i||(i=""),e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),i&&i.length&&this._addCondition(t,"$options",i),this},matchesQuery:function(t,e){var i=e.toJSON();return i.className=e.className,this._addCondition(t,"$inQuery",i),this},doesNotMatchQuery:function(t,e){var i=e.toJSON();return i.className=e.className,this._addCondition(t,"$notInQuery",i),this},matchesKeyInQuery:function(t,e,i){var n=i.toJSON();return n.className=i.className,this._addCondition(t,"$select",{key:e,query:n}),this},doesNotMatchKeyInQuery:function(t,e,i){var n=i.toJSON();return n.className=i.className,this._addCondition(t,"$dontSelect",{key:e,query:n}),this},_orQuery:function(t){var e=n.map(t,function(t){return t.toJSON().where});return this._where.$or=e,this},_andQuery:function(t){var e=n.map(t,function(t){return t.toJSON().where});return this._where.$and=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return _(t,"undefined is not a valid key"),this._order=t,this},addAscending:function(t){return _(t,"undefined is not a valid key"),this._order?this._order+=","+t:this._order=t,this},descending:function(t){return _(t,"undefined is not a valid key"),this._order="-"+t,this},addDescending:function(t){return _(t,"undefined is not a valid key"),this._order?this._order+=",-"+t:this._order="-"+t,this},near:function(e,i){return i instanceof t.GeoPoint||(i=new t.GeoPoint(i)),this._addCondition(e,"$nearSphere",i),this},withinRadians:function(t,e,i){return this.near(t,e),this._addCondition(t,"$maxDistance",i),this},withinMiles:function(t,e,i){return this.withinRadians(t,e,i/3958.8)},withinKilometers:function(t,e,i){return this.withinRadians(t,e,i/6371)},withinGeoBox:function(e,i,n){return i instanceof t.GeoPoint||(i=new t.GeoPoint(i)),n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$within",{$box:[i,n]}),this},include:function(t){var e=this;return _(t,"undefined is not a valid key"),n(arguments).forEach(function(t){e._include=e._include.concat(c(t))}),this},includeACL:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=t,this},select:function(t){var e=this;return _(t,"undefined is not a valid key"),n(arguments).forEach(function(t){e._select=e._select.concat(c(t))}),this},each:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var r=new Error("Cannot iterate on a query with sort, skip, or limit.");return t.Promise.reject(r)}var o=new t.Query(this.objectClass);o._limit=i.batchSize||100,o._where=n.clone(this._where),o._include=n.clone(this._include),o.ascending("objectId");var s=!1;return t.Promise._continueWhile(function(){return!s},function(){return o.find(i).then(function(i){var r=t.Promise.resolve();return n.each(i,function(t){r=r.then(function(){return e(t)})}),r.then(function(){i.length>=o._limit?o.greaterThan("objectId",i[i.length-1].id):s=!0})})})},subscribe:function(e){return t.LiveQuery.init(this,e)}}),t.FriendShipQuery=t.Query._extend({_objectClass:t.User,_newObject:function(){return new t.User},_processResult:function(t){if(t&&t[this._friendshipTag]){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}return null}})}},function(t,e,i){var n=i(0);t.exports=function(t){t.Relation=function(t,e){if(!n.isString(e))throw new TypeError("key must be a string");this.parent=t,this.key=e,this.targetClassName=null},t.Relation.reverseQuery=function(e,i,n){var r=new t.Query(e);return r.equalTo(i,n._toPointer()),r},n.extend(t.Relation.prototype,{_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(e){n.isArray(e)||(e=[e]);var i=new t.Op.Relation(e,[]);this.parent.set(this.key,i),this.targetClassName=i._targetClassName},remove:function(e){n.isArray(e)||(e=[e]);var i=new t.Op.Relation([],e);this.parent.set(this.key,i),this.targetClassName=i._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,i;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),i=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),(i=new t.Query(e))._extraOptions.redirectClassNameForKey=this.key),i._addCondition("$relatedTo","object",this.parent._toPointer()),i._addCondition("$relatedTo","key",this.key),i}})}},function(t,e,i){var n=i(0),r=i(4);t.exports=function(t){t.Role=t.Object.extend("_Role",{constructor:function(e,i){if(n.isString(e)?(t.Object.prototype.constructor.call(this,null,null),this.setName(e)):t.Object.prototype.constructor.call(this,e,i),i){if(!(i instanceof t.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(i)}},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,i){if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new r(r.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(o))return new r(r.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new r(r.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!t.Object.prototype.validate&&t.Object.prototype.validate.call(this,e,i)}})}},function(t,e,i){var n=i(0),r=i(2)._request;t.exports=function(t){t.SearchSortBuilder=function(){this._sortFields=[]},n.extend(t.SearchSortBuilder.prototype,{_addField:function(t,e,i,n){var r={};return r[t]={order:e||"asc",mode:i||"avg",missing:"_"+(n||"last")},this._sortFields.push(r),this},ascending:function(t,e,i){return this._addField(t,"asc",e,i)},descending:function(t,e,i){return this._addField(t,"desc",e,i)},whereNear:function(t,e,i){i=i||{};var n={},r={lat:e.latitude,lon:e.longitude},o={order:i.order||"asc",mode:i.mode||"avg",unit:i.unit||"km"};return o[t]=r,n._geo_distance=o,this._sortFields.push(n),this},build:function(){return JSON.stringify(t._encode(this._sortFields))}}),t.SearchQuery=t.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_createRequest:function(t,e){return r("search/select",null,null,"GET",t||this.toJSON(),e)},sid:function(t){return this._sid=t,this},queryString:function(t){return this._queryString=t,this},highlights:function(t){var e;return e=t&&n.isString(t)?arguments:t,this._highlights=e,this},sortBy:function(t){return this._sortBuilder=t,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(t){return delete t.className,delete t._app_url,delete t._deeplink,t},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(){var t=this;return this._createRequest().then(function(e){return e.sid?(t._oldSid=t._sid,t._sid=e.sid):(t._sid=null,t._hitEnd=!0),t._hits=e.hits||0,n.map(e.results,function(i){i.className&&(e.className=i.className);var n=t._newObject(e);return n.appURL=i._app_url,n._finishFetch(t._processResult(i),!0),n})})},toJSON:function(){var e=t.SearchQuery.__super__.toJSON.call(this);if(delete e.where,this.className&&(e.clazz=this.className),this._sid&&(e.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(e.q=this._queryString,this._highlights&&(e.highlights=this._highlights.join(",")),this._sortBuilder&&e.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(e.sort=this._sortBuilder.build()),e}})}},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},r=i(0),o=i(2)._request,s=i(3).getSessionToken;t.exports=function(t){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(e)?t.User._fetchUserBySessionToken(s(e)):t.User.currentAsync()},i=function(i){return e(i).then(function(e){return t.Object.createWithoutData("_User",e.id)._toPointer()})};t.Status=function(t,e){return this.data={},this.inboxType="default",this.query=null,t&&"object"===(void 0===t?"undefined":n(t))?this.data=t:(t&&(this.data.image=t),e&&(this.data.message=e)),this},r.extend(t.Status.prototype,{get:function(t){return this.data[t]},set:function(t,e){return this.data[t]=e,this},destroy:function(e){return this.id?o("statuses",null,this.id,"DELETE",e):t.Promise.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?t.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var e=r.clone(this.data);return t._encode(e)},send:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!s(n)&&!t.User.current())throw new Error("Please signin an user.");return this.query?i(n).then(function(t){var i=e.query.toJSON();i.className=e.query.className;var r={};return r.query=i,e.data=e.data||{},e.data.source=e.data.source||t,r.data=e._getDataJSON(),r.inboxType=e.inboxType||"default",o("statuses",null,null,"POST",r,n)}).then(function(i){return e.id=i.objectId,e.createdAt=t._parseDate(i.createdAt),e}):t.Status.sendStatusToFollowers(this,n)},_finishFetch:function(e){this.id=e.objectId,this.createdAt=t._parseDate(e.createdAt),this.updatedAt=t._parseDate(e.updatedAt),this.messageId=e.messageId,delete e.messageId,delete e.objectId,delete e.createdAt,delete e.updatedAt,this.data=t._decode(e)}}),t.Status.sendStatusToFollowers=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s(n)&&!t.User.current())throw new Error("Please signin an user.");return i(n).then(function(i){var r={className:"_Follower",keys:"follower"};r.where={user:i};var s={};return s.query=r,e.data=e.data||{},e.data.source=e.data.source||i,s.data=e._getDataJSON(),s.inboxType=e.inboxType||"default",o("statuses",null,null,"POST",s,n).then(function(i){return e.id=i.objectId,e.createdAt=t._parseDate(i.createdAt),e})})},t.Status.sendPrivateStatus=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s(a)&&!t.User.current())throw new Error("Please signin an user.");if(!n)throw new Error("Invalid target user.");var l=r.isString(n)?n:n.id;if(!l)throw new Error("Invalid target user.");return i(a).then(function(i){var n={className:"_User"};n.where={objectId:l};var r={};return r.query=n,e.data=e.data||{},e.data.source=e.data.source||i,r.data=e._getDataJSON(),r.inboxType="private",e.inboxType="private",o("statuses",null,null,"POST",r,a).then(function(i){return e.id=i.objectId,e.createdAt=t._parseDate(i.createdAt),e})})},t.Status.countUnreadStatuses=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isString(n)||(a=n),!s(a)&&null==i&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return e(a).then(function(e){var i={};return i.inboxType=t._encode(n),i.owner=t._encode(e),o("subscribe/statuses/count",null,null,"GET",i,a)})},t.Status.resetUnreadCount=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isString(n)||(a=n),!s(a)&&null==i&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return e(a).then(function(e){var i={};return i.inboxType=t._encode(n),i.owner=t._encode(e),o("subscribe/statuses/resetUnreadCount",null,null,"POST",i,a)})},t.Status.statusQuery=function(e){var i=new t.Query("_Status");return e&&i.equalTo("source",e),i},t.InboxQuery=t.Query._extend({_objectClass:t.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new t.Status},_createRequest:function(e,i){return t.InboxQuery.__super__._createRequest.call(this,e,i,"/subscribe/statuses")},sinceId:function(t){return this._sinceId=t,this},maxId:function(t){return this._maxId=t,this},owner:function(t){return this._owner=t,this},inboxType:function(t){return this._inboxType=t,this},toJSON:function(){var e=t.InboxQuery.__super__.toJSON.call(this);return e.owner=t._encode(this._owner),e.inboxType=t._encode(this._inboxType),e.sinceId=t._encode(this._sinceId),e.maxId=t._encode(this._maxId),e}}),t.Status.inboxQuery=function(e,i){var n=new t.InboxQuery(t.Status);return e&&(n._owner=e),i&&(n._inboxType=i),n}}},function(t,e,i){var n=i(0),r=i(4),o=i(2),s=o._request,a=o.request,l=i(1),u=function(){if("undefined"==typeof wx||"function"!=typeof wx.login)throw new Error("Weapp Login is only available in Weapp");return new l(function(t,e){wx.login({success:function(i){var n=i.code,r=i.errMsg;n?t(n):e(new Error(r))},fail:function(){return e(new Error("wx.login 失败"))}})})};t.exports=function(t){t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(e){return e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,i){e[i]||delete e[i]})}},_synchronizeAllAuthData:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,i){e._synchronizeAuthData(i)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var i;n.isString(e)?(i=e,e=t.User._authProviders[i]):i=e.getAuthType();var r=this.get("authData");r&&e&&(e.restoreAuthentication(r[i])||this.dissociateAuthData(e))}},_handleSaveResult:function(e){return e&&!t._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!e&&!this.isCurrent()||t._config.disableCurrentUser?l.resolve():l.resolve(t.User._saveCurrentUser(this))},_linkWith:function(e,i){var r,o=this;if(n.isString(e)?(r=e,e=t.User._authProviders[e]):r=e.getAuthType(),i){var s=this.get("authData")||{};return s[r]=i,this.save({authData:s}).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})}return e.authenticate().then(function(t){return o._linkWith(e,t)})},associateWithAuthData:function(t,e){return this._linkWith(e,t)},linkWithWeapp:function(){var t=this;return u().then(function(e){return t._linkWith("lc_weapp",{code:e})})},dissociateAuthData:function(e){var i=this;return n.isString(e)&&(e=t.User._authProviders[e]),this._linkWith(e,null).then(function(t){return i._synchronizeAuthData(e),t})},_unlinkFrom:function(t){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(t)},_isLinked:function(t){var e;return e=n.isString(t)?t:t.getAuthType(),!!(this.get("authData")||{})[e]},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,i){e._logOutWith(i)})}},_logOutWith:function(e){this.isCurrent()&&(n.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(t,e){var i=t&&t.username||this.get("username");if(!i||""===i)throw new r(r.OTHER_CAUSE,"Cannot sign up user with an empty name.");var n=t&&t.password||this.get("password");if(!n||""===n)throw new r(r.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(t,e).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},signUpOrlogInWithMobilePhone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t&&t.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!i||""===i)throw new r(r.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var n=t&&t.smsCode||this.get("smsCode");if(!n||""===n)throw new r(r.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return e._makeRequest=function(t,e,i,n,r){return s("usersByMobilePhone",null,null,"POST",r)},this.save(t,e).then(function(t){return delete t.attributes.smsCode,delete t._serverData.smsCode,t._handleSaveResult(!0).then(function(){return t})})},logIn:function(){var t=this;return s("login",null,null,"POST",this.toJSON()).then(function(e){var i=t.parse(e);return t._finishFetch(i),t._handleSaveResult(!0).then(function(){return i.smsCode||delete t.attributes.smsCode,t})})},save:function(e,i,r){var o,s;return n.isObject(e)||n.isNull(e)||n.isUndefined(e)?(o=e,s=i):((o={})[e]=i,s=r),s=s||{},t.Object.prototype.save.call(this,o,s).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},follow:function(e,i){if(!this.id)throw new Error("Please signin.");var r=void 0,o=void 0;e.user?(r=e.user,o=e.attributes):r=e;var a=n.isString(r)?r:r.id;if(!a)throw new Error("Invalid target user.");var l="users/"+this.id+"/friendship/"+a;return s(l,null,null,"POST",t._encode(o),i)},unfollow:function(t,e){if(!this.id)throw new Error("Please signin.");var i;i=t.user?t.user:t;var r=n.isString(i)?i:i.id;if(!r)throw new Error("Invalid target user.");var o="users/"+this.id+"/friendship/"+r;return s(o,null,null,"DELETE",null,e)},followerQuery:function(){return t.User.followerQuery(this.id)},followeeQuery:function(){return t.User.followeeQuery(this.id)},fetch:function(e,i){return t.Object.prototype.fetch.call(this,e,i).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},updatePassword:function(t,e,i){var n="users/"+this.id+"/updatePassword";return s(n,null,null,"PUT",{old_password:t,new_password:e},i)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(t,e){return this.set("mobilePhoneNumber",t,e)},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!t._config.disableCurrentUser&&t.User.current()&&t.User.current().id===this.id},isAuthenticated:function(){var e=this;return l.resolve().then(function(){return!!e._sessionToken&&t.User._fetchUserBySessionToken(e._sessionToken).then(function(){return!0},function(t){if(211===t.code)return!1;throw t})})},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(t){var e=this;return s("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,t).then(function(t){return e._finishFetch(t),e._handleSaveResult(!0).then(function(){return e})})},getRoles:function(e){return t.Relation.reverseQuery("_Role","users",this).find(e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(e,i,n,r){return(n=n||{}).username=e,n.password=i,t.Object._create("_User").signUp(n,r)},logIn:function(e,i,n){var r=t.Object._create("_User");return r._finishFetch({username:e,password:i}),r.logIn(n)},become:function(t){return this._fetchUserBySessionToken(t).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_fetchUserBySessionToken:function(e){var i=t.Object._create("_User");return a({method:"GET",path:"/users/me",authOptions:{sessionToken:e}}).then(function(t){var e=i.parse(t);return i._finishFetch(e),i})},logInWithMobilePhoneSmsCode:function(e,i,n){var r=t.Object._create("_User");return r._finishFetch({mobilePhoneNumber:e,smsCode:i}),r.logIn(n)},signUpOrlogInWithMobilePhone:function(e,i,n,r){return(n=n||{}).mobilePhoneNumber=e,n.smsCode=i,t.Object._create("_User").signUpOrlogInWithMobilePhone(n,r)},logInWithMobilePhone:function(e,i,n){var r=t.Object._create("_User");return r._finishFetch({mobilePhoneNumber:e,password:i}),r.logIn(n)},signUpOrlogInWithAuthData:function(e,i){return t.User._logInWith(i,e)},loginWithWeapp:function(){var t=this;return u().then(function(e){return t.signUpOrlogInWithAuthData({code:e},"lc_weapp")})},associateWithAuthData:function(t,e,i){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#dissociateAuthData 代替"),t._linkWith(e,i)},logOut:function(){return t._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),l.resolve(null)):(null!==t.User._currentUser&&(t.User._currentUser._logOutWithAll(),t.User._currentUser._isCurrentUser=!1),t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,t.localStorage.removeItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(){return t._refreshSubscriptionId()}))},followerQuery:function(e){if(!e||!n.isString(e))throw new Error("Invalid user object id.");var i=new t.FriendShipQuery("_Follower");return i._friendshipTag="follower",i.equalTo("user",t.Object.createWithoutData("_User",e)),i},followeeQuery:function(e){if(!e||!n.isString(e))throw new Error("Invalid user object id.");var i=new t.FriendShipQuery("_Followee");return i._friendshipTag="followee",i.equalTo("user",t.Object.createWithoutData("_User",e)),i},requestPasswordReset:function(t){return s("requestPasswordReset",null,null,"POST",{email:t})},requestEmailVerify:function(t){return s("requestEmailVerify",null,null,"POST",{email:t})},requestMobilePhoneVerify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={mobilePhoneNumber:t};return e.validateToken&&(i.validate_token=e.validateToken),s("requestMobilePhoneVerify",null,null,"POST",i,e)},requestPasswordResetBySmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={mobilePhoneNumber:t};return e.validateToken&&(i.validate_token=e.validateToken),s("requestPasswordResetBySmsCode",null,null,"POST",i,e)},resetPasswordBySmsCode:function(t,e){return s("resetPasswordBySmsCode",null,t,"PUT",{password:e})},verifyMobilePhone:function(t){return s("verifyMobilePhone",null,t,"POST",null)},requestLoginSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={mobilePhoneNumber:t};return e.validateToken&&(i.validate_token=e.validateToken),s("requestLoginSmsCode",null,null,"POST",i,e)},currentAsync:function(){return t._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),l.resolve(null)):t.User._currentUser?l.resolve(t.User._currentUser):t.User._currentUserMatchesDisk?l.resolve(t.User._currentUser):t.localStorage.getItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUserMatchesDisk=!0,t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var i=JSON.parse(e);return t.User._currentUser.id=i._id,delete i._id,t.User._currentUser._sessionToken=i._sessionToken,delete i._sessionToken,t.User._currentUser._finishFetch(i),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},current:function(){if(t._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.localStorage.getItem(t._getAVPath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var i=JSON.parse(e);return t.User._currentUser.id=i._id,delete i._id,t.User._currentUser._sessionToken=i._sessionToken,delete i._sessionToken,t.User._currentUser._finishFetch(i),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_saveCurrentUser:function(e){return(t.User._currentUser!==e?t.User.logOut():l.resolve()).then(function(){e._isCurrentUser=!0,t.User._currentUser=e;var i=e.toJSON();return i._id=e.id,i._sessionToken=e._sessionToken,t.localStorage.setItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY),JSON.stringify(i)).then(function(){return t.User._currentUserMatchesDisk=!0,t._refreshSubscriptionId()})})},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,!t._config.disableCurrentUser&&t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,i){return t.Object._create("_User")._linkWith(e,i)}})}},function(t,e,i){function n(t){var e=this;this.AV=t,this.lockedUntil=0,o.getAsync("serverURLs").then(function(t){if(!t)return e.lock(0);var i=t.serverURLs,n=t.lockedUntil;e.AV._setServerURLs(i,!1),e.lockedUntil=n}).catch(function(){return e.lock(0)})}var r=i(3).ajax,o=i(9);n.prototype.disable=function(){this.disabled=!0},n.prototype.lock=function(t){this.lockedUntil=Date.now()+t},n.prototype.refresh=function(){var t=this;if(!(this.disabled||Date.now()<this.lockedUntil))return this.lock(10),r({method:"get",url:"https://app-router.leancloud.cn/2/route",query:{appId:this.AV.applicationId}}).then(function(e){if(!t.disabled){var i=e.ttl;if(!i)throw new Error("missing ttl");i*=1e3;var n={push:"https://"+e.push_server,stats:"https://"+e.stats_server,engine:"https://"+e.engine_server,api:"https://"+e.api_server};return t.AV._setServerURLs(n,!1),t.lock(i),o.setAsync("serverURLs",{serverURLs:n,lockedUntil:t.lockedUntil},i)}}).catch(function(e){console.warn("refresh server URLs failed: "+e.message),t.lock(600)})},t.exports=n},function(t,e,i){i(26);var n=i(5);n._=i(0),n.version=i(11),n.Promise=i(1),n.localStorage=i(10),n.Cache=i(9),n.Error=i(4),i(21),i(18)(n),i(20)(n),i(14)(n),i(25)(n),i(29)(n),i(19)(n),i(24)(n),i(30)(n),i(33)(n),i(28)(n),i(23)(n),i(15)(n),i(16)(n),i(27)(n),i(32)(n),i(31)(n),i(22)(n),n.Conversation=i(17),t.exports=n},function(t,e,i){t.exports=[]},function(t,e,i){var n=i(11),r=["Browser"].concat(i(36));t.exports="LeanCloud-JS-SDK/"+n+" ("+r.join("; ")+")"},function(t,e,i){var n=i(7),r=i(6)("cos"),o=i(1);t.exports=function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.attributes.url=t.url,i._bucket=t.bucket,i.id=t.objectId;var a=t.upload_url+"?sign="+encodeURIComponent(t.token);return new o(function(t,o){var l=n("POST",a).set(i._uploadHeaders).field("fileContent",e).field("op","upload");s.onprogress&&l.on("progress",s.onprogress),l.end(function(e,n){if(n&&r(n.status,n.body,n.text),e)return n&&(e.statusCode=n.status,e.responseText=n.text,e.response=n.body),o(e);t(i)})})}},function(t,e,i){var n=i(7),r=i(1),o=i(6)("qiniu");t.exports=function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.attributes.url=t.url,i._bucket=t.bucket,i.id=t.objectId;var a=t.token,l=t.upload_url||"https://upload.qiniup.com";return new r(function(t,r){var u=n("POST",l).set(i._uploadHeaders).field("file",e).field("name",i.attributes.name).field("key",i._qiniu_key).field("token",a);s.onprogress&&u.on("progress",s.onprogress),u.end(function(e,n){if(n&&o(n.status,n.body,n.text),e)return n&&(e.statusCode=n.status,e.responseText=n.text,e.response=n.body),r(e);t(i)})})}},function(t,e,i){var n=i(7),r=i(1),o=function(t,e){return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),t};t.exports=function(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i.attributes.url=t.url,i._bucket=t.bucket,i.id=t.objectId,new r(function(r,a){var l=n("PUT",t.upload_url).set(Object.assign({"Content-Type":i.get("mime_type"),"Cache-Control":"public, max-age=31536000"},i._uploadHeaders));s.onprogress&&l.on("progress",s.onprogress),l.on("response",function(t){if(t.ok)return r(i);a(o(t.error,t))}),l.on("error",function(t,e){return a(o(t,e))}),l.send(e).end()})}},function(t,e,i){(function(e){var n=i(0),r=(i(1),{}),o=e.localStorage;try{var s="__storejs__";if(o.setItem(s,s),o.getItem(s)!=s)throw new Error;o.removeItem(s)}catch(t){o=i(49)}n(["getItem","setItem","removeItem","clear"]).each(function(t){r[t]=function(){return o[t].apply(o,arguments)}}),r.async=!1,t.exports=r}).call(e,i(8))},function(t,e,i){t.exports=function(t,e){var i;t.indexOf("base64")<0?i=atob(t):t.split(",")[0].indexOf("base64")>=0?(e=e||t.split(",")[0].split(":")[1].split(";")[0],i=atob(t.split(",")[1])):i=unescape(t.split(",")[1]);for(var n=new Uint8Array(i.length),r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return new Blob([n],{type:e})}},function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){var i,n;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var r=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?e.push(i.charAt(r>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,r=0;n<t.length;r=++n%4)0!=r&&e.push((i.indexOf(t.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|i.indexOf(t.charAt(n))>>>6-2*r);return e}},t.exports=n},function(t,e,i){function n(t){function i(){if(i.enabled){var t=i,n=+new Date,o=n-(r||n);t.diff=o,t.prev=r,t.curr=n,r=n;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(i,n){if("%%"===i)return i;l++;var r=e.formatters[n];if("function"==typeof r){var o=s[l];i=r.call(t,o),s.splice(l,1),l--}return i}),e.formatArgs.call(t,s),(i.log||e.log||console.log.bind(console)).apply(t,s)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var i,n=0;for(i in t)n=(n<<5)-n+t.charCodeAt(i),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"==typeof e.init&&e.init(i),i}var r;(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var i=("string"==typeof t?t:"").split(/[\s,]+/),n=i.length,r=0;r<n;r++)i[r]&&("-"===(t=i[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var i,n;for(i=0,n=e.skips.length;i<n;i++)if(e.skips[i].test(t))return!1;for(i=0,n=e.names.length;i<n;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=i(51),e.names=[],e.skips=[],e.formatters={}},function(e,i,n){(function(i){var n;e.exports=function(){function e(t){return"function"==typeof t}function i(){var t=setTimeout;return function(){return t(r,1)}}function r(){for(var t=0;t<O;t+=2)(0,k[t])(k[t+1]),k[t]=void 0,k[t+1]=void 0;O=0}function o(t,e){var i=arguments,n=this,r=new this.constructor(l);void 0===r[F]&&y(r);var o,s=n._state;return s?(o=i[s-1],C(function(){return v(s,r,o,n._result)})):d(n,r,t,e),r}function s(t){if(t&&"object"==(void 0===t?"undefined":a(t))&&t.constructor===this)return t;var e=new this(l);return c(e,t),e}function l(){}function u(t){try{return t.then}catch(t){return G.error=t,G}}function h(t,i,n){var r,a,l,u;i.constructor===t.constructor&&n===o&&i.constructor.resolve===s?(l=t,(u=i)._state===B?_(l,u._result):u._state===j?p(l,u._result):d(u,void 0,function(t){return c(l,t)},function(t){return p(l,t)})):n===G?(p(t,G.error),G.error=null):void 0===n?_(t,i):e(n)?(r=i,a=n,C(function(t){var e=!1,i=function(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}(a,r,function(i){e||(e=!0,r!==i?c(t,i):_(t,i))},function(i){e||(e=!0,p(t,i))},t._label);!e&&i&&(e=!0,p(t,i))},t)):_(t,i)}function c(t,e){var i,n;t===e?p(t,new TypeError("You cannot resolve a promise with itself")):(n=void 0===(i=e)?"undefined":a(i),null===i||"object"!==n&&"function"!==n?_(t,e):h(t,e,u(e)))}function f(t){t._onerror&&t._onerror(t._result),m(t)}function _(t,e){t._state===U&&(t._result=e,t._state=B,0!==t._subscribers.length&&C(m,t))}function p(t,e){t._state===U&&(t._state=j,t._result=e,C(f,t))}function d(t,e,i,n){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+B]=i,r[o+j]=n,0===o&&t._state&&C(m,t)}function m(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],r=e[s+i],n?v(i,n,r,o):r(o);t._subscribers.length=0}}function g(){this.error=null}function v(t,i,n,r){var o=e(n),s=void 0,a=void 0,l=void 0,u=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return z.error=t,z}}(n,r))===z?(u=!0,a=s.error,s.error=null):l=!0,i===s)return void p(i,new TypeError("A promises callback cannot return that same promise."))}else s=r,l=!0;i._state!==U||(o&&l?c(i,s):u?p(i,a):t===B?_(i,s):t===j&&p(i,s))}function y(t){t[F]=q++,t._state=void 0,t._result=void 0,t._subscribers=[]}function $(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[F]||y(this.promise),P(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&_(this.promise,this._result))):p(this.promise,new Error("Array Methods must be provided an Array"))}function w(t){this[F]=q++,this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof w?function(t,e){try{e(function(e){c(t,e)},function(e){p(t,e)})}catch(e){p(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var b,T,x,S,P=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},O=0,E=void 0,A=void 0,C=function(t,e){k[O]=t,k[O+1]=e,2===(O+=2)&&(A?A(r):N())},L="undefined"!=typeof window?window:void 0,I=L||{},M=I.MutationObserver||I.WebKitMutationObserver,R="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),D="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,k=new Array(1e3),N=void 0;N=R?function(){return t.nextTick(r)}:M?(T=0,x=new M(r),S=document.createTextNode(""),x.observe(S,{characterData:!0}),function(){S.data=T=++T%2}):D?((b=new MessageChannel).port1.onmessage=r,function(){return b.port2.postMessage(0)}):void 0===L?function(){try{var t=(void 0)(56);return void 0!==(E=t.runOnLoop||t.runOnContext)?function(){E(r)}:i()}catch(t){return i()}}():i();var F=Math.random().toString(36).substring(16),U=void 0,B=1,j=2,G=new g,z=new g,q=0;return $.prototype._enumerate=function(t){for(var e=0;this._state===U&&e<t.length;e++)this._eachEntry(t[e],e)},$.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===s){var r=u(t);if(r===o&&t._state!==U)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(i===w){var a=new i(l);h(a,t,r),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},$.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===U&&(this._remaining--,t===j?p(n,i):this._result[e]=i),0===this._remaining&&_(n,this._result)},$.prototype._willSettleAt=function(t,e){var i=this;d(t,void 0,function(t){return i._settledAt(B,e,t)},function(t){return i._settledAt(j,e,t)})},w.all=function(t){return new $(this,t).promise},w.race=function(t){var e=this;return new e(P(t)?function(i,n){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(i,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},w.resolve=s,w.reject=function(t){var e=new this(l);return p(e,t),e},w._setScheduler=function(t){A=t},w._setAsap=function(t){C=t},w._asap=C,w.prototype={constructor:w,then:o,catch:function(t){return this.then(null,t)}},w.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=w},w.Promise=w,w}()}).call(i,n(8))},function(t,e,i){function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)s.call(t,e)&&i.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t,e){var i=a?a+t:t,n=this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},o.prototype.emit=function(t,e,i,n,r,o){var s=a?a+t:t;if(!this._events[s])return!1;var l,u,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,n),!0;case 5:return h.fn.call(h.context,e,i,n,r),!0;case 6:return h.fn.call(h.context,e,i,n,r,o),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var f,_=h.length;for(u=0;u<_;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,i);break;case 4:h[u].fn.call(h[u].context,e,i,n);break;default:if(!l)for(f=1,l=new Array(c-1);f<c;f++)l[f-1]=arguments[f];h[u].fn.apply(h[u].context,l)}}return!0},o.prototype.on=function(t,e,i){var n=new r(e,i||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,i){var n=new r(e,i||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,i,r){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var l=0,u=[],h=s.length;l<h;l++)(s[l].fn!==e||r&&!s[l].once||i&&s[l].context!==i)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,t.exports=o},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(i(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))||!!t._isBuffer);var e}},function(t,e,i){var n,r;r={},(n={}).length=0,n.getItem=function(t){return r[t]||null},n.setItem=function(t,e){void 0===e?n.removeItem(t):(r.hasOwnProperty(t)||n.length++,r[t]=""+e)},n.removeItem=function(t){r.hasOwnProperty(t)&&(delete r[t],n.length--)},n.key=function(t){return Object.keys(r)[t]||null},n.clear=function(){r={},n.length=0},t.exports=n},function(t,e,i){var n,r,o,s,a;n=i(44),r=i(12).utf8,o=i(48),s=i(12).bin,(a=function t(e,i){e.constructor==String?e=i&&"binary"===i.encoding?s.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=n.bytesToWords(e),l=8*e.length,u=1732584193,h=-271733879,c=-1732584194,f=271733878,_=0;_<a.length;_++)a[_]=16711935&(a[_]<<8|a[_]>>>24)|4278255360&(a[_]<<24|a[_]>>>8);a[l>>>5]|=128<<l%32,a[14+(l+64>>>9<<4)]=l;var p=t._ff,d=t._gg,m=t._hh,g=t._ii;for(_=0;_<a.length;_+=16){var v=u,y=h,$=c,w=f;h=g(h=g(h=g(h=g(h=m(h=m(h=m(h=m(h=d(h=d(h=d(h=d(h=p(h=p(h=p(h=p(h,c=p(c,f=p(f,u=p(u,h,c,f,a[_+0],7,-680876936),h,c,a[_+1],12,-389564586),u,h,a[_+2],17,606105819),f,u,a[_+3],22,-1044525330),c=p(c,f=p(f,u=p(u,h,c,f,a[_+4],7,-176418897),h,c,a[_+5],12,1200080426),u,h,a[_+6],17,-1473231341),f,u,a[_+7],22,-45705983),c=p(c,f=p(f,u=p(u,h,c,f,a[_+8],7,1770035416),h,c,a[_+9],12,-1958414417),u,h,a[_+10],17,-42063),f,u,a[_+11],22,-1990404162),c=p(c,f=p(f,u=p(u,h,c,f,a[_+12],7,1804603682),h,c,a[_+13],12,-40341101),u,h,a[_+14],17,-1502002290),f,u,a[_+15],22,1236535329),c=d(c,f=d(f,u=d(u,h,c,f,a[_+1],5,-165796510),h,c,a[_+6],9,-1069501632),u,h,a[_+11],14,643717713),f,u,a[_+0],20,-373897302),c=d(c,f=d(f,u=d(u,h,c,f,a[_+5],5,-701558691),h,c,a[_+10],9,38016083),u,h,a[_+15],14,-660478335),f,u,a[_+4],20,-405537848),c=d(c,f=d(f,u=d(u,h,c,f,a[_+9],5,568446438),h,c,a[_+14],9,-1019803690),u,h,a[_+3],14,-187363961),f,u,a[_+8],20,1163531501),c=d(c,f=d(f,u=d(u,h,c,f,a[_+13],5,-1444681467),h,c,a[_+2],9,-51403784),u,h,a[_+7],14,1735328473),f,u,a[_+12],20,-1926607734),c=m(c,f=m(f,u=m(u,h,c,f,a[_+5],4,-378558),h,c,a[_+8],11,-2022574463),u,h,a[_+11],16,1839030562),f,u,a[_+14],23,-35309556),c=m(c,f=m(f,u=m(u,h,c,f,a[_+1],4,-1530992060),h,c,a[_+4],11,1272893353),u,h,a[_+7],16,-155497632),f,u,a[_+10],23,-1094730640),c=m(c,f=m(f,u=m(u,h,c,f,a[_+13],4,681279174),h,c,a[_+0],11,-358537222),u,h,a[_+3],16,-722521979),f,u,a[_+6],23,76029189),c=m(c,f=m(f,u=m(u,h,c,f,a[_+9],4,-640364487),h,c,a[_+12],11,-421815835),u,h,a[_+15],16,530742520),f,u,a[_+2],23,-995338651),c=g(c,f=g(f,u=g(u,h,c,f,a[_+0],6,-198630844),h,c,a[_+7],10,1126891415),u,h,a[_+14],15,-1416354905),f,u,a[_+5],21,-57434055),c=g(c,f=g(f,u=g(u,h,c,f,a[_+12],6,1700485571),h,c,a[_+3],10,-1894986606),u,h,a[_+10],15,-1051523),f,u,a[_+1],21,-2054922799),c=g(c,f=g(f,u=g(u,h,c,f,a[_+8],6,1873313359),h,c,a[_+15],10,-30611744),u,h,a[_+6],15,-1560198380),f,u,a[_+13],21,1309151649),c=g(c,f=g(f,u=g(u,h,c,f,a[_+4],6,-145523070),h,c,a[_+11],10,-1120210379),u,h,a[_+2],15,718787259),f,u,a[_+9],21,-343485551),u=u+v>>>0,h=h+y>>>0,c=c+$>>>0,f=f+w>>>0}return n.endian([u,h,c,f])})._ff=function(t,e,i,n,r,o,s){var a=t+(e&i|~e&n)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},a._gg=function(t,e,i,n,r,o,s){var a=t+(e&n|i&~n)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},a._hh=function(t,e,i,n,r,o,s){var a=t+(e^i^n)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},a._ii=function(t,e,i,n,r,o,s){var a=t+(i^(e|~n))+(r>>>0)+s;return(a<<o|a>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var i=n.wordsToBytes(a(t,e));return e&&e.asBytes?i:e&&e.asString?s.bytesToString(i):n.bytesToHex(i)}},function(t,e){function i(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}var n=1e3,r=60*n,o=60*r,s=24*o,l=365.25*s;t.exports=function(t,e){e=e||{};var u,h,c=void 0===t?"undefined":a(t);if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*l;case"days":case"day":case"d":return i*s;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?i(h=t,s,"day")||i(h,o,"hour")||i(h,r,"minute")||i(h,n,"second")||h+" ms":(u=t)>=s?Math.round(u/s)+"d":u>=o?Math.round(u/o)+"h":u>=r?Math.round(u/r)+"m":u>=n?Math.round(u/n)+"s":u+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){function i(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){i.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),i.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=i},function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}var r=i(13);t.exports=n,n.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(t){return this._parser=t,this},n.prototype.responseType=function(t){return this._responseType=t,this},n.prototype.serialize=function(t){return this._serializer=t,this},n.prototype.timeout=function(t){if(!t||"object"!=(void 0===t?"undefined":a(t)))return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},n.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];n.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var i=this._retryCallback(t,e);if(!0===i)return!0;if(!1===i)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~o.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(t,e){if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){i.end(function(i,n){i?e(i):t(n)})})}return this._fullfilledPromise.then(t,e)},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.use=function(t){return t(this),this},n.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},n.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},n.prototype.get=function(t){return this._header[t.toLowerCase()]},n.prototype.getHeader=n.prototype.get,n.prototype.set=function(t,e){if(r(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var i in t)this.field(i,t[i]);return this}if(Array.isArray(e)){for(var n in e)this.field(t,e[n]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},n.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.prototype._auth=function(t,e,i,n){switch(i.type){case"basic":this.set("Authorization","Basic "+n(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},n.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},n.prototype.redirects=function(t){return this._maxRedirects=t,this},n.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(t){var e=r(t),i=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],this._data="application/x-www-form-urlencoded"==i?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(i||this.type("json"),this)},n.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},n.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var i=this.url.substring(e+1).split("&");"function"==typeof this._sort?i.sort(this._sort):i.sort(),this.url=this.url.substring(0,e)+"?"+i.join("&")}}},n.prototype._appendQueryString=function(){console.trace("Unsupported")},n.prototype._timeoutError=function(t,e,i){if(!this._aborted){var n=new Error(t+e+"ms exceeded");n.timeout=e,n.code="ECONNABORTED",n.errno=i,this.timedout=!0,this.abort(),this.callback(n)}},n.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}var r=i(55);t.exports=n,n.prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var i=r.params(e);for(var n in i)this[n]=i[n];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},n.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t}},function(t,e,i){e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var i=e.split(/ *= */),n=i.shift(),r=i.shift();return n&&r&&(t[n]=r),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var i=e.split(/ *; */),n=i[0].slice(1,-1);return t[i[1].split(/ *= */)[1].slice(1,-1)]=n,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&delete t.cookie,t}},function(t,e){}])},"object"==a(e)&&"object"==a(i)?i.exports=s():(r=[],void 0!==(o="function"==typeof(n=s)?n.apply(e,r):n)&&(i.exports=o))}).call(e,i(18),i(19)(t))},function(t,e,i){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(){d&&_&&(d=!1,_.length?p=_.concat(p):m=-1,p.length&&a())}function a(){if(!d){var t=o(s);d=!0;for(var e=p.length;e;){for(_=p,p=[];++m<e;)_&&_[m].run();m=-1,e=p.length}_=null,d=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var h,c,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var _,p=[],d=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||d||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,i){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var n,r,o,s,a;"function"==typeof Symbol&&Symbol.iterator,function(t){function e(e,i,n,r){var o=t(n,i);o.addData(e),o.make(),r=r||0;var s=o.getModuleCount(),a=o.getModuleCount()+2*r;this.text=e,this.level=i,this.version=n,this.moduleCount=a,this.isDark=function(t,e){return e-=r,!(0>(t-=r)||t>=s||0>e||e>=s)&&o.isDark(t,e)},this.addBlank=function(t,e,i,n){var r=this.isDark,o=1/a;this.isDark=function(s,a){var l=a*o,u=s*o,h=l+o,c=u+o;return r(s,a)&&(t>h||l>i||e>c||u>n)}}}function i(t,i,n,r,o){n=Math.max(1,n||1),r=Math.min(40,r||40);for(var s=n;r>=s;s+=1)try{return new e(t,i,s,o)}catch(t){}}function n(t,e,i){h(i.background).is("img")?e.drawImage(i.background,0,0,i.size,i.size):i.background&&(e.fillStyle=i.background,e.fillRect(i.left,i.top,i.size,i.size));var n,r,o,s,a,l,u,c,f,_,p,d,m=i.mode;1===m||2===m?function(t,e,i){var n=i.size,r="bold "+i.mSize*n+"px "+i.fontname,o=h("<canvas/>")[0].getContext("2d");o.font=r;var s=o.measureText(i.label).width,a=i.mSize,l=s/n,u=(1-l)*i.mPosX,c=(1-a)*i.mPosY,f=u+l,_=c+a;1===i.mode?t.addBlank(0,c-.01,n,_+.01):t.addBlank(u-.01,c-.01,f+.01,_+.01),e.fillStyle=i.fontcolor,e.font=r,e.fillText(i.label,u*n,c*n+.75*i.mSize*n)}(t,e,i):(3===m||4===m)&&(n=t,r=e,s=(o=i).size,a=o.image.naturalWidth||1,l=o.image.naturalHeight||1,u=o.mSize,f=(1-(c=u*a/l))*o.mPosX,_=(1-u)*o.mPosY,p=f+c,d=_+u,3===o.mode?n.addBlank(0,_-.01,s,d+.01):n.addBlank(f-.01,_-.01,p+.01,d+.01),r.drawImage(o.image,f*s,_*s,c*s,u*s))}function r(t,e,i,n,r,o,s,a){t.isDark(s,a)&&e.rect(n,r,o,o)}function o(t,e,i,n,r,o,s,a){var l,u,h,c,f,_,p,d,m,g,v,y,$,w,b,T,x,S,P,O=t.isDark,E=n+o,A=r+o,C=i.radius*o,L=s-1,I=s+1,M=a-1,R=a+1,D=O(s,a),k=O(L,M),N=O(L,a),F=O(L,R),U=O(s,R),B=O(I,R),j=O(I,a),G=O(I,M),z=O(s,M);D?(g=e,v=n,y=r,$=E,w=A,b=C,x=!N&&!U,S=!j&&!U,P=!j&&!z,(T=!N&&!z)?g.moveTo(v+b,y):g.moveTo(v,y),x?(g.lineTo($-b,y),g.arcTo($,y,$,w,b)):g.lineTo($,y),S?(g.lineTo($,w-b),g.arcTo($,w,v,w,b)):g.lineTo($,w),P?(g.lineTo(v+b,w),g.arcTo(v,w,v,y,b)):g.lineTo(v,w),T?(g.lineTo(v,y+b),g.arcTo(v,y,$,y,b)):g.lineTo(v,y)):(l=e,u=n,h=r,c=E,f=A,_=C,p=N&&U&&F,d=j&&U&&B,m=j&&z&&G,N&&z&&k&&(l.moveTo(u+_,h),l.lineTo(u,h),l.lineTo(u,h+_),l.arcTo(u,h,u+_,h,_)),p&&(l.moveTo(c-_,h),l.lineTo(c,h),l.lineTo(c,h+_),l.arcTo(c,h,c-_,h,_)),d&&(l.moveTo(c-_,f),l.lineTo(c,f),l.lineTo(c,f-_),l.arcTo(c,f,c-_,f,_)),m&&(l.moveTo(u+_,f),l.lineTo(u,f),l.lineTo(u,f-_),l.arcTo(u,f,u+_,f,_)))}function s(t,e){var s=i(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!s)return null;var a=h(t).data("qrcode",s),l=a[0].getContext("2d");return n(s,l,e),function(t,e,i){var n,s,a=t.moduleCount,l=i.size/a,u=r;for(f&&i.radius>0&&i.radius<=.5&&(u=o),e.beginPath(),n=0;a>n;n+=1)for(s=0;a>s;s+=1)u(t,e,i,i.left+s*l,i.top+n*l,l,n,s);if(h(i.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var c=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=c,e.clip(),e.drawImage(i.fill,0,0,i.size,i.size),e.restore()}else e.fillStyle=i.fill,e.fill()}(s,l,e),a}function a(t){return s(h("<canvas/>").attr("width",t.size).attr("height",t.size),t)}function l(t){return c&&"canvas"===t.render?a(t):c&&"image"===t.render?(e=t,h("<img/>").attr("src",a(e)[0].toDataURL("image/png"))):function(t){var e=i(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var n,r,o=t.size,s=t.background,a=Math.floor,l=e.moduleCount,u=a(o/l),c=a(.5*(o-u*l)),f={position:"relative",left:0,top:0,padding:0,margin:0,width:o,height:o},_={position:"absolute",padding:0,margin:0,width:u,height:u,"background-color":t.fill},p=h("<div/>").data("qrcode",e).css(f);for(s&&p.css("background-color",s),n=0;l>n;n+=1)for(r=0;l>r;r+=1)e.isDark(n,r)&&h("<div/>").css(_).css({left:c+r*u,top:c+n*u}).appendTo(p);return p}(t);var e}var u,h=jQuery,c=(u=document.createElement("canvas"),Boolean(u.getContext&&u.getContext("2d"))),f="[object Opera]"!==Object.prototype.toString.call(window.opera),_={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};h.fn.qrcode=function(t){var e=h.extend({},_,t);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?s(this,e):h(this).append(l(e))})}}((a=function(){function t(e,i){if(void 0===e.length)throw new Error(e.length+"/"+i);var n=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var n=new Array(e.length-t+i),r=0;r<e.length-t;r+=1)n[r]=e[r+t];return n}(),r={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(e){for(var i=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)i[n+o]^=w.gexp(w.glog(r.getAt(n))+w.glog(e.getAt(o)));return t(i,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var i=w.glog(r.getAt(0))-w.glog(e.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=w.gexp(w.glog(e.getAt(o))+i);return t(n,0).mod(e)}};return r}var e=function(e,i){var n=e,r=c[i],o=null,s=0,a=null,l=new Array,u={},h=function(t,e){o=function(t){for(var e=new Array(t),i=0;t>i;i+=1){e[i]=new Array(t);for(var n=0;t>n;n+=1)e[i][n]=null}return e}(s=4*n+17),f(0,0),f(s-7,0),f(0,s-7),p(),_(),m(t,e),n>=7&&d(t),null==a&&(a=v(n,r,l)),g(a,e)},f=function(t,e){for(var i=-1;7>=i;i+=1)if(!(-1>=t+i||t+i>=s))for(var n=-1;7>=n;n+=1)-1>=e+n||e+n>=s||(o[t+i][e+n]=i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n)},_=function(){for(var t=8;s-8>t;t+=1)null==o[t][6]&&(o[t][6]=t%2==0);for(var e=8;s-8>e;e+=1)null==o[6][e]&&(o[6][e]=e%2==0)},p=function(){for(var t=$.getPatternPosition(n),e=0;e<t.length;e+=1)for(var i=0;i<t.length;i+=1){var r=t[e],s=t[i];if(null==o[r][s])for(var a=-2;2>=a;a+=1)for(var l=-2;2>=l;l+=1)o[r+a][s+l]=-2==a||2==a||-2==l||2==l||0==a&&0==l}},d=function(t){for(var e=$.getBCHTypeNumber(n),i=0;18>i;i+=1){var r=!t&&1==(e>>i&1);o[Math.floor(i/3)][i%3+s-8-3]=r}for(i=0;18>i;i+=1){r=!t&&1==(e>>i&1);o[i%3+s-8-3][Math.floor(i/3)]=r}},m=function(t,e){for(var i=r<<3|e,n=$.getBCHTypeInfo(i),a=0;15>a;a+=1){var l=!t&&1==(n>>a&1);6>a?o[a][8]=l:8>a?o[a+1][8]=l:o[s-15+a][8]=l}for(a=0;15>a;a+=1){l=!t&&1==(n>>a&1);8>a?o[8][s-a-1]=l:9>a?o[8][15-a-1+1]=l:o[8][15-a-1]=l}o[s-8][8]=!t},g=function(t,e){for(var i=-1,n=s-1,r=7,a=0,l=$.getMaskFunction(e),u=s-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var h=0;2>h;h+=1)if(null==o[n][u-h]){var c=!1;a<t.length&&(c=1==(t[a]>>>r&1)),l(n,u-h)&&(c=!c),o[n][u-h]=c,-1==(r-=1)&&(a+=1,r=7)}if(0>(n+=i)||n>=s){n-=i,i=-i;break}}},v=function(e,i,n){for(var r=b.getRSBlocks(e,i),o=T(),s=0;s<n.length;s+=1){var a=n[s];o.put(a.getMode(),4),o.put(a.getLength(),$.getLengthInBits(a.getMode(),e)),a.write(o)}var l=0;for(s=0;s<r.length;s+=1)l+=r[s].dataCount;if(o.getLengthInBits()>8*l)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*l+")");for(o.getLengthInBits()+4<=8*l&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*l||(o.put(236,8),o.getLengthInBits()>=8*l));)o.put(17,8);return function(e,i){for(var n=0,r=0,o=0,s=new Array(i.length),a=new Array(i.length),l=0;l<i.length;l+=1){var u=i[l].dataCount,h=i[l].totalCount-u;r=Math.max(r,u),o=Math.max(o,h),s[l]=new Array(u);for(var c=0;c<s[l].length;c+=1)s[l][c]=255&e.getBuffer()[c+n];n+=u;var f=$.getErrorCorrectPolynomial(h),_=t(s[l],f.getLength()-1).mod(f);for(a[l]=new Array(f.getLength()-1),c=0;c<a[l].length;c+=1){var p=c+_.getLength()-a[l].length;a[l][c]=p>=0?_.getAt(p):0}}var d=0;for(c=0;c<i.length;c+=1)d+=i[c].totalCount;var m=new Array(d),g=0;for(c=0;r>c;c+=1)for(l=0;l<i.length;l+=1)c<s[l].length&&(m[g]=s[l][c],g+=1);for(c=0;o>c;c+=1)for(l=0;l<i.length;l+=1)c<a[l].length&&(m[g]=a[l][c],g+=1);return m}(o,r)};return u.addData=function(t){var e=x(t);l.push(e),a=null},u.isDark=function(t,e){if(0>t||t>=s||0>e||e>=s)throw new Error(t+","+e);return o[t][e]},u.getModuleCount=function(){return s},u.make=function(){h(!1,function(){for(var t=0,e=0,i=0;8>i;i+=1){h(!0,i);var n=$.getLostPoint(u);(0==i||t>n)&&(t=n,e=i)}return e}())},u.createTableTag=function(t,e){t=t||2;var i="";i+='<table style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",i+='">',i+="<tbody>";for(var n=0;n<u.getModuleCount();n+=1){i+="<tr>";for(var r=0;r<u.getModuleCount();r+=1)i+='<td style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: 0px;",i+=" width: "+t+"px;",i+=" height: "+t+"px;",i+=" background-color: ",i+=u.isDark(n,r)?"#000000":"#ffffff",i+=";",i+='"/>';i+="</tr>"}return(i+="</tbody>")+"</table>"},u.createImgTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var i=u.getModuleCount()*t+2*e,n=e,r=i-e;return E(i,i,function(e,i){if(e>=n&&r>e&&i>=n&&r>i){var o=Math.floor((e-n)/t),s=Math.floor((i-n)/t);return u.isDark(s,o)?0:1}return 1})},u};e.stringToBytes=function(t){for(var e=new Array,i=0;i<t.length;i+=1){var n=t.charCodeAt(i);e.push(255&n)}return e},e.createStringToBytes=function(t,e){var i=function(){for(var i=P(t),n=function(){var t=i.read();if(-1==t)throw new Error;return t},r=0,o={};;){var s=i.read();if(-1==s)break;var a=n(),l=n()<<8|n();o[String.fromCharCode(s<<8|a)]=l,r+=1}if(r!=e)throw new Error(r+" != "+e);return o}(),n="?".charCodeAt(0);return function(t){for(var e=new Array,r=0;r<t.length;r+=1){var o=t.charCodeAt(r);if(128>o)e.push(o);else{var s=i[t.charAt(r)];"number"==typeof s?(255&s)==s?e.push(s):(e.push(s>>>8),e.push(255&s)):e.push(n)}}return e}};var i,n,r,o,s,a=1,l=2,u=4,h=8,c={L:1,M:0,Q:3,H:2},f=0,_=1,p=2,d=3,m=4,g=5,v=6,y=7,$=(r=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],s=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(o={}).getBCHTypeInfo=function(t){for(var e=t<<10;s(e)-s(1335)>=0;)e^=1335<<s(e)-s(1335);return 21522^(t<<10|e)},o.getBCHTypeNumber=function(t){for(var e=t<<12;s(e)-s(7973)>=0;)e^=7973<<s(e)-s(7973);return t<<12|e},o.getPatternPosition=function(t){return r[t-1]},o.getMaskFunction=function(t){switch(t){case f:return function(t,e){return(t+e)%2==0};case _:return function(t,e){return t%2==0};case p:return function(t,e){return e%3==0};case d:return function(t,e){return(t+e)%3==0};case m:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case g:return function(t,e){return t*e%2+t*e%3==0};case v:return function(t,e){return(t*e%2+t*e%3)%2==0};case y:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},o.getErrorCorrectPolynomial=function(e){for(var i=t([1],0),n=0;e>n;n+=1)i=i.multiply(t([1,w.gexp(n)],0));return i},o.getLengthInBits=function(t,e){if(e>=1&&10>e)switch(t){case a:return 10;case l:return 9;case u:case h:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case a:return 12;case l:return 11;case u:return 16;case h:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case a:return 14;case l:return 13;case u:return 16;case h:return 12;default:throw new Error("mode:"+t)}}},o.getLostPoint=function(t){for(var e=t.getModuleCount(),i=0,n=0;e>n;n+=1)for(var r=0;e>r;r+=1){for(var o=0,s=t.isDark(n,r),a=-1;1>=a;a+=1)if(!(0>n+a||n+a>=e))for(var l=-1;1>=l;l+=1)0>r+l||r+l>=e||(0!=a||0!=l)&&s==t.isDark(n+a,r+l)&&(o+=1);o>5&&(i+=3+o-5)}for(n=0;e-1>n;n+=1)for(r=0;e-1>r;r+=1){var u=0;t.isDark(n,r)&&(u+=1),t.isDark(n+1,r)&&(u+=1),t.isDark(n,r+1)&&(u+=1),t.isDark(n+1,r+1)&&(u+=1),(0==u||4==u)&&(i+=3)}for(n=0;e>n;n+=1)for(r=0;e-6>r;r+=1)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(i+=40);for(r=0;e>r;r+=1)for(n=0;e-6>n;n+=1)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(i+=40);var h=0;for(r=0;e>r;r+=1)for(n=0;e>n;n+=1)t.isDark(n,r)&&(h+=1);return i+Math.abs(100*h/e/e-50)/5*10},o),w=function(){for(var t=new Array(256),e=new Array(256),i=0;8>i;i+=1)t[i]=1<<i;for(i=8;256>i;i+=1)t[i]=t[i-4]^t[i-5]^t[i-6]^t[i-8];for(i=0;255>i;i+=1)e[t[i]]=i;var n={glog:function(t){if(1>t)throw new Error("glog("+t+")");return e[t]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return t[e]}};return n}(),b=(i=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(n={}).getRSBlocks=function(t,e){var n,r,o=function(t,e){switch(e){case c.L:return i[4*(t-1)+0];case c.M:return i[4*(t-1)+1];case c.Q:return i[4*(t-1)+2];case c.H:return i[4*(t-1)+3];default:return}}(t,e);if(void 0===o)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var s=o.length/3,a=new Array,l=0;s>l;l+=1)for(var u=o[3*l+0],h=o[3*l+1],f=o[3*l+2],_=0;u>_;_+=1)a.push((n=f,r=void 0,(r={}).totalCount=h,r.dataCount=n,r));return a},n),T=function(){var t=new Array,e=0,i={getBuffer:function(){return t},getAt:function(e){var i=Math.floor(e/8);return 1==(t[i]>>>7-e%8&1)},put:function(t,e){for(var n=0;e>n;n+=1)i.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return e},putBit:function(i){var n=Math.floor(e/8);t.length<=n&&t.push(0),i&&(t[n]|=128>>>e%8),e+=1}};return i},x=function(t){var i=u,n=e.stringToBytes(t),r={getMode:function(){return i},getLength:function(t){return n.length},write:function(t){for(var e=0;e<n.length;e+=1)t.put(n[e],8)}};return r},S=function(){var t=new Array,e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,i,n){i=i||0,n=n||t.length;for(var r=0;n>r;r+=1)e.writeByte(t[r+i])},writeString:function(t){for(var i=0;i<t.length;i+=1)e.writeByte(t.charCodeAt(i))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var i=0;i<t.length;i+=1)i>0&&(e+=","),e+=t[i];return e+"]"}};return e},P=function(t){var e=t,i=0,n=0,r=0,o={read:function(){for(;8>r;){if(i>=e.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var t=e.charAt(i);if(i+=1,"="==t)return r=0,-1;t.match(/^\s$/)||(n=n<<6|s(t.charCodeAt(0)),r+=6)}var o=n>>>r-8&255;return r-=8,o}},s=function(t){if(t>=65&&90>=t)return t-65;if(t>=97&&122>=t)return t-97+26;if(t>=48&&57>=t)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return o},O=function(t,e){var i=t,n=e,r=new Array(t*e),o={setPixel:function(t,e,n){r[e*i+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(i),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(i),t.writeShort(n),t.writeByte(0);var e=s(2);t.writeByte(2);for(var r=0;e.length-r>255;)t.writeByte(255),t.writeBytes(e,r,255),r+=255;t.writeByte(e.length-r),t.writeBytes(e,r,e.length-r),t.writeByte(0),t.writeString(";")}},s=function(t){for(var e=1<<t,i=1+(1<<t),n=t+1,o=a(),s=0;e>s;s+=1)o.add(String.fromCharCode(s));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(i));var l,u,h,c=S(),f=(l=c,u=0,h=0,{write:function(t,e){if(t>>>e!=0)throw new Error("length over");for(;u+e>=8;)l.writeByte(255&(t<<u|h)),e-=8-u,t>>>=8-u,h=0,u=0;h|=t<<u,u+=e},flush:function(){u>0&&l.writeByte(h)}});f.write(e,n);var _=0,p=String.fromCharCode(r[_]);for(_+=1;_<r.length;){var d=String.fromCharCode(r[_]);_+=1,o.contains(p+d)?p+=d:(f.write(o.indexOf(p),n),o.size()<4095&&(o.size()==1<<n&&(n+=1),o.add(p+d)),p=d)}return f.write(o.indexOf(p),n),f.write(i,n),f.flush(),c.toByteArray()},a=function(){var t={},e=0,i={add:function(n){if(i.contains(n))throw new Error("dup key:"+n);t[n]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return i};return o},E=function(t,e,i,n){for(var r=O(t,e),o=0;e>o;o+=1)for(var s=0;t>s;s+=1)r.setPixel(s,o,i(s,o));var a=S();r.write(a);for(var l=function(){var t=0,e=0,i=0,n="",r={},o=function(t){n+=String.fromCharCode(s(63&t))},s=function(t){if(0>t);else{if(26>t)return 65+t;if(52>t)return t-26+97;if(62>t)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return r.writeByte=function(n){for(t=t<<8|255&n,e+=8,i+=1;e>=6;)o(t>>>e-6),e-=6},r.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),i%3!=0)for(var r=3-i%3,s=0;r>s;s+=1)n+="="},r.toString=function(){return n},r}(),u=a.toByteArray(),h=0;h<u.length;h+=1)l.writeByte(u[h]);l.flush();var c="";return c+="<img",c+=' src="',c+="data:image/gif;base64,",c+=l,c+='"',c+=' width="',c+=t,c+='"',c+=' height="',c+=e,c+='"',n&&(c+=' alt="',c+=n,c+='"'),c+"/>"};return e}(),r=[],void 0!==(o="function"==typeof(n=function(){return a})?n.apply(e,r):n)&&(t.exports=o),a.stringToBytes=function(t){return function(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e.push(n):2048>n?e.push(192|n>>6,128|63&n):55296>n||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(i++,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}(t)},a)),(s=jQuery).fn.share=function(t){function e(t,e){var i=function(t){0===t.mobileSites.length&&t.sites.length&&(t.mobileSites=t.sites);var e=(s(window).width()<=768?t.mobileSites:t.sites.length?t.sites:[]).slice(0),i=t.disabled;return"string"==typeof e&&(e=e.split(/\s*,\s*/)),"string"==typeof i&&(i=i.split(/\s*,\s*/)),/MicroMessenger/i.test(navigator.userAgent)&&i.push("wechat"),i.length&&s.each(i,function(t,i){var n=s.inArray(i,e);-1!==n&&e.splice(n,1)}),e}(e);"prepend"==e.mode&&i.reverse(),i.length&&s.each(i,function(i,n){var r=function(t,e){var i=o[t];for(var n in e.summary=e.description,e)if(e.hasOwnProperty(n)){var r=t+n.replace(/^[a-z]/,function(t){return t.toUpperCase()}),s=encodeURIComponent(void 0===e[r]?e[n]:e[r]);i=i.replace(new RegExp("{{"+n.toUpperCase()+"}}","g"),s)}return i}(n,e),l=e.initialized?t.find(".icon-"+n):s('<a class="social-share-icon icon-'+n+'"></a>');return!l.length||(l.prop("aria-label","分享到 "+a[n]),l.prop("href",r),"wechat"===n?l.prop("tabindex",-1):l.prop("target","_blank"),void(e.initialized||("prepend"==e.mode?t.prepend(l):t.append(l))))})}var i=s(document.head),n={url:location.href,site_url:location.origin,source:i.find("[name=site], [name=Site]").attr("content")||document.title,title:i.find("[name=title], [name=Title]").attr("content")||document.title,description:i.find("[name=description], [name=Description]").attr("content")||"",image:s("img:first").prop("src")||"",imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,mobileSites:[],sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],disabled:[],initialized:!1},r=s.extend({},n,t),o={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{SITE_URL}}",google:"https://plus.google.com/share?url={{URL}}"},a={qzone:"QQ空间",qq:"QQ",tencent:"腾讯微博",weibo:"微博",wechat:"微信",douban:"豆瓣",diandian:"点点",linkedin:"LinkedIn",facebook:"Facebook",twitter:"Twitter",google:"Google"};this.each(function(){if(s(this).data("initialized"))return!0;var t=s.extend({},r,s(this).data());t.imageSelector&&(t.image=s(t.imageSelector).map(function(){return s(this).prop("src")}).get().join("||"));var i,n,o=s(this).addClass("share-component social-share");e(o,t),i=t,(n=o.find("a.icon-wechat")).length&&(n.append('<div class="wechat-qrcode"><h4>'+i.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+i.wechatQrcodeHelper+"</div></div>"),n.find(".qrcode").qrcode({render:"image",size:i.wechatQrcodeSize,text:i.url}),n.offset().top<100&&n.find(".wechat-qrcode").addClass("bottom")),s(this).data("initialized",!0)})},s(function(){s(".share-component,.social-share").share()})},function(t,e,i){"use strict";var n=i(22);if(!NexT.utils.isMobile()){new n($(".site-nav")[0],{tolerance:5,offset:205,classes:{initial:"head-animated",pinned:"slideDown",unpinned:"slideUp"}}).init(),$.scrollto=function(t,e){$(t).click(function(){return $(this).addClass("active").siblings().removeClass("active"),$("html, body").animate({scrollTop:$("body").offset().top},e),!1})};var r=$(".back-to-top"),o=$(window).height()-980+"px";$(window).scroll(function(){$(window).scrollTop()>700&&"-900px"===r.css("top")?r.css("top",o):$(window).scrollTop()<=700&&"-900px"!==r.css("top")&&r.css("top","-900px")}),$.scrollto(".back-to-top",800)}},function(t,e,i){"use strict";var n,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=[],void 0!==(o="function"==typeof(n=function(){function t(t){this.callback=t,this.ticking=!1}function e(t,i){var n;i=function t(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,n,r,o=e||{};for(n=1;n<arguments.length;n++){var a=arguments[n]||{};for(i in a)"object"!==s(o[i])||(r=o[i])&&"undefined"!=typeof window&&(r===window||r.nodeType)?o[i]=o[i]||a[i]:o[i]=t(o[i],a[i])}return o}(i,e.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(n=i.tolerance)===Object(n)?n:{down:n,up:n},this.classes=i.classes,this.offset=i.offset,this.scroller=i.scroller,this.initialised=!1,this.onPin=i.onPin,this.onUnpin=i.onUnpin,this.onTop=i.onTop,this.onNotTop=i.onNotTop,this.onBottom=i.onBottom,this.onNotBottom=i.onNotBottom}var i={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){if(e.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},e.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},e.cutsTheMustard=void 0!==i&&i.rAF&&i.bind&&i.classList,e})?n.apply(e,r):n)&&(t.exports=o)},function(t,e,i){"use strict";!function t(){window.setTimeout(function(){t()},1e3);var e=new Date(window.CONFIG.since),i=((new Date).getTime()-e.getTime())/864e5,n=Math.floor(i),r=24*(i-n),o=Math.floor(r),s=60*(r-o),a=Math.floor(60*(r-o)),l=Math.floor(60*(s-a));$("#since").html(n+"天"+o+"小时"+a+"分"+l+"秒")}()},function(t,e,i){"use strict";if(window.CONFIG.favicon.visibilitychange){var n,r=document.title;document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="icon"]').attr("href",window.CONFIG.favicon.hidden),document.title=window.CONFIG.favicon.hide_text,clearTimeout(n)):($('[rel="icon"]').attr("href",window.CONFIG.favicon.narmal),document.title=window.CONFIG.favicon.show_text+r,n=setTimeout(function(){document.title=r},2e3))})}},function(t,e,i){"use strict";var n=i(26).TweenLite,r=document.getElementById("animate"),o=document.getElementById("guide"),s=o.getElementsByTagName("span"),a=r.getElementsByTagName("span"),l=s.length,u=function(t){setTimeout(function(){n.fromTo(a[t],.4,{opacity:0,y:40},{opacity:1,y:0,ease:Power3.easeOut}),n.fromTo(a[t],.4,{scale:0},{scale:1,ease:Back.easeOut})},200*t)},h=function(t,e){t.style.fontSize=e+"px",t.style.height=e+"px",t.style.lineHeight=e+"px"},c=function(){var t=window.innerWidth/9;t>100&&(t=100),h(r,t),h(o,t),function(){for(var t=0;t<l;t++){var e=s[t],i=a[t],n=e.getBoundingClientRect();i.style.left=n.left+"px"}}()};setTimeout(function(){c(),function(){for(var t=0;t<l;t++)u(t)}(),window.addEventListener("resize",c)},100)},function(t,e,i){"use strict";(function(i){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=void 0!==t&&t.exports&&void 0!==i?i:window;(o._gsQueue||(o._gsQueue=[])).push(function(){var t,e,i,n,s,a,l,u,h,c,f,_,p,d,m,g,v;o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},o=function t(e,n,r){i.call(this,e,n,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=t.prototype.render},s=i._internals,a=s.isSelector,l=s.isArray,u=o.prototype=i.to({},.1,{}),h=[];o.version="1.20.3",u.constructor=o,u.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(t,e){var n,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;for(n in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var a,l=1/(1-r),u=this._firstPT;u;)a=u.s+u.c,u.c*=l,u.s=a-u.c,u=u._next;return this},u.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,o,a,l,u,h,c,f,_,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,m=this._totalTime,g=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=p-1e-7&&t>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(y<0||t<=0&&t>=-1e-7||1e-10===y&&"isPause"!==this.data)&&y!==t&&(n=!0,y>1e-10&&(o="onReverseComplete")),this._rawPrevTime=f=!e||t||y===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===v&&y>0)&&(o="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=f=!e||t||y===t?t:1e-10)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time,(_=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==_||this._initted?this._yoyoEase=_=!0===_?this._ease:_ instanceof Ease?_:Ease.map[_]:(_=this.vars.ease,this._yoyoEase=_=_?_ instanceof Ease?_:"function"==typeof _?new Ease(_,this.vars.easeParams):Ease.map[_]||i.defaultEase:i.defaultEase)),this.ratio=_?1-_.getRatio((v-this._time)/v):0)),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType&&!_?(u=this._time/v,(1===(h=this._easeType)||3===h&&u>=.5)&&(u=1-u),3===h&&(u*=2),1===(c=this._easePower)?u*=u:2===c?u*=u*u:3===c?u*=u*u*u:4===c&&(u*=u*u*u*u),1===h?this.ratio=1-u:2===h?this.ratio=u:this._time/v<.5?this.ratio=u/2:this.ratio=1-u/2):_||(this.ratio=this._ease.getRatio(this._time/v))),d!==this._time||n||g!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=m,this._rawPrevTime=y,this._cycle=g,s.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||_?r&&this._ease._calcEnd&&!_&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/v)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,n),e||(this._totalTime!==m||o)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===v&&1e-10===this._rawPrevTime&&1e-10!==f&&(this._rawPrevTime=0)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,s,u,c,f,_){u=u||0;var p,d,m,g,v=0,y=[],$=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),c.apply(_||s.callbackScope||this,f||h)},w=s.cycle,b=s.startAt&&s.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=n(t))),t=t||[],u<0&&((t=n(t)).reverse(),u*=-1),p=t.length-1,m=0;m<=p;m++){for(g in d={},s)d[g]=s[g];if(w&&(r(d,t,m),null!=d.duration&&(e=d.duration,delete d.duration)),b){for(g in b=d.startAt={},s.startAt)b[g]=s.startAt[g];r(d.startAt,t,m)}d.delay=v+(d.delay||0),m===p&&c&&(d.onComplete=$),y[m]=new o(t[m],e,d),v+=u}return y},o.staggerFrom=o.allFrom=function(t,e,i,n,r,s,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,r,s,a)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,r,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,r,s,a,l)},o.delayedCall=function(t,e,i,n,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var c=function t(e,n){for(var r=[],o=0,s=e._first;s;)s instanceof i?r[o++]=s:(n&&(r[o++]=s),o=(r=r.concat(t(s,n))).length),s=s._next;return r},f=o.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var o,s,a,l=f(0!=r),u=l.length,h=i&&n&&r;for(a=0;a<u;a++)s=l[a],(h||s instanceof e||(o=s.target===s.vars.onComplete)&&n||i&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,u,h,c,f,_=s.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=n(t)),l(t))for(c=t.length;--c>-1;)o.killChildTweensOf(t[c],e);else{for(h in r=[],_)for(u=_[h].target.parentNode;u;)u===t&&(r=r.concat(_[h].tweens)),u=u.parentNode;for(f=r.length,c=0;c<f;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var _=function(t,i,n,r){i=!1!==i,n=!1!==n;for(var o,s,a=f(r=!1!==r),l=i&&n&&r,u=a.length;--u>-1;)s=a[u],(l||s instanceof e||(o=s.target===s.vars.onComplete)&&n||i&&!o)&&s.paused(t)};return o.pauseAll=function(t,e,i){_(!0,t,e,i)},o.resumeAll=function(t,e,i){_(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||1e-10,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=i._internals,s=n._internals={},a=r.isSelector,l=r.isArray,u=r.lazyTweens,h=r.lazyRender,c=o._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},_=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},p=s.pauseCallback=function(){},d=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},m=n.prototype=new e;return n.version="1.20.3",m.constructor=n,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(t,e,n,r){var o=n.repeat&&c.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},m.from=function(t,e,n,r){return this.add((n.repeat&&c.TweenMax||i).from(t,e,n),r)},m.fromTo=function(t,e,n,r,o){var s=r.repeat&&c.TweenMax||i;return e?this.add(s.fromTo(t,e,n,r),o):this.set(t,r,o)},m.staggerTo=function(t,e,r,o,s,l,u,h){var c,p,m=new n({onComplete:l,onCompleteParams:u,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),g=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),a(t=t||[])&&(t=d(t)),(o=o||0)<0&&((t=d(t)).reverse(),o*=-1),p=0;p<t.length;p++)(c=f(r)).startAt&&(c.startAt=f(c.startAt),c.startAt.cycle&&_(c.startAt,t,p)),g&&(_(c,t,p),null!=c.duration&&(e=c.duration,delete c.duration)),m.to(t[p],e,c,p*o);return this.add(m,s)},m.staggerFrom=function(t,e,i,n,r,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,s,a)},m.staggerFromTo=function(t,e,i,n,r,o,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,s,a,l)},m.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},m.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,s,a,l=new n(t),u=l._timeline;for(null==e&&(e=!0),u._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=u._time,s=u._first;s;)a=s._next,e&&s instanceof i&&s.target===s.vars.onComplete||((o=s._startTime-s._delay)<0&&(r=1),l.add(s,o)),s=a;return u.add(l,0),r&&l.totalDuration(),l},m.add=function(r,o,s,a){var u,h,c,f,_,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(s=s||"normal",a=a||0,u=o,h=r.length,c=0;c<h;c++)l(f=r[c])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===s?u=f._startTime+f.totalDuration()/f._timeScale:"start"===s&&(f._startTime-=f.delay())),u+=a;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),r._time&&r.render((this.rawTime()-r._startTime)*r._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=(_=this).rawTime()>r._startTime;_._timeline;)p&&_._timeline.smoothChildTiming?_.totalTime(_._totalTime,!0):_._gc&&_._enabled(!0,!1),_=_._timeline;return this},m.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},m._remove=function(t,i){return e.prototype._remove.call(this,t,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},m.insert=m.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},m.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},m.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},m.addPause=function(t,e,n,r){var o=i.delayedCall(0,p,n,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},m.removeLabel=function(t){return delete this._labels[t],this},m.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},m._parseTimeOrLabel=function(e,i,n,r){var o,s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if(o="number"!=typeof e||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-o:0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=o);else{if(-1===(s=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=o+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):o}return Number(e)+i},m.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(t,e){return this.play(t,e)},m.gotoAndStop=function(t,e){return this.pause(t,e)},m.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,o,s,a,l,c,f=this._time,_=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,d=this._timeScale,m=this._paused;if(f!==this._time&&(t+=this._time-f),t>=_-1e-7&&t>=0)this._totalTime=this._time=_,this._reversed||this._hasPausedChild()||(r=!0,s="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(a=!0,this._rawPrevTime>1e-10&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=_+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=r=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||i||a||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(c=this._time)>=f)for(n=this._first;n&&(o=n._next,c===this._time&&(!this._paused||m));)(n._active||n._startTime<=c&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,c===this._time&&(!this._paused||m));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(u.length&&h(),this._callback("onUpdate"))),s&&(this._gc||p!==this._startTime&&d===this._timeScale||(0===this._time||_>=this.totalDuration())&&(r&&(u.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},m._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},m.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof i?!1!==e&&(o[a++]=s):(!1!==n&&(o[a++]=s),!1!==t&&(a=(o=o.concat(s.getChildren(!0,e,n))).length))),s=s._next;return o},m.getTweensOf=function(t,e){var n,r,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),r=(n=i.getTweensOf(t)).length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(s[a++]=n[r]);return o&&this._enabled(!1,!0),s},m.recent=function(){return this._recent},m._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},m.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},m._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},m.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},m._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},m.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},m.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),(i=r._startTime+r._totalDuration/r._timeScale)>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},m.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},m.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},r=e._internals,s=r.lazyTweens,a=r.lazyRender,l=o._gsDefine.globals,u=new i(null,null,1,0),h=n.prototype=new t;return h.constructor=n,h.kill()._gc=!1,n.version="1.20.3",h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,i){i=i||{};var n,r,o,s={ease:u,useFrames:this.usesFrames(),immediateRender:!1},a=i.repeat&&l.TweenMax||e;for(r in i)s[r]=i[r];return s.time=this._parseTimeOrLabel(t),n=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,o=new a(this,n,s),s.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||o,i.onStartParams||[])},o},h.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,o,l,u,h,c,f,_=this._time,p=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,m=this._totalTime,g=this._startTime,v=this._timeScale,y=this._rawPrevTime,$=this._paused,w=this._cycle;if(_!==this._time&&(t+=this._time-_),t>=p-1e-7&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,l="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||y<0||1e-10===y)&&y!==t&&this._first&&(u=!0,y>1e-10&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=d,t=d+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==_||0===d&&1e-10!==y&&(y>0||t<0&&y>=0)&&!this._locked)&&(l="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=r=!0,l="onReverseComplete"):y>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=d||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(u=!0)}else if(0===d&&y<0&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=d+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!=(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,t=d+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=_||this._repeat&&w!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!c;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(c=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!c;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(c=n),n=n._prev;c&&c._startTime<d&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var b=this._yoyo&&0!=(1&w),T=b===(this._yoyo&&0!=(1&this._cycle)),x=this._totalTime,S=this._cycle,P=this._rawPrevTime,O=this._time;if(this._totalTime=w*d,this._cycle<w?b=!b:this._totalTime+=d,this._time=_,this._rawPrevTime=0===d?y-1e-4:y,this._cycle=w,this._locked=!0,_=b?0:d,this.render(_,e,0===d),e||this._gc||this.vars.onRepeat&&(this._cycle=S,this._locked=!1,this._callback("onRepeat")),_!==this._time)return;if(T&&(this._cycle=w,this._locked=!0,_=b?d+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!$)return;this._time=O,this._totalTime=x,this._cycle=S,this._rawPrevTime=P}if(this._time!==_&&this._first||i||u||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(f=this._time)>=_)for(n=this._first;n&&(o=n._next,f===this._time&&(!this._paused||$));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(c===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,f===this._time&&(!this._paused||$));){if(n._active||n._startTime<=_&&!n._paused&&!n._gc){if(c===n){for(c=n._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(s.length&&a(),this._callback("onUpdate"))),l&&(this._locked||this._gc||g!==this._startTime&&v===this._timeScale||(0===this._time||p>=this.totalDuration())&&(r&&(s.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},h.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,o=[],s=this.getChildren(t,e,i),a=0,l=s.length;for(n=0;n<l;n++)(r=s[n]).isActive()&&(o[a++]=r);return o},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},h.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},h.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),n=180/Math.PI,s=[],a=[],l=[],u={},h=o._gsDefine.globals,c=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},f=function(t,e,i,n){var r={a:t},o={},s={},a={c:n},l=(t+e)/2,u=(e+i)/2,h=(i+n)/2,c=(l+u)/2,f=(u+h)/2,_=(f-c)/8;return r.b=l+(t-l)/4,o.b=c+_,r.c=o.a=(r.b+o.b)/2,o.c=s.a=(c+f)/2,s.b=f-_,a.b=h+(n-h)/4,s.c=a.a=(s.b+a.b)/2,[r,o,s,a]},_=function(t,e,i,n,r){var o,u,h,c,_,p,d,m,g,v,y,$,w,b=t.length-1,T=0,x=t[0].a;for(o=0;o<b;o++)u=(_=t[T]).a,h=_.d,c=t[T+1].d,r?(y=s[o],w=(($=a[o])+y)*e*.25/(n?.5:l[o]||.5),m=h-((p=h-(h-u)*(n?.5*e:0!==y?w/y:0))+(((d=h+(c-h)*(n?.5*e:0!==$?w/$:0))-p)*(3*y/(y+$)+.5)/4||0))):m=h-((p=h-(h-u)*e*.5)+(d=h+(c-h)*e*.5))/2,p+=m,d+=m,_.c=g=p,_.b=0!==o?x:x=_.a+.6*(_.c-_.a),_.da=h-u,_.ca=g-u,_.ba=x-u,i?(v=f(u,x,g,h),t.splice(T,1,v[0],v[1],v[2],v[3]),T+=4):T++,x=d;(_=t[T]).b=x,_.c=x+.4*(_.d-x),_.da=_.d-_.a,_.ca=_.c-_.a,_.ba=x-_.a,i&&(v=f(_.a,x,_.c,_.d),t.splice(T,1,v[0],v[1],v[2],v[3]))},p=function(t,e,i,n){var r,o,l,u,h,f,_=[];if(n)for(o=(t=[n].concat(t)).length;--o>-1;)"string"==typeof(f=t[o][e])&&"="===f.charAt(1)&&(t[o][e]=n[e]+Number(f.charAt(0)+f.substr(2)));if((r=t.length-2)<0)return _[0]=new c(t[0][e],0,0,t[0][e]),_;for(o=0;o<r;o++)l=t[o][e],u=t[o+1][e],_[o]=new c(l,0,0,u),i&&(h=t[o+2][e],s[o]=(s[o]||0)+(u-l)*(u-l),a[o]=(a[o]||0)+(h-u)*(h-u));return _[o]=new c(t[o][e],0,0,t[o+1][e]),_},d=function(t,e,i,n,r,o){var h,c,f,d,m,g,v,y,$={},w=[],b=o||t[0];for(c in r="string"==typeof r?","+r+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])w.push(c);if(t.length>1){for(y=t[t.length-1],v=!0,h=w.length;--h>-1;)if(c=w[h],Math.abs(b[c]-y[c])>.05){v=!1;break}v&&(t=t.concat(),o&&t.unshift(o),t.push(t[1]),o=t[t.length-3])}for(s.length=a.length=l.length=0,h=w.length;--h>-1;)c=w[h],u[c]=-1!==r.indexOf(","+c+","),$[c]=p(t,c,u[c],o);for(h=s.length;--h>-1;)s[h]=Math.sqrt(s[h]),a[h]=Math.sqrt(a[h]);if(!n){for(h=w.length;--h>-1;)if(u[c])for(g=(f=$[w[h]]).length-1,d=0;d<g;d++)m=f[d+1].da/a[d]+f[d].da/s[d]||0,l[d]=(l[d]||0)+m*m;for(h=l.length;--h>-1;)l[h]=Math.sqrt(l[h])}for(h=w.length,d=i?4:1;--h>-1;)f=$[c=w[h]],_(f,e,i,n,u[c]),v&&(f.splice(0,d),f.splice(f.length-d,d));return $},m=function(t,e,i){for(var n,r,o,s,a,l,u,h,c,f,_,p=1/i,d=t.length;--d>-1;)for(o=(f=t[d]).a,s=f.d-o,a=f.c-o,l=f.b-o,n=r=0,h=1;h<=i;h++)n=r-(r=((u=p*h)*u*s+3*(c=1-u)*(u*a+c*l))*u),e[_=d*i+h-1]=(e[_]||0)+n*n},g=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,o,s,a,l=e.values||[],u={},h=l[0],f=e.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",!0===f?0:Number(f)||0]]:null,h)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],u[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):function(t,e,i){var n,r,o,s,a,l,u,h,f,_,p,d={},m="cubic"===(e=e||"soft")?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(f in t[0])v.push(f);for(l=v.length;--l>-1;){for(d[f=v[l]]=a=[],_=0,h=t.length,u=0;u<h;u++)n=null==i?t[u][f]:"string"==typeof(p=t[u][f])&&"="===p.charAt(1)?i[f]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&u>1&&u<h-1&&(a[_++]=(n+a[_-2])/2),a[_++]=n;for(h=_-m+1,_=0,u=0;u<h;u+=m)n=a[u],r=a[u+1],o=a[u+2],s=2===m?0:a[u+3],a[_++]=p=3===m?new c(n,r,o,s):new c(n,(2*r+n)/3,(2*r+o)/3,o);a.length=_}return d}(l,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var _=function(t,e){var i,n,r,o,s=[],a=[],l=0,u=0,h=(e=e>>0||6)-1,c=[],f=[];for(i in t)m(t[i],s,e);for(r=s.length,n=0;n<r;n++)l+=Math.sqrt(s[n]),f[o=n%e]=l,o===h&&(u+=l,c[o=n/e>>0]=f,a[o]=u,l=0,f=[]);return{length:u,lengths:a,segments:c}}(this._beziers,this._timeRes);this._length=_.length,this._lengths=_.lengths,this._segments=_.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(s=0;s<3;s++)n=f[o][s],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=f[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,r,o,s,a,l,u,h,c,f=this._segCount,_=this._func,p=this._target,d=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,c=this._curSeg,t*=this._length,r=this._li,t>this._l2&&r<f-1){for(u=f-1;r<u&&(this._l2=h[++r])<=t;);this._l1=h[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(t<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=t;);0===r&&t<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(e=r,t-=this._l1,r=this._si,t>this._s2&&r<c.length-1){for(u=c.length-1;r<u&&(this._s2=c[++r])<=t;);this._s1=c[r-1],this._si=r}else if(t<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=t;);0===r&&t<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}a=(r+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else a=(t-(e=t<0?0:t>=1?f-1:f*t>>0)*(1/f))*f;for(i=1-a,r=this._props.length;--r>-1;)o=this._props[r],l=(a*a*(s=this._beziers[o][e]).da+3*i*(a*s.ca+i*s.ba))*a+s.a,this._mod[o]&&(l=this._mod[o](l,p)),_[o]?p[o](l):p[o]=l;if(this._autoRotate){var m,g,v,y,$,w,b,T=this._autoRotate;for(r=T.length;--r>-1;)o=T[r][2],w=T[r][3]||0,b=!0===T[r][4]?1:n,s=this._beziers[T[r][0]],m=this._beziers[T[r][1]],s&&m&&(s=s[e],m=m[e],g=s.a+(s.b-s.a)*a,g+=((y=s.b+(s.c-s.b)*a)-g)*a,y+=(s.c+(s.d-s.c)*a-y)*a,v=m.a+(m.b-m.a)*a,v+=(($=m.b+(m.c-m.b)*a)-v)*a,$+=(m.c+(m.d-m.c)*a-$)*a,l=d?Math.atan2($-v,y-g)*b+w:this._initialRotations[r],this._mod[o]&&(l=this._mod[o](l,p)),_[o]?p[o](l):p[o]=l)}}}),v=g.prototype,g.bezierThrough=d,g.cubicToQuadratic=f,g._autoCSS=!0,g.quadraticToCubic=function(t,e,i){return new c(t,(2*e+t)/3,(2*e+i)/3,i)},g._cssRegister=function(){var t=h.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,s,a,l){e instanceof Array&&(e={values:e}),l=new g;var u,h,c,f=e.values,_=f.length-1,p=[],d={};if(_<0)return a;for(u=0;u<=_;u++)c=i(t,f[u],s,a,l,_!==u),p[u]=c.end;for(h in e)d[h]=e[h];return d.values=p,(a=new r(t,"bezier",0,0,c.pt,2)).data=c,a.plugin=l,a.setRatio=n,0===d.autoRotate&&(d.autoRotate=!0),!d.autoRotate||d.autoRotate instanceof Array||(u=!0===d.autoRotate?0:Number(d.autoRotate),d.autoRotate=null!=c.end.left?[["left","top","rotation",u,!1]]:null!=c.end.x&&[["x","y","rotation",u,!1]]),d.autoRotate&&(s._transform||s._enableTransforms(!1),c.autoRotate=s._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0,s._overwriteProps.push("rotation")),l._onInitTween(c.proxy,d,s._tween),a}})}},v._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)(e=t[i[n]])&&"function"==typeof e&&(this._mod[i[n]]=e)},v._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)},o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,s,a,l=function e(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=e.prototype.setRatio},u=o._gsDefine.globals,h={},c=l.prototype=new t("css");c.constructor=l,l.version="1.20.3",l.API=2,l.defaultTransformPerspective=0,l.defaultSkewType="compensated",l.defaultSmoothOrigin=!0,l.suffixMap={top:c="px",right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var f,_,p,d,m,g,v,y,$,w,b=/(?:\-|\.|\b)(\d|\.|e\-)+/g,T=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,S=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,P=/(?:\d|\-|\+|=|#|\.)*/g,O=/opacity *= *([^)]*)/i,E=/opacity:([^;]*)/i,A=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,L=/([A-Z])/g,I=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},D=/(?:Left|Right|Width)/i,k=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,U=/[\s,\(]/i,B=Math.PI/180,j=180/Math.PI,G={},z={style:{}},q=o.document||{createElement:function(){return z}},Y=function(t,e){return q.createElementNS?q.createElementNS(e||"http://www.w3.org/1999/xhtml",t):q.createElement(t)},H=Y("div"),V=Y("img"),X=l._internals={_specialProps:h},W=(o.navigator||{}).userAgent||"",Q=($=W.indexOf("Android"),w=Y("a"),p=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===$||parseFloat(W.substr($+8,2))>3),m=p&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,d=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(g=parseFloat(RegExp.$1)),!!w&&(w.style.cssText="top:1px;opacity:.55;",/^0.55/.test(w.style.opacity))),J=function(t){return O.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},K=function(t){o.console&&console.log(t)},Z="",tt="",et=function(t,e){var i,n,r=(e=e||H).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(Z="-"+(tt=3===n?"ms":i[n]).toLowerCase()+"-",tt+t):null},it=q.defaultView?q.defaultView.getComputedStyle:function(){},nt=l.getStyle=function(t,e,i,n,r){var o;return Q||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||it(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(L,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):J(t)},rt=X.convertToPixels=function(t,i,n,r,o){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var s,a,u,h=D.test(i),c=t,f=H.style,_=n<0,p=1===n;if(_&&(n=-n),p&&(n*=100),"lineHeight"!==i||r)if("%"===r&&-1!==i.indexOf("border"))s=n/100*(h?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+nt(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||q.body,-1!==nt(c,"display").indexOf("flex")&&(f.position="absolute"),a=c._gsCache,u=e.ticker.frame,a&&h&&a.time===u)return a.width*n/100;f[h?"width":"height"]=n+r}c.appendChild(H),s=parseFloat(H[h?"offsetWidth":"offsetHeight"]),c.removeChild(H),h&&"%"===r&&!1!==l.cacheWidths&&((a=c._gsCache=c._gsCache||{}).time=u,a.width=s/n*100),0!==s||o||(s=rt(t,i,n,r,!0))}else a=it(t).lineHeight,t.style.lineHeight=n,s=parseFloat(it(t).lineHeight),t.style.lineHeight=a;return p&&(s/=100),_?-s:s},ot=X.calculateOffset=function(t,e,i){if("absolute"!==nt(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=nt(t,"margin"+n,i);return t["offset"+n]-(rt(t,e,parseFloat(r),r.replace(P,""))||0)},st=function(t,e){var i,n,r,o={};if(e=e||it(t,null))if(i=e.length)for(;--i>-1;)-1!==(r=e[i]).indexOf("-transform")&&Nt!==r||(o[r.replace(I,R)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&kt!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(I,R)]=e[i]);return Q||(o.opacity=J(t)),n=Qt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Ut&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},at=function(t,e,i,n,r){var o,s,a,l={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&-1===s.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(S,"")?o:0:ot(t,s),void 0!==u[s]&&(a=new bt(u,s,u[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},lt={width:["Left","Right"],height:["Top","Bottom"]},ut=["marginLeft","marginRight","marginTop","marginBottom"],ht=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||it(t))[e]||0;if(t.getCTM&&Vt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=lt[e],o=r.length;for(i=i||it(t,null);--o>-1;)n-=parseFloat(nt(t,"padding"+r[o],i,!0))||0,n-=parseFloat(nt(t,"border"+r[o]+"Width",i,!0))||0;return n},ct=function t(e,i){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),o=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],s=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!i){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(t(r[n]));return e.join(",")}return null==s?s="center"===o?"50%":"0":"center"===s&&(s="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),e=o+" "+s+(r.length>2?" "+r[2]:""),i&&(i.oxp=-1!==o.indexOf("%"),i.oyp=-1!==s.indexOf("%"),i.oxr="="===o.charAt(1),i.oyr="="===s.charAt(1),i.ox=parseFloat(o.replace(S,"")),i.oy=parseFloat(s.replace(S,"")),i.v=e),i||e},ft=function(t,e){return"function"==typeof t&&(t=t(y,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},_t=function(t,e){return"function"==typeof t&&(t=t(y,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},pt=function(t,e,i,n){var r,o,s,a;return"function"==typeof t&&(t=t(y,v)),null==t?s=e:"number"==typeof t?s=t:(360,r=t.split("_"),o=((a="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===t.indexOf("rad")?1:j)-(a?0:e),r.length&&(n&&(n[i]=e+o),-1!==t.indexOf("short")&&(o%=360)!=o%180&&(o=o<0?o+360:o-360),-1!==t.indexOf("_cw")&&o<0?o=(o+3599999999640)%360-360*(o/360|0):-1!==t.indexOf("ccw")&&o>0&&(o=(o-3599999999640)%360-360*(o/360|0))),s=e+o),s<1e-6&&s>-1e-6&&(s=0),s},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},mt=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},gt=l.parseColor=function(t,e){var i,n,r,o,s,a,l,u,h,c,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(o=t.charAt(3))+o),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(b),e){if(-1!==t.indexOf("="))return t.match(T)}else s=Number(i[0])%360/360,a=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(r=l<=.5?l*(a+1):l+a-l*a),i.length>3&&(i[3]=Number(i[3])),i[0]=mt(s+1/3,n,r),i[1]=mt(s,n,r),i[2]=mt(s-1/3,n,r);else i=t.match(b)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,l=((u=Math.max(n,r,o))+(h=Math.min(n,r,o)))/2,u===h?s=a=0:(c=u-h,a=l>.5?c/(2-u-h):c/(u+h),s=u===n?(r-o)/c+(r<o?6:0):u===r?(o-n)/c+2:(n-r)/c+4,s*=60),i[0]=s+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},vt=function(t,e){var i,n,r,o=t.match(yt)||[],s=0,a="";if(!o.length)return t;for(i=0;i<o.length;i++)n=o[i],s+=(r=t.substr(s,t.indexOf(n,s)-s)).length+n.length,3===(n=gt(n,e)).length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(s)},yt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in dt)yt+="|"+c+"\\b";yt=new RegExp(yt+")","gi"),l.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];yt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=vt(t[0],e),t[1]=vt(t[1],e)),yt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=l.colorStringFilter);var $t=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(yt)||[""])[0]:"",s=t.split(o).join("").match(x)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",h=s.length,c=h>0?s[0].replace(b,""):"";return h?r=e?function(t){var e,f,_,p;if("number"==typeof t)t+=c;else if(n&&F.test(t)){for(p=t.replace(F,"|").split("|"),_=0;_<p.length;_++)p[_]=r(p[_]);return p.join(",")}if(e=(t.match(yt)||[o])[0],_=(f=t.split(e).join("").match(x)||[]).length,h>_--)for(;++_<h;)f[_]=i?f[(_-1)/2|0]:s[_];return a+f.join(u)+u+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=c;else if(n&&F.test(t)){for(o=t.replace(F,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(f=(e=t.match(x)||[]).length,h>f--)for(;++f<h;)e[f]=i?e[(f-1)/2|0]:s[f];return a+e.join(u)+l}:function(t){return t}},wt=function(t){return t=t.split(","),function(e,i,n,r,o,s,a){var l,u=(i+"").split(" ");for(a={},l=0;l<4;l++)a[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,a,o,s)}},bt=(X._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,s=this.data,a=s.proxy,l=s.firstMPT;l;)e=a[l.v],l.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=s.mod?s.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),Tt=(X._parseToProxy=function(t,e,i,n,r,o){var s,a,l,u,h,c=n,f={},_={},p=i._transform,d=G;for(i._transform=null,G=e,n=h=i.parse(t,e,n,r),G=d,o&&(i._transform=p,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(_[a=n.p]=n.s+n.c,f[a]=n.s,o||(u=new bt(n,"s",a,u,n.r),n.c=0),1===n.type))for(s=n.l;--s>0;)l="xn"+s,_[a=n.p+"_"+l]=n.data[l],f[a]=n[l],o||(u=new bt(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:f,end:_,firstMPT:u,pt:h}},X.CSSPropTween=function(t,e,n,r,o,s,l,u,h,c,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof Tt||a.push(this.n),this.r=u,this.type=s||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+r:f,o&&(this._next=o,o._prev=this)}),xt=function(t,e,i,n,r,o){var s=new Tt(t,e,i,n-i,r,-1,o);return s.b=i,s.e=s.xs0=n,s},St=l.parseComplex=function(t,e,i,n,r,o,s,a,u,h){i=i||o||"","function"==typeof n&&(n=n(y,v)),s=new Tt(t,e,0,0,s,h?2:1,null,!1,a,i,n),n+="",r&&yt.test(n+i)&&(l.colorStringFilter(n=[i,n]),i=n[0],n=n[1]);var c,_,p,d,m,g,$,w,x,S,P,O,E,A=i.split(", ").join(",").split(" "),C=n.split(", ").join(",").split(" "),L=A.length,I=!1!==f;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(A=A.join(" ").replace(F,", ").split(" "),C=C.join(" ").replace(F,", ").split(" ")):(A=A.join(" ").split(",").join(", ").split(" "),C=C.join(" ").split(",").join(", ").split(" ")),L=A.length),L!==C.length&&(L=(A=(o||"").split(" ")).length),s.plugin=u,s.setRatio=h,yt.lastIndex=0,c=0;c<L;c++)if(d=A[c],m=C[c],(w=parseFloat(d))||0===w)s.appendXtra("",w,ft(m,w),m.replace(T,""),I&&-1!==m.indexOf("px"),!0);else if(r&&yt.test(d))O=")"+((O=m.indexOf(")")+1)?m.substr(O):""),E=-1!==m.indexOf("hsl")&&Q,S=m,d=gt(d,E),m=gt(m,E),(x=d.length+m.length>6)&&!Q&&0===m[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(C[c]).join("transparent")):(Q||(x=!1),E?s.appendXtra(S.substr(0,S.indexOf("hsl"))+(x?"hsla(":"hsl("),d[0],ft(m[0],d[0]),",",!1,!0).appendXtra("",d[1],ft(m[1],d[1]),"%,",!1).appendXtra("",d[2],ft(m[2],d[2]),x?"%,":"%"+O,!1):s.appendXtra(S.substr(0,S.indexOf("rgb"))+(x?"rgba(":"rgb("),d[0],m[0]-d[0],",",!0,!0).appendXtra("",d[1],m[1]-d[1],",",!0).appendXtra("",d[2],m[2]-d[2],x?",":O,!0),x&&(d=d.length<4?1:d[3],s.appendXtra("",d,(m.length<4?1:m[3])-d,O,!1))),yt.lastIndex=0;else if(g=d.match(b)){if(!($=m.match(T))||$.length!==g.length)return s;for(p=0,_=0;_<g.length;_++)P=g[_],S=d.indexOf(P,p),s.appendXtra(d.substr(p,S-p),Number(P),ft($[_],P),"",I&&"px"===d.substr(S+P.length,2),0===_),p=S+P.length;s["xs"+s.l]+=d.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+m:m;if(-1!==n.indexOf("=")&&s.data){for(O=s.xs0+s.data.s,c=1;c<s.l;c++)O+=s["xs"+c]+s.data["xn"+c];s.e=O+s["xs"+c]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Pt=9;for((c=Tt.prototype).l=c.pr=0;--Pt>0;)c["xn"+Pt]=0,c["xs"+Pt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new Tt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r,s)):(s["xs"+a]+=e+(n||""),s)};var Ot=function(t,e){e=e||{},this.p=e.prefix&&et(t)||t,h[t]=h[this.p]=this,this.format=e.formatter||$t(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Et=X._registerComplexSpecialProp=function(t,e,i){"object"!==(void 0===e?"undefined":r(e))&&(e={parser:i});var n,o=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,new Ot(o[n],e)},At=X._registerPluginProp=function(t){if(!h[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Et(t,{parser:function(t,i,n,r,o,s,a){var l=u.com.greensock.plugins[e];return l?(l._cssRegister(),h[n].parse(t,i,n,r,o,s,a)):(K("Error: "+e+" js file not loaded."),o)}})}};(c=Ot.prototype).parseComplex=function(t,e,i,n,r,o){var s,a,l,u,h,c,f=this.keyword;if(this.multi&&(F.test(i)||F.test(e)?(a=e.replace(F,"|").split("|"),l=i.replace(F,"|").split("|")):f&&(a=[e],l=[i])),l){for(u=l.length>a.length?l.length:a.length,s=0;s<u;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,f&&((h=e.indexOf(f))!==(c=i.indexOf(f))&&(-1===c?a[s]=a[s].split(f).join(""):-1===h&&(a[s]+=" "+f)));e=a.join(", "),i=l.join(", ")}return St(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},c.parse=function(t,e,i,n,r,o,a){return this.parseComplex(t.style,this.format(nt(t,this.p,s,!1,this.dflt)),this.format(e),r,o)},l.registerSpecialProp=function(t,e,i){Et(t,{parser:function(t,n,r,o,s,a,l){var u=new Tt(t,r,0,0,s,2,r,!1,i);return u.plugin=a,u.setRatio=e(t,n,o._tween,r),u},priority:i})},l.useSVGTransformAttr=!0;var Ct,Lt,It,Mt,Rt,Dt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),kt=et("transform"),Nt=Z+"transform",Ft=et("transformOrigin"),Ut=null!==et("perspective"),Bt=X.Transform=function(){this.perspective=parseFloat(l.defaultTransformPerspective)||0,this.force3D=!(!1===l.defaultForce3D||!Ut)&&(l.defaultForce3D||"auto")},jt=o.SVGElement,Gt=function(t,e,i){var n,r=q.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},zt=q.documentElement||{},qt=(Rt=g||/Android/i.test(W)&&!o.chrome,q.createElementNS&&!Rt&&(Lt=Gt("svg",zt),Mt=(It=Gt("rect",Lt,{width:100,height:50,x:100})).getBoundingClientRect().width,It.style[Ft]="50% 50%",It.style[kt]="scaleX(0.5)",Rt=Mt===It.getBoundingClientRect().width&&!(d&&Ut),zt.removeChild(Lt)),Rt),Yt=function(t,e,i,n,r,o){var s,a,u,h,c,f,_,p,d,m,g,v,y,$,w=t._gsTransform,b=Wt(t,!0);w&&(y=w.xOrigin,$=w.yOrigin),(!n||(s=n.split(" ")).length<2)&&(0===(_=t.getBBox()).x&&0===_.y&&_.width+_.height===0&&(_={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(e=ct(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*_.width:parseFloat(e[0]))+_.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*_.height:parseFloat(e[1]))+_.y]),i.xOrigin=h=parseFloat(s[0]),i.yOrigin=c=parseFloat(s[1]),n&&b!==Xt&&(f=b[0],_=b[1],p=b[2],d=b[3],m=b[4],g=b[5],(v=f*d-_*p)&&(a=h*(d/v)+c*(-p/v)+(p*g-d*m)/v,u=h*(-_/v)+c*(f/v)-(f*g-_*m)/v,h=i.xOrigin=s[0]=a,c=i.yOrigin=s[1]=u)),w&&(o&&(i.xOffset=w.xOffset,i.yOffset=w.yOffset,w=i),r||!1!==r&&!1!==l.defaultSmoothOrigin?(a=h-y,u=c-$,w.xOffset+=a*b[0]+u*b[2]-a,w.yOffset+=a*b[1]+u*b[3]-u):w.xOffset=w.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},Ht=function(t){try{return t.getBBox()}catch(e){return function t(e){var i,n=Y("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(zt.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=t}catch(t){}else this._originalGetBBox&&(i=this._originalGetBBox());return o?r.insertBefore(this,o):r.appendChild(this),zt.removeChild(n),this.style.cssText=s,i}.call(t,!0)}},Vt=function(t){return!(!jt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Ht(t))},Xt=[1,0,0,1,0,0],Wt=function(t,e){var i,n,r,o,s,a,l=t._gsTransform||new Bt,u=t.style;if(kt?n=nt(t,Nt,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(k))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!kt||!(a=!it(t)||"none"===it(t).display)&&t.parentNode||(a&&(o=u.display,u.display="block"),t.parentNode||(s=1,zt.appendChild(t)),i=!(n=nt(t,Nt,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?u.display=o:a&&te(u,"display"),s&&zt.removeChild(t)),(l.svg||t.getCTM&&Vt(t))&&(i&&-1!==(u[kt]+"").indexOf("matrix")&&(n=u[kt],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Xt;for(r=(n||"").match(b)||[],Pt=r.length;--Pt>-1;)o=Number(r[Pt]),r[Pt]=(s=o-(o|=0))?(1e5*s+(s<0?-.5:.5)|0)/1e5+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Qt=X.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var o,s,a,u,h,c,f=n&&t._gsTransform||new Bt,_=f.scaleX<0,p=Ut&&(parseFloat(nt(t,Ft,i,!1,"0 0 0").split(" ")[2])||f.zOrigin)||0,d=parseFloat(l.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!Vt(t)),f.svg&&(Yt(t,nt(t,Ft,i,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Ct=l.useSVGTransformAttr||qt),(o=Wt(t))!==Xt){if(16===o.length){var m,g,v,y,$,w=o[0],b=o[1],T=o[2],x=o[3],S=o[4],P=o[5],O=o[6],E=o[7],A=o[8],C=o[9],L=o[10],I=o[12],M=o[13],R=o[14],D=o[11],k=Math.atan2(O,L);f.zOrigin&&(I=A*(R=-f.zOrigin)-o[12],M=C*R-o[13],R=L*R+f.zOrigin-o[14]),f.rotationX=k*j,k&&(m=S*(y=Math.cos(-k))+A*($=Math.sin(-k)),g=P*y+C*$,v=O*y+L*$,A=S*-$+A*y,C=P*-$+C*y,L=O*-$+L*y,D=E*-$+D*y,S=m,P=g,O=v),k=Math.atan2(-T,L),f.rotationY=k*j,k&&(g=b*(y=Math.cos(-k))-C*($=Math.sin(-k)),v=T*y-L*$,C=b*$+C*y,L=T*$+L*y,D=x*$+D*y,w=m=w*y-A*$,b=g,T=v),k=Math.atan2(b,w),f.rotation=k*j,k&&(m=w*(y=Math.cos(k))+b*($=Math.sin(k)),g=S*y+P*$,v=A*y+C*$,b=b*y-w*$,P=P*y-S*$,C=C*y-A*$,w=m,S=g,A=v),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),k=Math.atan2(S,P),f.scaleX=(1e5*Math.sqrt(w*w+b*b+T*T)+.5|0)/1e5,f.scaleY=(1e5*Math.sqrt(P*P+O*O)+.5|0)/1e5,f.scaleZ=(1e5*Math.sqrt(A*A+C*C+L*L)+.5|0)/1e5,w/=f.scaleX,S/=f.scaleY,b/=f.scaleX,P/=f.scaleY,Math.abs(k)>2e-5?(f.skewX=k*j,S=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(k))):f.skewX=0,f.perspective=D?1/(D<0?-D:D):0,f.x=I,f.y=M,f.z=R,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*w-f.yOrigin*S),f.y-=f.yOrigin-(f.yOrigin*b-f.xOrigin*P))}else if(!Ut||r||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var N=o.length>=6,F=N?o[0]:1,U=o[1]||0,B=o[2]||0,G=N?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,a=Math.sqrt(F*F+U*U),u=Math.sqrt(G*G+B*B),h=F||U?Math.atan2(U,F)*j:f.rotation||0,c=B||G?Math.atan2(B,G)*j+h:f.skewX||0,f.scaleX=a,f.scaleY=u,f.rotation=h,f.skewX=c,Ut&&(f.rotationX=f.rotationY=f.z=0,f.perspective=d,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*F+f.yOrigin*B),f.y-=f.yOrigin-(f.xOrigin*U+f.yOrigin*G))}for(s in Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(_?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=p,f)f[s]<2e-5&&f[s]>-2e-5&&(f[s]=0)}return n&&(t._gsTransform=f,f.svg&&(Ct&&t.style[kt]?e.delayedCall(.001,function(){te(t.style,kt)}):!Ct&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Jt=function(t){var e,i,n=this.data,r=-n.rotation*B,o=r+n.skewX*B,s=(Math.cos(r)*n.scaleX*1e5|0)/1e5,a=(Math.sin(r)*n.scaleX*1e5|0)/1e5,l=(Math.sin(o)*-n.scaleY*1e5|0)/1e5,u=(Math.cos(o)*n.scaleY*1e5|0)/1e5,h=this.t.style,c=this.t.currentStyle;if(c){i=a,a=-l,l=-i,e=c.filter,h.filter="";var f,_,p=this.t.offsetWidth,d=this.t.offsetHeight,m="absolute"!==c.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+a+", M21="+l+", M22="+u,y=n.x+p*n.xPercent/100,$=n.y+d*n.yPercent/100;if(null!=n.ox&&(y+=(f=(n.oxp?p*n.ox*.01:n.ox)-p/2)-(f*s+(_=(n.oyp?d*n.oy*.01:n.oy)-d/2)*a),$+=_-(f*l+_*u)),m?v+=", Dx="+((f=p/2)-(f*s+(_=d/2)*a)+y)+", Dy="+(_-(f*l+_*u)+$)+")":v+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(N,v):h.filter=v+" "+e,0!==t&&1!==t||1===s&&0===a&&0===l&&1===u&&(m&&-1===v.indexOf("Dx=0, Dy=0")||O.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!m){var w,b,T,x=g<8?1:-1;for(f=n.ieOffsetX||0,_=n.ieOffsetY||0,n.ieOffsetX=Math.round((p-((s<0?-s:s)*p+(a<0?-a:a)*d))/2+y),n.ieOffsetY=Math.round((d-((u<0?-u:u)*d+(l<0?-l:l)*p))/2+$),Pt=0;Pt<4;Pt++)T=(i=-1!==(w=c[b=ut[Pt]]).indexOf("px")?parseFloat(w):rt(this.t,b,parseFloat(w),w.replace(P,""))||0)!==n[b]?Pt<2?-n.ieOffsetX:-n.ieOffsetY:Pt<2?f-n.ieOffsetX:_-n.ieOffsetY,h[b]=(n[b]=Math.round(i-T*(0===Pt||2===Pt?1:x)))+"px"}}},Kt=X.set3DTransformRatio=X.setTransformRatio=function(t){var e,i,n,r,o,s,a,l,u,h,c,f,_,p,m,g,v,y,$,w,b=this.data,T=this.t.style,x=b.rotation,S=b.rotationX,P=b.rotationY,O=b.scaleX,E=b.scaleY,A=b.scaleZ,C=b.x,L=b.y,I=b.z,M=b.svg,R=b.perspective,D=b.force3D,k=b.skewY,N=b.skewX;if(k&&(N+=k,x+=k),!((1!==t&&0!==t||"auto"!==D||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&D||I||R||P||S||1!==A)||Ct&&M||!Ut)x||N||M?(x*=B,w=N*B,1e5,i=Math.cos(x)*O,o=Math.sin(x)*O,n=Math.sin(x-w)*-E,s=Math.cos(x-w)*E,w&&"simple"===b.skewType&&(e=Math.tan(w-k*B),n*=e=Math.sqrt(1+e*e),s*=e,k&&(e=Math.tan(k*B),i*=e=Math.sqrt(1+e*e),o*=e)),M&&(C+=b.xOrigin-(b.xOrigin*i+b.yOrigin*n)+b.xOffset,L+=b.yOrigin-(b.xOrigin*o+b.yOrigin*s)+b.yOffset,Ct&&(b.xPercent||b.yPercent)&&(m=this.t.getBBox(),C+=.01*b.xPercent*m.width,L+=.01*b.yPercent*m.height),C<(m=1e-6)&&C>-m&&(C=0),L<m&&L>-m&&(L=0)),$=(1e5*i|0)/1e5+","+(1e5*o|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*s|0)/1e5+","+C+","+L+")",M&&Ct?this.t.setAttribute("transform","matrix("+$):T[kt]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix(":"matrix(")+$):T[kt]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+E+","+C+","+L+")";else{if(d&&(O<(m=1e-4)&&O>-m&&(O=A=2e-5),E<m&&E>-m&&(E=A=2e-5),!R||b.z||b.rotationX||b.rotationY||(R=0)),x||N)x*=B,g=i=Math.cos(x),v=o=Math.sin(x),N&&(x-=N*B,g=Math.cos(x),v=Math.sin(x),"simple"===b.skewType&&(e=Math.tan((N-k)*B),g*=e=Math.sqrt(1+e*e),v*=e,b.skewY&&(e=Math.tan(k*B),i*=e=Math.sqrt(1+e*e),o*=e))),n=-v,s=g;else{if(!(P||S||1!==A||R||M))return void(T[kt]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) translate3d(":"translate3d(")+C+"px,"+L+"px,"+I+"px)"+(1!==O||1!==E?" scale("+O+","+E+")":""));i=s=1,n=o=0}h=1,r=a=l=u=c=f=0,_=R?-1/R:0,p=b.zOrigin,m=1e-6,",","0",(x=P*B)&&(g=Math.cos(x),l=-(v=Math.sin(x)),c=_*-v,r=i*v,a=o*v,h=g,_*=g,i*=g,o*=g),(x=S*B)&&(e=n*(g=Math.cos(x))+r*(v=Math.sin(x)),y=s*g+a*v,u=h*v,f=_*v,r=n*-v+r*g,a=s*-v+a*g,h*=g,_*=g,n=e,s=y),1!==A&&(r*=A,a*=A,h*=A,_*=A),1!==E&&(n*=E,s*=E,u*=E,f*=E),1!==O&&(i*=O,o*=O,l*=O,c*=O),(p||M)&&(p&&(C+=r*-p,L+=a*-p,I+=h*-p+p),M&&(C+=b.xOrigin-(b.xOrigin*i+b.yOrigin*n)+b.xOffset,L+=b.yOrigin-(b.xOrigin*o+b.yOrigin*s)+b.yOffset),C<m&&C>-m&&(C="0"),L<m&&L>-m&&(L="0"),I<m&&I>-m&&(I=0)),$=b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix3d(":"matrix3d(",$+=(i<m&&i>-m?"0":i)+","+(o<m&&o>-m?"0":o)+","+(l<m&&l>-m?"0":l),$+=","+(c<m&&c>-m?"0":c)+","+(n<m&&n>-m?"0":n)+","+(s<m&&s>-m?"0":s),S||P||1!==A?($+=","+(u<m&&u>-m?"0":u)+","+(f<m&&f>-m?"0":f)+","+(r<m&&r>-m?"0":r),$+=","+(a<m&&a>-m?"0":a)+","+(h<m&&h>-m?"0":h)+","+(_<m&&_>-m?"0":_)+","):$+=",0,0,0,0,1,0,",$+=C+","+L+","+I+","+(R?1+-I/R:1)+")",T[kt]=$}};(c=Bt.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Et("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,o,a,u){if(n._lastParsedTransform===u)return o;n._lastParsedTransform=u;var h,c=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[i]&&(h=u[i],u[i]=e),c&&(u.scale=c(y,t));var f,_,p,d,m,g,$,w,b,T=t._gsTransform,x=t.style,S=Dt.length,P=u,O={},E=Qt(t,s,!0,P.parseTransform),A=P.transform&&("function"==typeof P.transform?P.transform(y,v):P.transform);if(E.skewType=P.skewType||E.skewType||l.defaultSkewType,n._transform=E,A&&"string"==typeof A&&kt)(_=H.style)[kt]=A,_.display="block",_.position="absolute",q.body.appendChild(H),f=Qt(H,null,!1),"simple"===E.skewType&&(f.scaleY*=Math.cos(f.skewX*B)),E.svg&&(g=E.xOrigin,$=E.yOrigin,f.x-=E.xOffset,f.y-=E.yOffset,(P.transformOrigin||P.svgOrigin)&&(A={},Yt(t,ct(P.transformOrigin),A,P.svgOrigin,P.smoothOrigin,!0),g=A.xOrigin,$=A.yOrigin,f.x-=A.xOffset-E.xOffset,f.y-=A.yOffset-E.yOffset),(g||$)&&(w=Wt(H,!0),f.x-=g-(g*w[0]+$*w[2]),f.y-=$-(g*w[1]+$*w[3]))),q.body.removeChild(H),f.perspective||(f.perspective=E.perspective),null!=P.xPercent&&(f.xPercent=_t(P.xPercent,E.xPercent)),null!=P.yPercent&&(f.yPercent=_t(P.yPercent,E.yPercent));else if("object"===(void 0===P?"undefined":r(P))){if(f={scaleX:_t(null!=P.scaleX?P.scaleX:P.scale,E.scaleX),scaleY:_t(null!=P.scaleY?P.scaleY:P.scale,E.scaleY),scaleZ:_t(P.scaleZ,E.scaleZ),x:_t(P.x,E.x),y:_t(P.y,E.y),z:_t(P.z,E.z),xPercent:_t(P.xPercent,E.xPercent),yPercent:_t(P.yPercent,E.yPercent),perspective:_t(P.transformPerspective,E.perspective)},null!=(m=P.directionalRotation))if("object"===(void 0===m?"undefined":r(m)))for(_ in m)P[_]=m[_];else P.rotation=m;"string"==typeof P.x&&-1!==P.x.indexOf("%")&&(f.x=0,f.xPercent=_t(P.x,E.xPercent)),"string"==typeof P.y&&-1!==P.y.indexOf("%")&&(f.y=0,f.yPercent=_t(P.y,E.yPercent)),f.rotation=pt("rotation"in P?P.rotation:"shortRotation"in P?P.shortRotation+"_short":"rotationZ"in P?P.rotationZ:E.rotation,E.rotation,"rotation",O),Ut&&(f.rotationX=pt("rotationX"in P?P.rotationX:"shortRotationX"in P?P.shortRotationX+"_short":E.rotationX||0,E.rotationX,"rotationX",O),f.rotationY=pt("rotationY"in P?P.rotationY:"shortRotationY"in P?P.shortRotationY+"_short":E.rotationY||0,E.rotationY,"rotationY",O)),f.skewX=pt(P.skewX,E.skewX),f.skewY=pt(P.skewY,E.skewY)}for(Ut&&null!=P.force3D&&(E.force3D=P.force3D,d=!0),(p=E.force3D||E.z||E.rotationX||E.rotationY||f.z||f.rotationX||f.rotationY||f.perspective)||null==P.scale||(f.scaleZ=1);--S>-1;)((A=f[b=Dt[S]]-E[b])>1e-6||A<-1e-6||null!=P[b]||null!=G[b])&&(d=!0,o=new Tt(E,b,E[b],A,o),b in O&&(o.e=O[b]),o.xs0=0,o.plugin=a,n._overwriteProps.push(o.n));return A=P.transformOrigin,E.svg&&(A||P.svgOrigin)&&(g=E.xOffset,$=E.yOffset,Yt(t,ct(A),f,P.svgOrigin,P.smoothOrigin),o=xt(E,"xOrigin",(T?E:f).xOrigin,f.xOrigin,o,"transformOrigin"),o=xt(E,"yOrigin",(T?E:f).yOrigin,f.yOrigin,o,"transformOrigin"),g===E.xOffset&&$===E.yOffset||(o=xt(E,"xOffset",T?g:E.xOffset,E.xOffset,o,"transformOrigin"),o=xt(E,"yOffset",T?$:E.yOffset,E.yOffset,o,"transformOrigin")),A="0px 0px"),(A||Ut&&p&&E.zOrigin)&&(kt?(d=!0,b=Ft,A=(A||nt(t,b,s,!1,"50% 50%"))+"",(o=new Tt(x,b,0,0,o,-1,"transformOrigin")).b=x[b],o.plugin=a,Ut?(_=E.zOrigin,A=A.split(" "),E.zOrigin=(A.length>2&&(0===_||"0px"!==A[2])?parseFloat(A[2]):_)||0,o.xs0=o.e=A[0]+" "+(A[1]||"50%")+" 0px",(o=new Tt(E,"zOrigin",0,0,o,-1,o.n)).b=_,o.xs0=o.e=E.zOrigin):o.xs0=o.e=A):ct(A+"",E)),d&&(n._transformType=E.svg&&Ct||!p&&3!==this._transformType?2:3),h&&(u[i]=h),c&&(u.scale=c),o},prefix:!0}),Et("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Et("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,o,a){e=this.format(e);var l,u,h,c,f,_,p,d,m,g,v,y,$,w,b,T,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<x.length;u++)this.p.indexOf("border")&&(x[u]=et(x[u])),-1!==(f=c=nt(t,x[u],s,!1,"0px")).indexOf(" ")&&(f=(c=f.split(" "))[0],c=c[1]),_=h=l[u],p=parseFloat(f),y=f.substr((p+"").length),($="="===_.charAt(1))?(d=parseInt(_.charAt(0)+"1",10),_=_.substr(2),d*=parseFloat(_),v=_.substr((d+"").length-(d<0?1:0))||""):(d=parseFloat(_),v=_.substr((d+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=rt(t,"borderLeft",p,y),b=rt(t,"borderTop",p,y),"%"===v?(f=w/m*100+"%",c=b/g*100+"%"):"em"===v?(f=w/(T=rt(t,"borderLeft",1,"em"))+"em",c=b/T+"em"):(f=w+"px",c=b+"px"),$&&(_=parseFloat(f)+d+v,h=parseFloat(c)+d+v)),o=St(S,x[u],f+" "+c,_+" "+h,!1,"0px",o);return o},prefix:!0,formatter:$t("0px 0px 0px 0px",!1,!0)}),Et("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,o){return St(t.style,i,this.format(nt(t,i,s,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:$t("0px 0px",!1,!0)}),Et("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,o){var a,l,u,h,c,f,_="background-position",p=s||it(t,null),d=this.format((p?g?p.getPropertyValue(_+"-x")+" "+p.getPropertyValue(_+"-y"):p.getPropertyValue(_):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==d.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&(f=nt(t,"backgroundImage").replace(M,""))&&"none"!==f){for(a=d.split(" "),l=m.split(" "),V.setAttribute("src",f),u=2;--u>-1;)(h=-1!==(d=a[u]).indexOf("%"))!=(-1!==l[u].indexOf("%"))&&(c=0===u?t.offsetWidth-V.width:t.offsetHeight-V.height,a[u]=h?parseFloat(d)/100*c+"px":parseFloat(d)/c*100+"%");d=a.join(" ")}return this.parseComplex(t.style,d,m,r,o)},formatter:ct}),Et("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ct(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Et("perspective",{defaultValue:"0px",prefix:!0}),Et("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Et("transformStyle",{prefix:!0}),Et("backfaceVisibility",{prefix:!0}),Et("userSelect",{prefix:!0}),Et("margin",{parser:wt("marginTop,marginRight,marginBottom,marginLeft")}),Et("padding",{parser:wt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Et("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,o){var a,l,u;return g<9?(l=t.currentStyle,u=g<8?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(nt(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,o)}}),Et("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Et("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Et("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,o){var a=nt(t,"borderTopWidth",s,!1,"0px"),l=this.format(e).split(" "),u=l[0].replace(P,"");return"px"!==u&&(a=parseFloat(a)/rt(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(a+" "+nt(t,"borderTopStyle",s,!1,"solid")+" "+nt(t,"borderTopColor",s,!1,"#000")),l.join(" "),r,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(yt)||["#000"])[0]}}),Et("borderWidth",{parser:wt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Et("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new Tt(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var Zt=function(t){var e,i=this.t,n=i.filter||nt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!nt(this.data,"filter")):(i.filter=n.replace(A,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(O,"opacity="+r))};Et("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,o){var a=parseFloat(nt(t,"opacity",s,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===nt(t,"visibility",s)&&0!==e&&(a=0),Q?r=new Tt(l,"opacity",a,e-a,r):((r=new Tt(l,"opacity",100*a,100*(e-a),r)).xn1=u?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=o,r.setRatio=Zt),u&&((r=new Tt(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var te=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(L,"-$1").toLowerCase())):t.removeAttribute(e))},ee=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:te(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Et("className",{parser:function(t,e,n,r,o,a,l){var u,h,c,f,_,p=t.getAttribute("class")||"",d=t.style.cssText;if((o=r._classNamePT=new Tt(t,n,0,0,o,2)).setRatio=ee,o.pr=-11,i=!0,o.b=p,h=st(t,s),c=t._gsClassPT){for(f={},_=c.data;_;)f[_.p]=1,_=_._next;c.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),u=at(t,h,st(t),l,f),t.setAttribute("class",p),o.data=u.firstMPT,t.style.cssText=d,o.xfirst=r.parse(t,u.difs,o,a)}});var ie=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,s=this.t.style,a=h.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)i=e[n],h[i]&&(h[i].parse===a?r=!0:i="transformOrigin"===i?Ft:h[i].p),te(s,i);r&&(te(s,kt),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Et("clearProps",{parser:function(t,e,n,r,o){return(o=new Tt(t,n,0,0,o,2)).setRatio=ie,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Pt=c.length;Pt--;)At(c[Pt]);(c=l.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,r,o){if(!t.nodeType)return!1;this._target=v=t,this._tween=r,this._vars=e,y=o,f=e.autoRound,i=!1,n=e.suffixMap||l.suffixMap,s=it(t,""),a=this._overwriteProps;var u,c,d,g,$,w,b,T,x,S=t.style;if(_&&""===S.zIndex&&("auto"!==(u=nt(t,"zIndex",s))&&""!==u||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(g=S.cssText,u=st(t,s),S.cssText=g+";"+e,u=at(t,u,st(t)).difs,!Q&&E.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,S.cssText=g),e.className?this._firstPT=c=h.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=c=this.parse(t,e,null),this._transformType){for(x=3===this._transformType,kt?p&&(_=!0,""===S.zIndex&&("auto"!==(b=nt(t,"zIndex",s))&&""!==b||this._addLazySet(S,"zIndex",0)),m&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):S.zoom=1,d=c;d&&d._next;)d=d._next;T=new Tt(t,"transform",0,0,null,2),this._linkCSSP(T,null,d),T.setRatio=kt?Kt:Jt,T.data=this._transform||Qt(t,s,!0),T.tween=r,T.pr=-1,a.pop()}if(i){for(;c;){for(w=c._next,d=g;d&&d.pr>c.pr;)d=d._next;(c._prev=d?d._prev:$)?c._prev._next=c:g=c,(c._next=d)?d._prev=c:$=c,c=w}this._firstPT=g}return!0},c.parse=function(t,e,i,r){var o,a,l,u,c,_,p,d,m,g,$=t.style;for(o in e){if("function"==typeof(_=e[o])&&(_=_(y,v)),a=h[o])i=a.parse(t,_,o,this,i,r,e);else{if("--"===o.substr(0,2)){this._tween._propLookup[o]=this._addTween.call(this._tween,t.style,"setProperty",it(t).getPropertyValue(o)+"",_+"",o,!1,o);continue}c=nt(t,o,s)+"",m="string"==typeof _,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&C.test(_)?(m||(_=((_=gt(_)).length>3?"rgba(":"rgb(")+_.join(",")+")"),i=St($,o,c,_,!0,"transparent",i,0,r)):m&&U.test(_)?i=St($,o,c,_,!0,null,i,0,r):(p=(l=parseFloat(c))||0===l?c.substr((l+"").length):"",""!==c&&"auto"!==c||("width"===o||"height"===o?(l=ht(t,o,s),p="px"):"left"===o||"top"===o?(l=ot(t,o,s),p="px"):(l="opacity"!==o?0:1,p="")),(g=m&&"="===_.charAt(1))?(u=parseInt(_.charAt(0)+"1",10),_=_.substr(2),u*=parseFloat(_),d=_.replace(P,"")):(u=parseFloat(_),d=m?_.replace(P,""):""),""===d&&(d=o in n?n[o]:p),_=u||0===u?(g?u+l:u)+d:e[o],p!==d&&(""===d&&"lineHeight"!==o||(u||0===u)&&l&&(l=rt(t,o,l,p),"%"===d?(l/=rt(t,o,100,"%")/100,!0!==e.strictUnits&&(c=l+"%")):"em"===d||"rem"===d||"vw"===d||"vh"===d?l/=rt(t,o,1,d):"px"!==d&&(u=rt(t,o,u,d),d="px"),g&&(u||0===u)&&(_=u+l+d))),g&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==$[o]&&(_||_+""!="NaN"&&null!=_)?(i=new Tt($,o,u||l||0,0,i,-1,o,!1,0,c,_)).xs0="none"!==_||"display"!==o&&-1===o.indexOf("Style")?_:c:K("invalid "+o+" tween value: "+e[o]):(i=new Tt($,o,l,u-l,i,0,o,!1!==f&&("px"===d||"zIndex"===o),0,c,_)).xs0=d)}r&&i&&!i.plugin&&(i.plugin=r)}return i},c.setRatio=function(t){var e,i,n,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||Qt(this._target,s,!0),this._transformType=this._transform.svg&&Ct||!t&&3!==this._transformType?2:3};var ne=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new Tt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=ne,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){for(n in o={},e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(i=this._classNamePT)&&((r=i.xfirst)&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,o)};var re=function t(e,i,n){var r,o,s,a;if(e.slice)for(o=e.length;--o>-1;)t(e[o],i,n);else for(o=(r=e.childNodes).length;--o>-1;)a=(s=r[o]).type,s.style&&(i.push(st(s)),n&&n.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||t(s,i,n)};return l.cascadeTo=function(t,i,n){var r,o,s,a,l=e.to(t,i,n),u=[l],h=[],c=[],f=[],_=e._internals.reservedProps;for(t=l._targets||l.target,re(t,h,f),l.render(i,!0,!0),re(t,c),l.render(0,!0,!0),l._enabled(!0),r=f.length;--r>-1;)if((o=at(f[r],h[r],c[r])).firstMPT){for(s in o=o.difs,n)_[s]&&(o[s]=n[s]);for(s in a={},o)a[s]=h[r][s];u.push(e.fromTo(f[r],i,a,o))}return u},t.activate([l]),l},!0),t=o._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},(i=t.prototype)._onInitAllProps=function(){for(var t,i,n,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),s=o.length,a={},l=r._propLookup.roundProps;--s>-1;)a[o[s]]=Math.round;for(s=o.length;--s>-1;)for(t=o[s],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(a):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=l)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)},o._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var r,o;if("function"!=typeof t.setAttribute)return!1;for(r in e)"function"==typeof(o=e[r])&&(o=o(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}}),o._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!==(void 0===e?"undefined":r(e))&&(e={rotation:e}),this.finals={};var o,s,a,l,u,h,c=!0===e.useRadians?2*Math.PI:360;for(o in e)"useRadians"!==o&&("function"==typeof(l=e[o])&&(l=l(n,t)),s=(h=(l+"").split("_"))[0],a=parseFloat("function"!=typeof t[o]?t[o]:t[o.indexOf("set")||"function"!=typeof t["get"+o.substr(3)]?o:"get"+o.substr(3)]()),u=(l=this.finals[o]="string"==typeof s&&"="===s.charAt(1)?a+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0)-a,h.length&&(-1!==(s=h.join("_")).indexOf("short")&&(u%=c)!=u%(c/2)&&(u=u<0?u+c:u-c),-1!==s.indexOf("_cw")&&u<0?u=(u+9999999999*c)%c-(u/c|0)*c:-1!==s.indexOf("ccw")&&u>0&&(u=(u-9999999999*c)%c-(u/c|0)*c)),(u>1e-6||u<-1e-6)&&(this._addTween(t,o,a,a+u,o),this._overwriteProps.push(o)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=o.GreenSockGlobals||o,s=r.com.greensock,a=2*Math.PI,l=Math.PI/2,u=s._class,h=function(e,i){var n=u("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},c=t.register||function(){},f=function(t,e,i,n,r){var o=u("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return c(o,t),o},_=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},d=f("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=u("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),g=m.prototype=new t;return g.constructor=m,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),g.config=m.config=function(t,e,i){return new m(t,e,i)},(g=(e=u("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new t).constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},g.config=e.config=function(t,i){return new e(t,i)},(g=(i=u("easing.RoughEase",function(e){for(var i,n,r,o,s,a,l=(e=e||{}).taper||"none",u=[],h=0,c=0|(e.points||20),f=c,p=!1!==e.randomize,d=!0===e.clamp,m=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)i=p?Math.random():1/c*f,n=m?m.getRatio(i):i,"none"===l?r=g:"out"===l?r=(o=1-i)*o*g:"in"===l?r=i*i*g:i<.5?r=(o=2*i)*o*.5*g:r=(o=2*(1-i))*o*.5*g,p?n+=Math.random()*r-.5*r:f%2?n+=.5*r:n-=.5*r,d&&(n>1?n=1:n<0&&(n=0)),u[h++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),a=new _(1,1,null),f=c;--f>-1;)s=u[f],a=new _(s.x,s.y,a);this._prev=new _(0,0,0!==a.t?a:a.next)},!0)).prototype=new t).constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,f("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),f("Elastic",(n=function(e,i,n){var r=u("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),n("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",h("SineOut",function(t){return Math.sin(t*l)}),h("SineIn",function(t){return 1-Math.cos(t*l)}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),d},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(i,o){var s,a,l={},u=i.document,h=i.GreenSockGlobals=i.GreenSockGlobals||i;if(!h.TweenLite){var c,f,_,p,d,m=function(t){var e,i=t.split("."),n=h;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},g=m("com.greensock"),v=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},y=function(){},$=(s=Object.prototype.toString,a=s.call([]),function(t){return null!=t&&(t instanceof Array||"object"===(void 0===t?"undefined":r(t))&&!!t.push&&s.call(t)===a)}),w={},b=i._gsDefine=function(i,r,o,s){return new function i(r,o,s,a){this.sc=w[r]?w[r].sc:[],w[r]=this,this.gsClass=null,this.func=s;var u=[];this.check=function(c){for(var f,_,p,d,g=o.length,v=g;--g>-1;)(f=w[o[g]]||new i(o[g],[])).gsClass?(u[g]=f.gsClass,v--):c&&f.sc.push(this);if(0===v&&s){if(p=(_=("com.greensock."+r).split(".")).pop(),d=m(_.join("."))[p]=this.gsClass=s.apply(s,u),a)if(h[p]=l[p]=d,void 0!==t&&t.exports)if("TweenMax"===r)for(g in t.exports=l.TweenMax=d,l)d[g]=l[g];else l.TweenMax&&(l.TweenMax[p]=d);else void 0!==(n=function(){return d}.apply(e,[]))&&(t.exports=n);for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)}(i,r,o,s)},T=g._class=function(t,e,i){return e=e||function(){},b(t,[],function(){return e},i),e};b.globals=h;var x=[0,0,1,1],S=T("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?x.concat(e):x},!0),P=S.map={},O=S.register=function(t,e,i,n){for(var r,o,s,a,l=e.split(","),u=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=l[u],r=n?T("easing."+o,null,!0):g.easing[o]||{},s=h.length;--s>-1;)a=h[s],P[o+"."+a]=P[a+o]=r[a]=t.getRatio?t:t[a]||new t};for((_=S.prototype)._calcEnd=!1,_.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},f=(c=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--f>-1;)_=c[f]+",Power"+f,O(new S(null,null,1,f),_,"easeOut",!0),O(new S(null,null,2,f),_,"easeIn"+(0===f?",easeNone":"")),O(new S(null,null,3,f),_,"easeInOut");P.linear=g.easing.Linear.easeIn,P.swing=g.easing.Quad.easeInOut;var E=T("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(_=E.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var o,s,a=this._listeners[t],l=0;for(this!==p||d||p.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;--s>-1;)(o=a[s]).c===e&&o.s===i?a.splice(s,1):0===l&&o.pr<r&&(l=s+1);a.splice(l,0,{c:e,s:i,up:n,pr:r})},_.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},_.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var A=i.requestAnimationFrame,C=i.cancelAnimationFrame,L=Date.now||function(){return(new Date).getTime()},I=L();for(f=(c=["ms","moz","webkit","o"]).length;--f>-1&&!A;)A=i[c[f]+"RequestAnimationFrame"],C=i[c[f]+"CancelAnimationFrame"]||i[c[f]+"CancelRequestAnimationFrame"];T("Ticker",function(t,e){var i,n,r,o,s,a=this,l=L(),h=!(!1===e||!A)&&"auto",c=500,f=33,_=function t(e){var u,h,_=L()-I;_>c&&(l+=_-f),I+=_,a.time=(I-l)/1e3,u=a.time-s,(!i||u>0||!0===e)&&(a.frame++,s+=u+(u>=o?.004:o-u),h=!0),!0!==e&&(r=n(t)),h&&a.dispatchEvent("tick")};E.call(a),a.time=a.frame=0,a.tick=function(){_(!0)},a.lagSmoothing=function(t,e){if(!arguments.length)return c<1e10;c=t||1e10,f=Math.min(e,c,0)},a.sleep=function(){null!=r&&(h&&C?C(r):clearTimeout(r),n=y,r=null,a===p&&(d=!1))},a.wake=function(t){null!==r?a.sleep():t?l+=-I+(I=L()):a.frame>10&&(I=L()-c+5),n=0===i?y:h&&A?A:function(t){return setTimeout(t,1e3*(s-a.time)+1|0)},a===p&&(d=!0),_(2)},a.fps=function(t){if(!arguments.length)return i;o=1/((i=t)||60),s=this.time+o,a.wake()},a.useRAF=function(t){if(!arguments.length)return h;a.sleep(),h=t,a.fps(i)},a.fps(t),setTimeout(function(){"auto"===h&&a.frame<5&&"hidden"!==u.visibilityState&&a.useRAF(!1)},1500)}),(_=g.Ticker.prototype=new g.events.EventDispatcher).constructor=g.Ticker;var M=T("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,J){d||p.wake();var i=this.vars.useFrames?Q:J;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});p=M.ticker=new g.Ticker,(_=M.prototype)._dirty=_._gc=_._initted=_._paused=!1,_._totalTime=_._time=0,_._rawPrevTime=-1,_._next=_._last=_._onUpdate=_._timeline=_.timeline=null,_._paused=!1,!function t(){d&&L()-I>2e3&&("hidden"!==u.visibilityState||!p.lagSmoothing())&&p.wake();var e=setTimeout(t,2e3);e.unref&&e.unref()}(),_.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},_.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},_.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},_.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},_.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},_.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},_.render=function(t,e,i){},_.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},_.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},_._enabled=function(t,e){return d||p.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},_._kill=function(t,e){return this._enabled(!1,!1)},_.kill=function(t,e){return this._kill(t,e),this},_._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},_._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},_._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},_.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=$(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},_.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},_.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},_.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},_.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},_.totalTime=function(t,e,i){if(d||p.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(N.length&&Z(),this.render(t,e,!1),N.length&&Z())}return this},_.progress=_.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},_.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},_.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},_.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},_.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},_.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(d||t||p.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var R=T("core.SimpleTimeline",function(t){M.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(_=R.prototype=new M).constructor=R,_.kill()._gc=!1,_._first=_._last=_._recent=null,_._sortChildren=!1,_.add=_.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},_._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},_.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},_.rawTime=function(){return d||p.wake(),this._totalTime};var D=T("TweenLite",function(t,e,n){if(M.call(this,e,n),this.render=D.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:D.selector(t)||t;var r,o,s,a=t.jquery||t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?W[D.defaultOverwrite]:"number"==typeof l?l>>0:W[l],(a||t instanceof Array||t.push&&$(t))&&"number"!=typeof t[0])for(this._targets=s=v(t),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)(o=s[r])?"string"!=typeof o?o.length&&o!==i&&o[0]&&(o[0]===i||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(v(o))):(this._siblings[r]=tt(o,this,!1),1===l&&this._siblings[r].length>1&&it(o,this,null,1,this._siblings[r])):"string"==typeof(o=s[r--]=D.selector(o))&&s.splice(r+1,1):s.splice(r--,1);else this._propLookup={},this._siblings=tt(t,this,!1),1===l&&this._siblings.length>1&&it(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),k=function(t){return t&&t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType)};(_=D.prototype=new M).constructor=D,_.kill()._gc=!1,_.ratio=0,_._firstPT=_._targets=_._overwrittenProps=_._startAt=null,_._notifyPluginsOfEnabled=_._lazy=!1,D.version="1.20.3",D.defaultEase=_._ease=new S(null,null,1,1),D.defaultOverwrite="auto",D.ticker=p,D.autoSleep=120,D.lagSmoothing=function(t,e){p.lagSmoothing(t,e)},D.selector=i.$||i.jQuery||function(t){var e=i.$||i.jQuery;return e?(D.selector=e,e(t)):void 0===u?t:u.querySelectorAll?u.querySelectorAll(t):u.getElementById("#"===t.charAt(0)?t.substr(1):t)};var N=[],F={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,j=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},G=function(t,e,i,n){var r,o,s,a,l,u,h,c=[],f=0,_="",p=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(U)||[],o=e.match(U)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),l=o.length,a=0;a<l;a++)h=o[a],_+=(u=e.substr(f,e.indexOf(h,f)-f))||!a?u:",",f+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),h===r[a]||r.length<=a?_+=h:(_&&(c.push(_),_=""),s=parseFloat(r[a]),c.push(s),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:s,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-s)||0,f:0,m:p&&p<4?Math.round:0}),f+=h.length;return(_+=e.substr(f))&&c.push(_),c.setRatio=j,B.test(e)&&(c.end=null),c},z=function(t,e,i,n,o,s,a,l,u){"function"==typeof n&&(n=n(u||0,t));var h=r(t[e]),c="function"!==h?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f="get"!==i?i:c?a?t[c](a):t[c]():t[e],_="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:f,f:"function"===h,pg:0,n:o||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:_?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};if(("number"!=typeof f||"number"!=typeof n&&!_)&&(a||isNaN(f)||!_&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(p.fp=a,p={t:G(f,_?parseFloat(p.s)+p.c:n,l||D.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||e,pr:0,m:0}):(p.s=parseFloat(f),_||(p.c=parseFloat(n)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},q=D._internals={isArray:$,isSelector:k,lazyTweens:N,blobDif:G},Y=D._plugins={},H=q.tweenLookup={},V=0,X=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=M._rootFramesTimeline=new R,J=M._rootTimeline=new R,K=30,Z=q.lazyRender=function(){var t,e=N.length;for(F={};--e>-1;)(t=N[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);N.length=0};J._startTime=p.time,Q._startTime=p.frame,J._active=Q._active=!0,setTimeout(Z,1),M._updateRoot=D.render=function(){var t,e,i;if(N.length&&Z(),J.render((p.time-J._startTime)*J._timeScale,!1,!1),Q.render((p.frame-Q._startTime)*Q._timeScale,!1,!1),N.length&&Z(),p.frame>=K){for(i in K=p.frame+(parseInt(D.autoSleep,10)||120),H){for(t=(e=H[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[i]}if((!(i=J._first)||i._paused)&&D.autoSleep&&!Q._first&&1===p._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||p.sleep()}}},p.addEventListener("tick",M._updateRoot);var tt=function(t,e,i){var n,r,o=t._gsTweenID;if(H[o||(t._gsTweenID=o="t"+V++)]||(H[o]={target:t,tweens:[]}),e&&((n=H[o].tweens)[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return H[o].tweens},et=function(t,e,i,n){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,i,n)),(s=D.onOverwrite)&&(o=s(t,e,i,n)),!1!==r&&!1!==o},it=function(t,e,i,n,r){var o,s,a,l;if(1===n||n>=4){for(l=r.length,o=0;o<l;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var u,h=e._startTime+1e-10,c=[],f=0,_=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||nt(e,0,_),0===nt(a,u,_)&&(c[f++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((_||!a._initted)&&h-a._startTime<=2e-10||(c[f++]=a)));for(o=f;--o>-1;)if(a=c[o],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!et(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},nt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(o/=r)>e?o-e:i&&o===e||!t._initted&&o-e<2e-10?1e-10:(o+=t.totalDuration()/t._timeScale/r)>e+1e-10?0:o-e-1e-10};_._init=function(){var t,e,i,n,r,o,s=this.vars,a=this._overwrittenProps,l=this._duration,u=!!s.immediateRender,h=s.ease;if(s.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},s.startAt)r[n]=s.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&!1!==s.lazy,r.startAt=r.delay=null,r.onUpdate=s.onUpdate,r.onUpdateParams=s.onUpdateParams,r.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=D.to(this.target,0,r),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(s.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(u=!1),i={},s)X[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&!1!==s.lazy,i.immediateRender=u,this._startAt=D.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof S?h:"function"==typeof h?new S(h,s.easeParams):P[h]||D.defaultEase:D.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&D._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},_._initProps=function(t,e,n,r,o){var s,a,l,u,h,c;if(null==t)return!1;for(s in F[t._gsTweenID]&&Z(),this.vars.css||t.style&&t!==i&&t.nodeType&&Y.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)X[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!Y[i]||Y[i]&&Y[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars)if(c=this.vars[s],X[s])c&&(c instanceof Array||c.push&&$(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(Y[s]&&(u=new Y[s])._onInitTween(t,this.vars[s],this,o)){for(this._firstPT=h={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:u._priority,m:0},a=u._overwriteProps.length;--a>-1;)e[u._overwriteProps[a]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else e[s]=z.call(this,t,s,"get",c,s,0,null,this.vars.stringFilter,o);return r&&this._kill(r,t)?this._initProps(t,e,n,r,o):this._overwrite>1&&this._firstPT&&n.length>1&&it(t,this,e,this._overwrite,n)?(this._kill(e,t),this._initProps(t,e,n,r,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[t._gsTweenID]=!0),l)},_.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&t>=-1e-7||1e-10===u&&"isPause"!==this.data)&&u!==t&&(i=!0,u>1e-10&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&u>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(1e-10!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||u===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,c=this._easeType,f=this._easePower;(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:t/l<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,N.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&1e-10===this._rawPrevTime&&1e-10!==s&&(this._rawPrevTime=0)))}},_._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var n,o,s,a,l,u,h,c,f,_=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if(($(e)||k(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){l=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;l=this._propLookup,o=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(l){if(h=t||l,c=t!==o&&"all"!==o&&t!==l&&("object"!==(void 0===t?"undefined":r(t))||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(s in h)l[s]&&(f||(f=[]),f.push(s));if((f||!t)&&!et(this,i,e,f))return!1}for(s in h)(a=l[s])&&(_&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(h)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete l[s]),c&&(o[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},_.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},_._enabled=function(t,e){if(d||p.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=tt(n[i],this,!0);else this._siblings=tt(this.target,this,!0)}return M.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&D._onPluginEvent(t?"_onEnable":"_onDisable",this)},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new D(t,e,n)},D.delayedCall=function(t,e,i,n,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,o;if(t="string"!=typeof t?t:D.selector(t)||t,($(t)||k(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(D.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=tt(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"===(void 0===e?"undefined":r(e))&&(i=e,e=!1);for(var n=D.getTweensOf(t,e),o=n.length;--o>-1;)n[o]._kill(i,t)};var rt=T("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=rt.prototype},!0);if(_=rt.prototype,rt.version="1.19.0",rt.API=2,_._firstPT=null,_._addTween=z,_.setRatio=j,_._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},_._mod=_._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},D._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},rt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===rt.API&&(Y[(new t[e])._propName]=t[e]);return!0},b.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=T("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){rt.call(this,i,n),this._overwriteProps=r||[]},!0===t.global),a=s.prototype=new rt(i);for(e in a.constructor=s,s.API=t.API,o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,rt.activate([s]),s},c=i._gsQueue){for(f=0;f<c.length;f++)c[f]();for(_ in w)w[_].func||i.console.log("GSAP encountered missing dependency: "+_)}d=!1}}(void 0!==t&&t.exports&&void 0!==i?i:window)}).call(e,i(1))},function(t,e,i){"use strict";NexT.utils.isMobile()||(i(28),loadlive2d("live2d","/images/live2d/22/22.model.json"))},function(t,e,i){"use strict";!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,i){function n(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new u,this.expressionManager=new u,this.motions={},this.expressions={},this.isTexLoaded=!1}function r(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function o(){this.id="",this.type=-1,this.value=null}function s(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=g.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function a(){this.tr=new Float32Array(16),this.identity()}function l(t,e){a.prototype.constructor.call(this),this.width=t,this.height=e}function u(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function h(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function c(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function f(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function _(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function p(){a.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function d(){}var m=0;n.prototype.getModelMatrix=function(){return this.modelMatrix},n.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},n.prototype.getAlpha=function(){return this.alpha},n.prototype.isInitialized=function(){return this.initialized},n.prototype.setInitialized=function(t){this.initialized=t},n.prototype.isUpdating=function(){return this.updating},n.prototype.setUpdating=function(t){this.updating=t},n.prototype.getLive2DModel=function(){return this.live2DModel},n.prototype.setLipSync=function(t){this.lipSync=t},n.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},n.prototype.setAccel=function(t,e,i){this.accelX=t,this.accelY=e,this.accelZ=i},n.prototype.setDrag=function(t,e){this.dragX=t,this.dragY=e},n.prototype.getMainMotionManager=function(){return this.mainMotionManager},n.prototype.getExpressionManager=function(){return this.expressionManager},n.prototype.loadModelData=function(t,e){var i=d.getPlatformManager();this.debugMode&&i.log("Load model : "+t);var n=this;i.loadLive2DModel(t,function(t){n.live2DModel=t,n.live2DModel.saveParam(),0==Live2D.getError()?(n.modelMatrix=new l(n.live2DModel.getCanvasWidth(),n.live2DModel.getCanvasHeight()),n.modelMatrix.setWidth(2),n.modelMatrix.setCenterPosition(0,0),e(n.live2DModel)):console.error("Error : Failed to loadModelData().")})},n.prototype.loadTexture=function(t,e,i){m++;var n=d.getPlatformManager();this.debugMode&&n.log("Load Texture : "+e);var r=this;n.loadTexture(this.live2DModel,t,e,function(){0==--m&&(r.isTexLoaded=!0),"function"==typeof i&&i()})},n.prototype.loadMotion=function(t,e,i){var n=d.getPlatformManager();this.debugMode&&n.log("Load Motion : "+e);var r=null,o=this;n.loadBytes(e,function(e){r=Live2DMotion.loadMotion(e),null!=t&&(o.motions[t]=r),i(r)})},n.prototype.loadExpression=function(t,e,i){var n=d.getPlatformManager();this.debugMode&&n.log("Load Expression : "+e);var o=this;n.loadBytes(e,function(e){null!=t&&(o.expressions[t]=r.loadJson(e)),"function"==typeof i&&i()})},n.prototype.loadPose=function(t,e){var i=d.getPlatformManager();this.debugMode&&i.log("Load Pose : "+t);var n=this;try{i.loadBytes(t,function(t){n.pose=c.load(t),"function"==typeof e&&e()})}catch(t){console.warn(t)}},n.prototype.loadPhysics=function(t){var e=d.getPlatformManager();this.debugMode&&e.log("Load Physics : "+t);var i=this;try{e.loadBytes(t,function(t){i.physics=h.load(t)})}catch(t){console.warn(t)}},n.prototype.hitTestSimple=function(t,e,i){var n=this.live2DModel.getDrawDataIndex(t);if(n<0)return!1;for(var r=this.live2DModel.getTransformedPoints(n),o=this.live2DModel.getCanvasWidth(),s=0,a=this.live2DModel.getCanvasHeight(),l=0,u=0;u<r.length;u+=2){var h=r[u],c=r[u+1];h<o&&(o=h),h>s&&(s=h),c<a&&(a=c),c>l&&(l=c)}var f=this.modelMatrix.invertTransformX(e),_=this.modelMatrix.invertTransformY(i);return o<=f&&f<=s&&a<=_&&_<=l},r.prototype=new AMotion,r.EXPRESSION_DEFAULT="DEFAULT",r.TYPE_SET=0,r.TYPE_ADD=1,r.TYPE_MULT=2,r.loadJson=function(t){var e=new r,i=d.getPlatformManager().jsonParseFromBytes(t);if(e.setFadeIn(parseInt(i.fade_in)>0?parseInt(i.fade_in):1e3),e.setFadeOut(parseInt(i.fade_out)>0?parseInt(i.fade_out):1e3),null==i.params)return e;var n=i.params,s=n.length;e.paramList=[];for(var a=0;a<s;a++){var l=n[a],u=l.id.toString(),h=parseFloat(l.val),c=r.TYPE_ADD,f=null!=l.calc?l.calc.toString():"add";if((c="add"===f?r.TYPE_ADD:"mult"===f?r.TYPE_MULT:"set"===f?r.TYPE_SET:r.TYPE_ADD)==r.TYPE_ADD)h-=_=null==l.def?0:parseFloat(l.def);else if(c==r.TYPE_MULT){var _;0==(_=null==l.def?1:parseFloat(l.def))&&(_=1),h/=_}var p=new o;p.id=u,p.type=c,p.value=h,e.paramList.push(p)}return e},r.prototype.updateParamExe=function(t,e,i,n){for(var o=this.paramList.length-1;o>=0;--o){var s=this.paramList[o];s.type==r.TYPE_ADD?t.addToParamFloat(s.id,s.value,i):s.type==r.TYPE_MULT?t.multParamFloat(s.id,s.value,i):s.type==r.TYPE_SET&&t.setParamFloat(s.id,s.value,i)}},s.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},s.prototype.setInterval=function(t){this.blinkIntervalMsec=t},s.prototype.setEyeMotion=function(t,e,i){this.closingMotionMsec=t,this.closedMotionMsec=e,this.openingMotionMsec=i},s.prototype.updateParam=function(t){var e,i=UtSystem.getUserTimeMSec(),n=0;switch(this.eyeState){case g.STATE_CLOSING:(n=(i-this.stateStartTime)/this.closingMotionMsec)>=1&&(n=1,this.eyeState=g.STATE_CLOSED,this.stateStartTime=i),e=1-n;break;case g.STATE_CLOSED:(n=(i-this.stateStartTime)/this.closedMotionMsec)>=1&&(this.eyeState=g.STATE_OPENING,this.stateStartTime=i),e=0;break;case g.STATE_OPENING:(n=(i-this.stateStartTime)/this.openingMotionMsec)>=1&&(n=1,this.eyeState=g.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=n;break;case g.STATE_INTERVAL:this.nextBlinkTime<i&&(this.eyeState=g.STATE_CLOSING,this.stateStartTime=i),e=1;break;case g.STATE_FIRST:default:this.eyeState=g.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),t.setParamFloat(this.eyeID_L,e),t.setParamFloat(this.eyeID_R,e)};var g=function(){};g.STATE_FIRST="STATE_FIRST",g.STATE_INTERVAL="STATE_INTERVAL",g.STATE_CLOSING="STATE_CLOSING",g.STATE_CLOSED="STATE_CLOSED",g.STATE_OPENING="STATE_OPENING",a.mul=function(t,e,i){var n,r,o,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<4;n++)for(r=0;r<4;r++)for(o=0;o<4;o++)s[n+4*r]+=t[n+4*o]*e[o+4*r];for(n=0;n<16;n++)i[n]=s[n]},a.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},a.prototype.getArray=function(){return this.tr},a.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},a.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},a.prototype.getScaleX=function(){return this.tr[0]},a.prototype.getScaleY=function(){return this.tr[5]},a.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},a.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},a.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},a.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},a.prototype.multTranslate=function(t,e){var i=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];a.mul(i,this.tr,this.tr)},a.prototype.translate=function(t,e){this.tr[12]=t,this.tr[13]=e},a.prototype.translateX=function(t){this.tr[12]=t},a.prototype.translateY=function(t){this.tr[13]=t},a.prototype.multScale=function(t,e){var i=[t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1];a.mul(i,this.tr,this.tr)},a.prototype.scale=function(t,e){this.tr[0]=t,this.tr[5]=e},l.prototype=new a,l.prototype.setPosition=function(t,e){this.translate(t,e)},l.prototype.setCenterPosition=function(t,e){var i=this.width*this.getScaleX(),n=this.height*this.getScaleY();this.translate(t-i/2,e-n/2)},l.prototype.top=function(t){this.setY(t)},l.prototype.bottom=function(t){var e=this.height*this.getScaleY();this.translateY(t-e)},l.prototype.left=function(t){this.setX(t)},l.prototype.right=function(t){var e=this.width*this.getScaleX();this.translateX(t-e)},l.prototype.centerX=function(t){var e=this.width*this.getScaleX();this.translateX(t-e/2)},l.prototype.centerY=function(t){var e=this.height*this.getScaleY();this.translateY(t-e/2)},l.prototype.setX=function(t){this.translateX(t)},l.prototype.setY=function(t){this.translateY(t)},l.prototype.setHeight=function(t){var e=t/this.height,i=-e;this.scale(e,i)},l.prototype.setWidth=function(t){var e=t/this.width,i=-e;this.scale(e,i)},u.prototype=new MotionQueueManager,u.prototype.getCurrentPriority=function(){return this.currentPriority},u.prototype.getReservePriority=function(){return this.reservePriority},u.prototype.reserveMotion=function(t){return!(this.reservePriority>=t||this.currentPriority>=t||(this.reservePriority=t,0))},u.prototype.setReservePriority=function(t){this.reservePriority=t},u.prototype.updateParam=function(t){var e=MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),e},u.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},h.load=function(t){for(var e=new h,i=d.getPlatformManager().jsonParseFromBytes(t).physics_hair,n=i.length,r=0;r<n;r++){var o=i[r],s=new PhysicsHair,a=o.setup,l=parseFloat(a.length),u=parseFloat(a.regist),c=parseFloat(a.mass);s.setup(l,u,c);for(var f=o.src,_=f.length,p=0;p<_;p++){var m=f[p],g=m.id,v=PhysicsHair.Src.SRC_TO_X;"x"===(T=m.ptype)?v=PhysicsHair.Src.SRC_TO_X:"y"===T?v=PhysicsHair.Src.SRC_TO_Y:"angle"===T?v=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var y=parseFloat(m.scale),$=parseFloat(m.weight);s.addSrcParam(v,g,y,$)}var w=o.targets,b=w.length;for(p=0;p<b;p++){var T,x=w[p];g=x.id,v=PhysicsHair.Target.TARGET_FROM_ANGLE;"angle"===(T=x.ptype)?v=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===T?v=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");y=parseFloat(x.scale),$=parseFloat(x.weight);s.addTargetParam(v,g,y,$)}e.physicsList.push(s)}return e},h.prototype.updateParam=function(t){for(var e=UtSystem.getUserTimeMSec()-this.startTimeMSec,i=0;i<this.physicsList.length;i++)this.physicsList[i].update(t,e)},c.load=function(t){for(var e=new c,i=d.getPlatformManager().jsonParseFromBytes(t).parts_visible,n=i.length,r=0;r<n;r++){for(var o=i[r].group,s=o.length,a=new Array,l=0;l<s;l++){var u=o[l],h=new f(u.id);if(a[l]=h,null!=u.link){var _=u.link,p=_.length;h.link=new Array;for(var m=0;m<p;m++){var g=new f(_[m]);h.link.push(g)}}}e.partsGroups.push(a)}return e},c.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var e=UtSystem.getUserTimeMSec(),i=0==this.lastTime?0:(e-this.lastTime)/1e3;this.lastTime=e,i<0&&(i=0);for(var n=0;n<this.partsGroups.length;n++)this.normalizePartsOpacityGroup(t,this.partsGroups[n],i),this.copyOpacityOtherParts(t,this.partsGroups[n])}},c.prototype.initParam=function(t){if(null!=t)for(var e=0;e<this.partsGroups.length;e++)for(var i=this.partsGroups[e],n=0;n<i.length;n++){i[n].initIndex(t);var r=i[n].partsIndex,o=i[n].paramIndex;if(!(r<0)){var s=0!=t.getParamFloat(o);if(t.setPartsOpacity(r,s?1:0),t.setParamFloat(o,s?1:0),null!=i[n].link)for(var a=0;a<i[n].link.length;a++)i[n].link[a].initIndex(t)}}},c.prototype.normalizePartsOpacityGroup=function(t,e,i){for(var n=-1,r=1,o=0;o<e.length;o++){var s=e[o].partsIndex,a=e[o].paramIndex;if(!(s<0)&&0!=t.getParamFloat(a)){if(n>=0)break;n=o,r=t.getPartsOpacity(s),(r+=i/.5)>1&&(r=1)}}n<0&&(n=0,r=1);for(o=0;o<e.length;o++){if(!((s=e[o].partsIndex)<0))if(n==o)t.setPartsOpacity(s,r);else{var l,u=t.getPartsOpacity(s);(1-(l=r<.5?-.5*r/.5+1:.5*(1-r)/.5))*(1-r)>.15&&(l=1-.15/(1-r)),u>l&&(u=l),t.setPartsOpacity(s,u)}}},c.prototype.copyOpacityOtherParts=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(null!=n.link&&!(n.partsIndex<0))for(var r=t.getPartsOpacity(n.partsIndex),o=0;o<n.link.length;o++){var s=n.link[o];s.partsIndex<0||t.setPartsOpacity(s.partsIndex,r)}}},f.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},_.FRAME_RATE=30,_.prototype.setPoint=function(t,e){this.faceTargetX=t,this.faceTargetY=e},_.prototype.getX=function(){return this.faceX},_.prototype.getY=function(){return this.faceY},_.prototype.update=function(){var t=40/7.5/_.FRAME_RATE;if(0!=this.lastTimeSec){var e=UtSystem.getUserTimeMSec(),i=(e-this.lastTimeSec)*_.FRAME_RATE/1e3;this.lastTimeSec=e;var n=i*t/(.15*_.FRAME_RATE),r=this.faceTargetX-this.faceX,o=this.faceTargetY-this.faceY;if(!(Math.abs(r)<=this.EPSILON&&Math.abs(o)<=this.EPSILON)){var s=Math.sqrt(r*r+o*o),a=t*o/s,l=t*r/s-this.faceVX,u=a-this.faceVY,h=Math.sqrt(l*l+u*u);(h<-n||h>n)&&(l*=n/h,u*=n/h,h=n),this.faceVX+=l,this.faceVY+=u;var c=.5*(Math.sqrt(n*n+16*n*s-8*n*s)-n),f=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);f>c&&(this.faceVX*=c/f,this.faceVY*=c/f),this.faceX+=this.faceVX,this.faceY+=this.faceVY}}else this.lastTimeSec=UtSystem.getUserTimeMSec()},p.prototype=new a,p.prototype.getMaxScale=function(){return this.max},p.prototype.getMinScale=function(){return this.min},p.prototype.setMaxScale=function(t){this.max=t},p.prototype.setMinScale=function(t){this.min=t},p.prototype.isMaxScale=function(){return this.getScaleX()==this.max},p.prototype.isMinScale=function(){return this.getScaleX()==this.min},p.prototype.adjustTranslate=function(t,e){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+e)<this.screenTop&&(e=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+e)>this.screenBottom&&(e=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var i=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];a.mul(i,this.tr,this.tr)},p.prototype.adjustScale=function(t,e,i){var n=i*this.tr[0];n<this.min?this.tr[0]>0&&(i=this.min/this.tr[0]):n>this.max&&this.tr[0]>0&&(i=this.max/this.tr[0]);var r=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],o=[i,0,0,0,0,i,0,0,0,0,1,0,0,0,0,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1];a.mul(s,this.tr,this.tr),a.mul(o,this.tr,this.tr),a.mul(r,this.tr,this.tr)},p.prototype.setScreenRect=function(t,e,i,n){this.screenLeft=t,this.screenRight=e,this.screenTop=n,this.screenBottom=i},p.prototype.setMaxScreenRect=function(t,e,i,n){this.maxLeft=t,this.maxRight=e,this.maxTop=n,this.maxBottom=i},p.prototype.getScreenLeft=function(){return this.screenLeft},p.prototype.getScreenRight=function(){return this.screenRight},p.prototype.getScreenBottom=function(){return this.screenBottom},p.prototype.getScreenTop=function(){return this.screenTop},p.prototype.getMaxLeft=function(){return this.maxLeft},p.prototype.getMaxRight=function(){return this.maxRight},p.prototype.getMaxBottom=function(){return this.maxBottom},p.prototype.getMaxTop=function(){return this.maxTop},d.platformManager=null,d.getPlatformManager=function(){return d.platformManager},d.setPlatformManager=function(t){d.platformManager=t},t.exports={L2DTargetPoint:_,Live2DFramework:d,L2DViewMatrix:p,L2DPose:c,L2DPartsParam:f,L2DPhysics:h,L2DMotionManager:u,L2DModelMatrix:l,L2DMatrix44:a,EYE_STATE:g,L2DEyeBlink:s,L2DExpressionParam:o,L2DExpressionMotion:r,L2DBaseModel:n}},function(t,e,i){t.exports={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_NORMAL:2,PRIORITY_FORCE:3,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"}},function(t,e,i){function n(){}n.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.depth=0,n.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.tmp=new Array(16),n.reset=function(){this.depth=0},n.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},n.push=function(){var t=(this.depth,16*(this.depth+1));this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var e=0;e<16;e++)this.matrixStack[t+e]=this.currentMatrix[e];this.depth++},n.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,e=0;e<16;e++)this.currentMatrix[e]=this.matrixStack[t+e]},n.getMatrix=function(){return this.currentMatrix},n.multMatrix=function(t){var e,i,n;for(e=0;e<16;e++)this.tmp[e]=0;for(e=0;e<4;e++)for(i=0;i<4;i++)for(n=0;n<4;n++)this.tmp[e+4*i]+=this.currentMatrix[e+4*n]*t[n+4*i];for(e=0;e<16;e++)this.currentMatrix[e]=this.tmp[e]},t.exports=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=function(t){n=t},e.getContext=function(){return n};var n=void 0},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=b.width,i=b.height;T=new p.L2DTargetPoint;var n,r=i/e,o=m.default.VIEW_LOGICAL_LEFT,s=m.default.VIEW_LOGICAL_RIGHT,a=-r,l=r;((x=new p.L2DViewMatrix).setScreenRect(o,s,a,l),x.setMaxScreenRect(m.default.VIEW_LOGICAL_MAX_LEFT,m.default.VIEW_LOGICAL_MAX_RIGHT,m.default.VIEW_LOGICAL_MAX_BOTTOM,m.default.VIEW_LOGICAL_MAX_TOP),x.setMaxScale(m.default.VIEW_MAX_SCALE),x.setMinScale(m.default.VIEW_MIN_SCALE),(S=new p.L2DMatrix44).multScale(1,e/i),(P=new p.L2DMatrix44).multTranslate(-e/2,-i/2),P.multScale(2/e,-2/e),w=function(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=0;e<t.length;e++)try{var i=b.getContext(t[e],{premultipliedAlpha:!0});if(i)return i}catch(t){}return null}(),(0,v.setContext)(w),w)?(window.Live2D.setGL(w),w.clearColor(0,0,0,0),n=t,y.reloadFlg=!0,y.count++,y.changeModel(w,n),$||($=!0,function t(){(function(){g.default.reset(),g.default.loadIdentity(),T.update(),y.setDrag(T.getX(),T.getY()),w.clear(w.COLOR_BUFFER_BIT),g.default.multMatrix(S.getArray()),g.default.multMatrix(x.getArray()),g.default.push();for(var t=0;t<y.numModels();t++){var e=y.getModel(t);if(null==e)return;e.initialized&&!e.updating&&(e.update(),e.draw(w))}g.default.pop()})(),(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)(t,b)}())):console.error("Failed to create WebGL context.")}function o(t,e,i){function n(t,e){return 180*Math.acos((i={x:0,y:1},r=t,o=e,s=Math.sqrt(r*r+o*o),n={x:r/s,y:o/s},i.x*n.x+i.y*n.y))/Math.PI;var i,n,r,o,s}if(e.x<i.left+i.width&&e.y<i.top+i.height&&e.x>i.left&&e.y>i.top)return e;var r=t.x-e.x,o=t.y-e.y,s=n(r,o);e.x<t.x&&(s=360-s);var a=360-n(i.left-t.x,-1*(i.top-t.y)),l=360-n(i.left-t.x,-1*(i.top+i.height-t.y)),u=n(i.left+i.width-t.x,-1*(i.top-t.y)),h=n(i.left+i.width-t.x,-1*(i.top+i.height-t.y)),c=o/r,f={};if(s<u){var _=i.top-t.y,p=_/c;f={y:t.y+_,x:t.x+p}}else if(s<h){var d=i.left+i.width-t.x,m=d*c;f={y:t.y+m,x:t.x+d}}else if(s<l){var g=i.top+i.height-t.y,v=g/c;f={y:t.y+g,x:t.x+v}}else if(s<a){var y=t.x-i.left,$=y*c;f={y:t.y-$,x:t.x-y}}else{var w=i.top-t.y,b=w/c;f={y:t.y+w,x:t.x+b}}return f}function s(t){O=!0;var e=b.getBoundingClientRect(),i=f(t.clientX-e.left),n=_(t.clientY-e.top),r=o({x:e.left+e.width/2,y:e.top+e.height*E},{x:t.clientX,y:t.clientY},e),s=h(r.x-e.left),a=c(r.y-e.top);m.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+s+" y:"+a+")"),i,n,T.setPoint(s,a),y.tapEvent(s,a)}function a(){O&&(O=!1),T.setPoint(0,0)}function l(t){if("mousewheel"==t.type);else if("mousedown"==t.type){if("button"in t&&0!=t.button)return}else if("mousemove"==t.type)s(t);else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else"mouseleave"==t.type&&a()}function u(t){var e,i,n,r,l,u,p,d=t.touches[0];"touchstart"==t.type?1==t.touches.length&&s(d):"touchmove"==t.type?(e=d,i=b.getBoundingClientRect(),n=f(e.clientX-i.left),r=_(e.clientY-i.top),l=o({x:i.left+i.width/2,y:i.top+i.height*E},{x:e.clientX,y:e.clientY},i),u=h(l.x-i.left),p=c(l.y-i.top),m.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+e.clientX+" y:"+e.clientY+" ) view( x:"+u+" y:"+p+")"),O&&(n,r,T.setPoint(u,p))):"touchend"==t.type&&a()}function h(t){var e=P.transformX(t);return x.invertTransformX(e)}function c(t){var e=P.transformY(t);return x.invertTransformY(e)}function f(t){return P.transformX(t)}function _(t){return P.transformY(t)}i(9);var p=i(0),d=n(i(5)),m=n(i(1)),g=n(i(2)),v=i(3),y=(window.navigator.platform.toLowerCase(),new d.default),$=!1,w=null,b=null,T=null,x=null,S=null,P=null,O=!1,E=.5;window.loadlive2d=function(t,e,i){var n;E=void 0===i?.5:i,n=t,(b=document.getElementById(n)).addEventListener&&(window.addEventListener("click",l),window.addEventListener("mousedown",l),window.addEventListener("mousemove",l),window.addEventListener("mouseup",l),document.addEventListener("mouseleave",l),window.addEventListener("touchstart",u),window.addEventListener("touchend",u),window.addEventListener("touchmove",u)),r(e)}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),o.Live2DFramework.setPlatformManager(new s.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=i(0),s=n(i(7)),a=n(i(6)),l=n(i(1));r.prototype.createModel=function(){var t=new a.default;return this.models.push(t),t},r.prototype.changeModel=function(t,e){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,t),this.createModel(),this.models[0].load(t,e))},r.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},r.prototype.releaseModel=function(t,e){this.models.length<=t||(this.models[t].release(e),delete this.models[t],this.models.splice(t,1))},r.prototype.numModels=function(){return this.models.length},r.prototype.setDrag=function(t,e){for(var i=0;i<this.models.length;i++)this.models[i].setDrag(t,e)},r.prototype.maxScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Max scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(l.default.MOTION_GROUP_PINCH_IN,l.default.PRIORITY_NORMAL)},r.prototype.minScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Min scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(l.default.MOTION_GROUP_PINCH_OUT,l.default.PRIORITY_NORMAL)},r.prototype.tapEvent=function(t,e){l.default.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+e);for(var i=0;i<this.models.length;i++)this.models[i].hitTest(l.default.HIT_AREA_HEAD,t,e)?(l.default.DEBUG_LOG&&console.log("Tap face."),this.models[i].setRandomExpression()):this.models[i].hitTest(l.default.HIT_AREA_BODY,t,e)&&(l.default.DEBUG_LOG&&console.log("Tap body. models["+i+"]"),this.models[i].startRandomMotion(l.default.MOTION_GROUP_TAP_BODY,l.default.PRIORITY_NORMAL));return!0}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function r(){o.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=i(0),s=n(i(8)),a=n(i(1)),l=n(i(2));r.prototype=new o.L2DBaseModel,r.prototype.load=function(t,e,i){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=e.substring(0,e.lastIndexOf("/")+1),this.modelSetting=new s.default;var n=this;this.modelSetting.loadModelSetting(e,function(){var t=n.modelHomeDir+n.modelSetting.getModelFile();n.loadModelData(t,function(t){for(var e=0;e<n.modelSetting.getTextureNum();e++){var r=n.modelHomeDir+n.modelSetting.getTextureFile(e);n.loadTexture(e,r,function(){if(n.isTexLoaded){if(n.modelSetting.getExpressionNum()>0){n.expressions={};for(var t=0;t<n.modelSetting.getExpressionNum();t++){var e=n.modelSetting.getExpressionName(t),r=n.modelHomeDir+n.modelSetting.getExpressionFile(t);n.loadExpression(e,r)}}else n.expressionManager=null,n.expressions={};if(null==n.eyeBlink&&(n.eyeBlink=new o.L2DEyeBlink),null!=n.modelSetting.getPhysicsFile()?n.loadPhysics(n.modelHomeDir+n.modelSetting.getPhysicsFile()):n.physics=null,null!=n.modelSetting.getPoseFile()?n.loadPose(n.modelHomeDir+n.modelSetting.getPoseFile(),function(){n.pose.updateParam(n.live2DModel)}):n.pose=null,null!=n.modelSetting.getLayout()){var s=n.modelSetting.getLayout();null!=s.width&&n.modelMatrix.setWidth(s.width),null!=s.height&&n.modelMatrix.setHeight(s.height),null!=s.x&&n.modelMatrix.setX(s.x),null!=s.y&&n.modelMatrix.setY(s.y),null!=s.center_x&&n.modelMatrix.centerX(s.center_x),null!=s.center_y&&n.modelMatrix.centerY(s.center_y),null!=s.top&&n.modelMatrix.top(s.top),null!=s.bottom&&n.modelMatrix.bottom(s.bottom),null!=s.left&&n.modelMatrix.left(s.left),null!=s.right&&n.modelMatrix.right(s.right)}for(t=0;t<n.modelSetting.getInitParamNum();t++)n.live2DModel.setParamFloat(n.modelSetting.getInitParamID(t),n.modelSetting.getInitParamValue(t));for(t=0;t<n.modelSetting.getInitPartsVisibleNum();t++)n.live2DModel.setPartsOpacity(n.modelSetting.getInitPartsVisibleID(t),n.modelSetting.getInitPartsVisibleValue(t));n.live2DModel.saveParam(),n.preloadMotionGroup(a.default.MOTION_GROUP_IDLE),n.mainMotionManager.stopAllMotions(),n.setUpdating(!1),n.setInitialized(!0),"function"==typeof i&&i()}})}})})},r.prototype.release=function(t){var e=Live2DFramework.getPlatformManager();t.deleteTexture(e.texture)},r.prototype.preloadMotionGroup=function(t){for(var e=this,i=0;i<this.modelSetting.getMotionNum(t);i++){var n=this.modelSetting.getMotionFile(t,i);this.loadMotion(n,this.modelHomeDir+n,function(n){n.setFadeIn(e.modelSetting.getMotionFadeIn(t,i)),n.setFadeOut(e.modelSetting.getMotionFadeOut(t,i))})}},r.prototype.update=function(){if(null!=this.live2DModel){var t=2*((UtSystem.getUserTimeMSec()-this.startTimeMSec)/1e3)*Math.PI;this.mainMotionManager.isFinished()&&this.startRandomMotion(a.default.MOTION_GROUP_IDLE,a.default.PRIORITY_IDLE),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(t/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(t/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(t/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(t/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(t/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()}else a.default.DEBUG_LOG&&console.error("Failed to update.")},r.prototype.setRandomExpression=function(){var t=[];for(var e in this.expressions)t.push(e);var i=parseInt(Math.random()*t.length);this.setExpression(t[i])},r.prototype.startRandomMotion=function(t,e){var i=this.modelSetting.getMotionNum(t),n=parseInt(Math.random()*i);this.startMotion(t,n,e)},r.prototype.startMotion=function(t,e,i){var n=this.modelSetting.getMotionFile(t,e);if(null!=n&&""!=n){if(i==a.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(i);else if(!this.mainMotionManager.reserveMotion(i))return void(a.default.DEBUG_LOG&&console.log("Motion is running."));var r,o=this;null==this.motions[t]?this.loadMotion(null,this.modelHomeDir+n,function(n){r=n,o.setFadeInFadeOut(t,e,i,r)}):(r=this.motions[t],o.setFadeInFadeOut(t,e,i,r))}else a.default.DEBUG_LOG&&console.error("Failed to motion.")},r.prototype.setFadeInFadeOut=function(t,e,i,n){var r=this.modelSetting.getMotionFile(t,e);if(n.setFadeIn(this.modelSetting.getMotionFadeIn(t,e)),n.setFadeOut(this.modelSetting.getMotionFadeOut(t,e)),a.default.DEBUG_LOG&&console.log("Start motion : "+r),null==this.modelSetting.getMotionSound(t,e))this.mainMotionManager.startMotionPrio(n,i);else{var o=this.modelSetting.getMotionSound(t,e),s=document.createElement("audio");s.src=this.modelHomeDir+o,a.default.DEBUG_LOG&&console.log("Start sound : "+o),s.play(),this.mainMotionManager.startMotionPrio(n,i)}},r.prototype.setExpression=function(t){var e=this.expressions[t];a.default.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(e,!1)},r.prototype.draw=function(t){l.default.push(),l.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=l.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),l.default.pop()},r.prototype.hitTest=function(t,e,i){for(var n=this.modelSetting.getHitAreaNum(),r=0;r<n;r++)if(t==this.modelSetting.getHitAreaName(r)){var o=this.modelSetting.getHitAreaID(r);return this.hitTestSimple(o,e,i)}return!1}},function(t,e,i){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(3);n.prototype.loadBytes=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){switch(i.status){case 200:e(i.response);break;default:console.error("Failed to load ("+i.status+") : "+t)}},i.send(null)},n.prototype.loadString=function(t){this.loadBytes(t,function(t){return t})},n.prototype.loadLive2DModel=function(t,e){var i=null;this.loadBytes(t,function(t){i=Live2DModelWebGL.loadModel(t),e(i)})},n.prototype.loadTexture=function(t,e,i,n){var o=new Image;o.src=i,o.onload=function(){var i=(0,r.getContext)(),s=i.createTexture();if(!s)return console.error("Failed to generate gl texture name."),-1;0==t.isPremultipliedAlpha()&&i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,1),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,s),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.generateMipmap(i.TEXTURE_2D),t.setTexture(e,s),s=null,"function"==typeof n&&n()},o.onerror=function(){console.error("Failed to load image : "+i)}},n.prototype.jsonParseFromBytes=function(t){var e,i=new Uint8Array(t,0,3);return e=239==i[0]&&187==i[1]&&191==i[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(e)},n.prototype.log=function(t){}},function(t,e,i){function n(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(0);n.prototype.loadModelSetting=function(t,e){var i=this;r.Live2DFramework.getPlatformManager().loadBytes(t,function(t){var n=String.fromCharCode.apply(null,new Uint8Array(t));i.json=JSON.parse(n),e()})},n.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},n.prototype.getModelFile=function(){return this.json[this.MODEL]},n.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},n.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},n.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},n.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},n.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},n.prototype.getPoseFile=function(){return this.json[this.POSE]},n.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},n.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},n.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},n.prototype.getLayout=function(){return this.json[this.LAYOUT]},n.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},n.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},n.prototype.getMotionFile=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]?null:this.json[this.MOTION_GROUPS][t][e][this.FILE]},n.prototype.getMotionSound=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][e][this.SOUND]},n.prototype.getMotionFadeIn=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]},n.prototype.getMotionFadeOut=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]},n.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},n.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},n.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},n.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},n.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}},function(t,e,i){(function(t){!function(){function e(){wt||(this._$MT=null,this._$5S=null,this._$NP=0,e._$42++,this._$5S=new N(this))}function i(t){if(!wt){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new v,nt.glContext.length>nt.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new A,this.tmpMatrix2=new A,this.tmpMatrixForMask=new A,this.tmpMatrixForDraw=new A,this.CHANNEL_COLORS=new Array;var e=new T;(e=new T).r=0,e.g=0,e.b=0,e.a=1,this.CHANNEL_COLORS.push(e),(e=new T).r=1,e.g=0,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new T).r=0,e.g=1,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new T).r=0,e.g=0,e.b=1,e.a=0,this.CHANNEL_COLORS.push(e);for(var i=0;i<this.CHANNEL_COLORS.length;i++)this.dp_webgl.setChannelFlagAsColor(i,this.CHANNEL_COLORS[i])}}function n(t,e,i){this.clipIDList=new Array,this.clipIDList=i,this.clippingMaskDrawIndexList=new Array;for(var n=0;n<i.length;n++)this.clippingMaskDrawIndexList.push(e.getDrawDataIndex(i[n]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new v,this.allClippedDrawRect=new v,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function r(){wt||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function o(){}function s(){wt||(this.x=null,this.y=null,this.width=null,this.height=null)}function a(t){wt||K.prototype.constructor.call(this,t)}function l(t){wt||K.prototype.constructor.call(this,t)}function u(){wt||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,u._$42++)}function h(){wt||(this.p1=new c,this.p2=new c,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function c(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function f(t,e,i){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=i}function _(t,e,i,n){f.prototype.constructor.call(this,e,i,n),this._$tL=null,this._$tL=t}function p(t,e,i){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=i}function d(t,e,i,n){p.prototype.constructor.call(this,e,i,n),this._$YP=null,this._$YP=t}function g(){wt||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function v(){wt||(this.x=null,this.y=null,this.width=null,this.height=null)}function y(){}function $(){wt||(this.x=null,this.y=null)}function w(){wt||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function b(){wt||(this._$Eb=b._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=b.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function T(){wt||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=nt.L2D_COLOR_BLEND_MODE_MULT)}function x(){wt||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function S(){}function P(){wt||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=P._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function O(){}function E(){wt||(this._$Ob=null)}function A(){this.m=new Float32Array(16),this.identity()}function C(t){wt||K.prototype.constructor.call(this,t)}function L(){wt||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function I(){wt||(r.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=I._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function M(){this._$P=new Float32Array(100),this.size=0}function R(){this._$4P=null,this._$I0=null,this._$RP=null}function D(){}function k(){}function N(t){wt||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(N._$is),this._$_2=new Float32Array(N._$is),this._$vr=new Float32Array(N._$is),this._$Rr=new Float32Array(N._$is),this._$Or=new Float32Array(N._$is),this._$fs=new Float32Array(N._$is),this._$Js=new Array(N._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(D._$Qb),this._$ZP=new Float32Array(2*D._$1r),this._$Ri=t,this._$b0=N._$HP++,this.clipManager=null,this.dp_webgl=null)}function F(){}function U(){wt||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=Tt.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function B(){wt||(b.prototype.constructor.call(this),this._$sb=new Int32Array(B._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==B._$NT&&(B._$NT=B._$9r(256),B._$vS=B._$9r(256),B._$no=B._$vb(256)))}function j(){wt||(x.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function G(t){it.prototype.constructor.call(this,t),this._$8r=x._$ur,this._$Yr=null,this._$Wr=null}function z(){wt||(w.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function q(){wt||(this._$NL=null,this._$3S=null,this._$aS=null,q._$42++)}function Y(){wt||(e.prototype.constructor.call(this),this._$zo=new B)}function H(){wt||(r.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=H._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function V(t,e){return String.fromCharCode(t.getUint8(e))}function M(){this._$P=new Float32Array(100),this.size=0}function R(){this._$4P=null,this._$I0=null,this._$RP=null}function X(){wt||(x.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function W(t){it.prototype.constructor.call(this,t),this._$8r=x._$ur,this._$Cr=null,this._$hr=null}function Q(){wt||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,Q._$42++)}function J(t){this._$VS=null,this._$e0=null,this._$e0=t}function K(t){wt||(this.id=t)}function Z(){wt||(this._$4S=null)}function tt(t,e){this.canvas=t,this.context=e,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function et(){wt||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function it(t){wt||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function nt(){}function rt(){}function ot(t){wt||(this._$ib=t)}function st(){wt||(z.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=st._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=st._$42++)}function at(t){yt.prototype.constructor.call(this,t),this._$8r=z._$ur,this._$Cr=null,this._$hr=null}function lt(){wt||(this.x=null,this.y=null)}function ut(t){wt||(e.prototype.constructor.call(this),this.drawParamWebGL=new pt(t),this.drawParamWebGL.setGL(nt.getGL(t)))}function ht(){wt||(this.motions=null,this._$eb=!1,this.motions=new Array)}function ct(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=ct._$Gs++}function ft(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function _t(t){wt||K.prototype.constructor.call(this,t)}function pt(t){wt||(b.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function dt(t,e,i){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),e}function mt(t,e,i){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.DYNAMIC_DRAW),e}function gt(t){wt||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}function vt(){}function yt(t){wt||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function $t(){}var wt=!0;e._$0s=1,e._$4s=2,e._$42=0,e._$62=function(t,i){try{if(i instanceof ArrayBuffer&&(i=new DataView(i)),!(i instanceof DataView))throw new ot("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var n,r=new gt(i),s=r._$ST(),a=r._$ST(),l=r._$ST();if(109!=s||111!=a||99!=l)throw new ot("_$gi _$C _$li , _$Q0 _$P0.");if(n=r._$ST(),r._$gr(n),n>k._$T7)throw t._$NP|=e._$4s,new ot("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+k._$T7+" < _$f0 : "+n+" )@_$SS#loadModel()\n");var u=r._$nP();if(n>=k._$s7){var h=r._$9T(),c=r._$9T();if(-30584!=h||-30584!=c)throw t._$NP|=e._$0s,new ot("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(u);var f=t.getModelContext();f.setDrawParam(t.getDrawParam()),f.init()}catch(t){o._$Rb(t)}},e.prototype._$KS=function(t){this._$MT=t},e.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new u,this._$MT._$zP()),this._$MT},e.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},e.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},e.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(l.getID(t))),this._$5S.getParamFloat(t)},e.prototype.setParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(l.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-i)+e*i)},e.prototype.addToParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(l.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+e*i)},e.prototype.multParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(l.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(e-1)*i))},e.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(l.getID(t))},e.prototype.loadParam=function(){this._$5S.loadParam()},e.prototype.saveParam=function(){this._$5S.saveParam()},e.prototype.init=function(){this._$5S.init()},e.prototype.update=function(){this._$5S.update()},e.prototype._$Rs=function(){return o._$li("_$60 _$PT _$Rs()"),-1},e.prototype._$Ds=function(t){o._$li("_$60 _$PT _$SS#_$Ds() \n")},e.prototype._$K2=function(){},e.prototype.draw=function(){},e.prototype.getModelContext=function(){return this._$5S},e.prototype._$s2=function(){return this._$NP},e.prototype._$P7=function(t,e,i,n){var r=-1,o=0,s=this;if(0!=i)if(1==t.length){var a=t[0],l=0!=s.getParamFloat(a),u=e[0],h=s.getPartsOpacity(u),c=i/n;l?(h+=c)>1&&(h=1):(h-=c)<0&&(h=0),s.setPartsOpacity(u,h)}else{for(var f=0;f<t.length;f++){a=t[f];if(d=0!=s.getParamFloat(a)){if(r>=0)break;r=f;u=e[f];o=s.getPartsOpacity(u),(o+=i/n)>1&&(o=1)}}r<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),r=0,o=1,s.loadParam(),s.setParamFloat(t[r],o),s.saveParam());for(f=0;f<t.length;f++){u=e[f];if(r==f)s.setPartsOpacity(u,o);else{var _,p=s.getPartsOpacity(u);(1-(_=o<.5?-.5*o/.5+1:.5*(1-o)/.5))*(1-o)>.15&&(_=1-.15/(1-o)),p>_&&(p=_),s.setPartsOpacity(u,p)}}}else for(f=0;f<t.length;f++){a=t[f],u=e[f];var d=0!=s.getParamFloat(a);s.setPartsOpacity(u,d?1:0)}},e.prototype.setPartsOpacity=function(t,e){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(a.getID(t))),this._$5S.setPartsOpacity(t,e)},e.prototype.getPartsDataIndex=function(t){return t instanceof a||(t=a.getID(t)),this._$5S.getPartsDataIndex(t)},e.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(a.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},e.prototype.getDrawParam=function(){},e.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(C.getID(t))},e.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},e.prototype.getTransformedPoints=function(t){var e=this._$5S._$C2(t);return e instanceof at?e.getTransformedPoints():null},e.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var e=this._$5S._$aS[t];return null!=e&&e.getType()==z._$wb&&e instanceof st?e.getIndexArray():null},i.CHANNEL_COUNT=4,i.RENDER_TEXTURE_USE_MIPMAP=!1,i.NOT_USED_FRAME=-100,i.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;t>=0;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},i.prototype.releaseShader=function(){for(var t=nt.frameBuffers.length,e=0;e<t;e++)this.gl.deleteFramebuffer(nt.frameBuffers[e].framebuffer);nt.frameBuffers=[],nt.glContext=[]},i.prototype.init=function(t,e,i){for(var r=0;r<e.length;r++){var o=e[r].getClipIDList();if(null!=o){var s=this.findSameClip(o);null==s&&(s=new n(this,t,o),this.clipContextList.push(s));var a=e[r].getDrawDataID(),l=t.getDrawDataIndex(a);s.addClippedDrawData(a,l),i[r].clipBufPre_clipContext=s}}},i.prototype.getMaskRenderTexture=function(){var t;return t=this.dp_webgl.createFramebuffer(),nt.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},i.prototype.setupClip=function(t,e){for(var i=0,n=0;n<this.clipContextList.length;n++){var r=this.clipContextList[n];this.calcClippedDrawTotalBounds(t,r),r.isUsing&&i++}if(i>0){var o=e.gl.getParameter(e.gl.FRAMEBUFFER_BINDING),s=new Array(4);s[0]=0,s[1]=0,s[2]=e.gl.canvas.width,s[3]=e.gl.canvas.height,e.gl.viewport(0,0,nt.clippingMaskBufferSize,nt.clippingMaskBufferSize),this.setupLayoutBounds(i),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,nt.frameBuffers[this.curFrameNo].framebuffer),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT);for(n=0;n<this.clipContextList.length;n++){var a=(r=this.clipContextList[n]).allClippedDrawRect,l=(r.layoutChannelNo,r.layoutBounds);this.tmpBoundsOnModel._$jL(a),this.tmpBoundsOnModel.expand(.05*a.width,.05*a.height);var u=l.width/this.tmpBoundsOnModel.width,h=l.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(u,h,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(u,h,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var c=this.tmpMatrixForMask.getArray(),f=0;f<16;f++)r.matrixForMask[f]=c[f];var _=this.tmpMatrixForDraw.getArray();for(f=0;f<16;f++)r.matrixForDraw[f]=_[f];for(var p=r.clippingMaskDrawIndexList.length,d=0;d<p;d++){var m=r.clippingMaskDrawIndexList[d],g=t.getDrawData(m),v=t._$C2(m);e.setClipBufPre_clipContextForMask(r),g.draw(e,t,v)}}e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,o),e.setClipBufPre_clipContextForMask(null),e.gl.viewport(s[0],s[1],s[2],s[3])}},i.prototype.getColorBuffer=function(){return this.colorBuffer},i.prototype.findSameClip=function(t){for(var e=0;e<this.clipContextList.length;e++){var i=this.clipContextList[e],n=i.clipIDList.length;if(n==t.length){for(var r=0,o=0;o<n;o++)for(var s=i.clipIDList[o],a=0;a<n;a++)if(t[a]==s){r++;break}if(r==n)return i}}return null},i.prototype.calcClippedDrawTotalBounds=function(t,e){for(var i=t._$Ri.getModelImpl().getCanvasWidth(),n=t._$Ri.getModelImpl().getCanvasHeight(),r=i>n?i:n,o=r,s=r,a=0,l=0,u=e.clippedDrawContextList.length,h=0;h<u;h++){var c=e.clippedDrawContextList[h].drawDataIndex,f=t._$C2(c);if(f._$yo()){for(var _=f.getTransformedPoints(),p=_.length,d=[],m=[],g=0,v=D._$i2;v<p;v+=D._$No)d[g]=_[v],m[g]=_[v+1],g++;var y=Math.min.apply(null,d),$=Math.min.apply(null,m),w=Math.max.apply(null,d),b=Math.max.apply(null,m);y<o&&(o=y),$<s&&(s=$),w>a&&(a=w),b>l&&(l=b)}}if(o==r)e.allClippedDrawRect.x=0,e.allClippedDrawRect.y=0,e.allClippedDrawRect.width=0,e.allClippedDrawRect.height=0,e.isUsing=!1;else{var T=a-o,x=l-s;e.allClippedDrawRect.x=o,e.allClippedDrawRect.y=s,e.allClippedDrawRect.width=T,e.allClippedDrawRect.height=x,e.isUsing=!0}},i.prototype.setupLayoutBounds=function(t){var e=t/i.CHANNEL_COUNT,n=t%i.CHANNEL_COUNT;e=~~e,n=~~n;for(var r=0,s=0;s<i.CHANNEL_COUNT;s++){var a=e+(s<n?1:0);if(0==a);else if(1==a){(c=this.clipContextList[r++]).layoutChannelNo=s,c.layoutBounds.x=0,c.layoutBounds.y=0,c.layoutBounds.width=1,c.layoutBounds.height=1}else if(2==a)for(var l=0;l<a;l++){var u=0;h=~~(h=l%2),(c=this.clipContextList[r++]).layoutChannelNo=s,c.layoutBounds.x=.5*h,c.layoutBounds.y=0,c.layoutBounds.width=.5,c.layoutBounds.height=1}else if(a<=4)for(l=0;l<a;l++){h=~~(h=l%2),u=~~(u=l/2),(c=this.clipContextList[r++]).layoutChannelNo=s,c.layoutBounds.x=.5*h,c.layoutBounds.y=.5*u,c.layoutBounds.width=.5,c.layoutBounds.height=.5}else if(a<=9)for(l=0;l<a;l++){var h,c;h=~~(h=l%3),u=~~(u=l/3),(c=this.clipContextList[r++]).layoutChannelNo=s,c.layoutBounds.x=h/3,c.layoutBounds.y=u/3,c.layoutBounds.width=1/3,c.layoutBounds.height=1/3}else o._$li("_$6 _$0P mask count : %d",a)}},n.prototype.addClippedDrawData=function(t,e){var i=new function(t,e){this._$gP=t,this.drawDataIndex=e}(t,e);this.clippedDrawContextList.push(i)},r._$JT=function(t,e,i){var n=t/e,r=i/e,o=1-(1-r)*(1-r),s=1-(1-r)*(1-r),a=1/3*(1-r)*o+(r*(2/3)+1/3*(1-r))*(1-o),l=(r+2/3*(1-r))*s+(r*(1/3)+2/3*(1-r))*(1-s);if(n<=0)return 0;if(n>=1)return 1;var u=n*n;return(1-3*l+3*a-0)*(n*u)+(3*l-6*a+0)*u+(3*a-0)*n+0},r.prototype._$a0=function(){},r.prototype.setFadeIn=function(t){this._$dP=t},r.prototype.setFadeOut=function(t){this._$eo=t},r.prototype._$pT=function(t){this._$V0=t},r.prototype.getFadeOut=function(){return this._$eo},r.prototype._$4T=function(){return this._$eo},r.prototype._$mT=function(){return this._$V0},r.prototype.getDurationMSec=function(){return-1},r.prototype.getLoopDurationMSec=function(){return-1},r.prototype.updateParam=function(t,e){if(e._$AT&&!e._$9L){var i=S.getUserTimeMSec();if(e._$z2<0){e._$z2=i,e._$bs=i;var n=this.getDurationMSec();e._$Do<0&&(e._$Do=n<=0?-1:e._$z2+n)}var r=this._$V0;0<=(r=r*(0==this._$dP?1:rt._$r2((i-e._$bs)/this._$dP))*(0==this._$eo||e._$Do<0?1:rt._$r2((e._$Do-i)/this._$eo)))&&r<=1||console.log("### assert!! ### "),this.updateParamExe(t,i,r,e),e._$Do>0&&e._$Do<i&&(e._$9L=!0)}},r.prototype.updateParamExe=function(t,e,i,n){},o._$8s=0,o._$fT=new Object,o.start=function(t){var e=o._$fT[t];null==e&&((e=new function(){this._$r=null,this._$0S=null})._$r=t,o._$fT[t]=e),e._$0S=S.getSystemTimeMSec()},o.dump=function(t){var e=o._$fT[t];if(null!=e){var i=S.getSystemTimeMSec()-e._$0S;return console.log(t+" : "+i+"ms"),i}return-1},o.end=function(t){var e=o._$fT[t];return null!=e?S.getSystemTimeMSec()-e._$0S:-1},o._$li=function(t,e){console.log("_$li : "+t+"\n",e)},o._$Ji=function(t,e){console.log(t,e)},o._$dL=function(t,e){console.log(t,e),console.log("\n")},o._$KL=function(t,e){for(var i=0;i<e;i++)i%16==0&&i>0?console.log("\n"):i%8==0&&i>0&&console.log("  "),console.log("%02X ",255&t[i]);console.log("\n")},o._$nr=function(t,e,i){console.log("%s\n",t);for(var n=e.length,r=0;r<n;++r)console.log("%5d",e[r]),console.log("%s\n",i),console.log(",");console.log("\n")},o._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},s.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},s.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},s.prototype._$EL=function(){return this.x+this.width},s.prototype._$5T=function(){return this.y+this.height},s.prototype._$jL=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},s.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},a.prototype=new K,a._$tP=new Object,a._$27=function(){a._$tP.clear()},a.getID=function(t){var e=a._$tP[t];return null==e&&(e=new a(t),a._$tP[t]=e),e},a.prototype._$3s=function(){return new a},l.prototype=new K,l._$tP=new Object,l._$27=function(){l._$tP.clear()},l.getID=function(t){var e=l._$tP[t];return null==e&&(e=new l(t),l._$tP[t]=e),e},l.prototype._$3s=function(){return new l},u._$42=0,u.prototype._$zP=function(){null==this._$vo&&(this._$vo=new Z),null==this._$F2&&(this._$F2=new Array)},u.prototype.getCanvasWidth=function(){return this._$ao},u.prototype.getCanvasHeight=function(){return this._$1S},u.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},u.prototype._$6S=function(t){this._$F2.push(t)},u.prototype._$Xr=function(){return this._$F2},u.prototype._$E2=function(){return this._$vo},h.prototype.setup=function(t,e,i){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=e,this.p1._$p=i,this.p2._$p=i,this.p2.y=t,this.setup())},h.prototype.getPhysicsPoint1=function(){return this.p1},h.prototype.getPhysicsPoint2=function(){return this.p2},h.prototype._$qr=function(){return this._$Db},h.prototype._$pr=function(t){this._$Db=t},h.prototype._$5r=function(){return this._$M2},h.prototype._$Cs=function(){return this._$9b},h.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},h.prototype.addSrcParam=function(t,e,i,n){var r=new _(t,e,i,n);this._$lL.push(r)},h.prototype.addTargetParam=function(t,e,i,n){var r=new d(t,e,i,n);this._$qP.push(r)},h.prototype.update=function(t,e){if(0==this._$iP)return this._$iP=this._$iT=e,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var i=(e-this._$iT)/1e3;if(0!=i){for(var n=this._$lL.length-1;n>=0;--n)this._$lL[n]._$oP(t,this);this._$oo(t,i),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/i,this._$ks=this._$M2}for(n=this._$qP.length-1;n>=0;--n)this._$qP[n]._$YS(t,this);this._$iT=e},h.prototype._$oo=function(t,e){e<.033&&(e=.033);var i=1/e;this.p1.vx=(this.p1.x-this.p1._$s0)*i,this.p1.vy=(this.p1.y-this.p1._$70)*i,this.p1.ax=(this.p1.vx-this.p1._$7L)*i,this.p1.ay=(this.p1.vy-this.p1._$HL)*i,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var n,r,o=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),s=Math.cos(o),a=Math.sin(o),l=9.8*this.p2._$p,u=this._$Db*vt._$bS,h=l*Math.cos(o-u);n=h*a,r=h*s;var c=-this.p1.fx*a*a,f=-this.p1.fy*a*s,_=-this.p2.vx*this._$L2,p=-this.p2.vy*this._$L2;this.p2.fx=n+c+_,this.p2.fy=r+f+p,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*e,this.p2.vy+=this.p2.ay*e,this.p2.x+=this.p2.vx*e,this.p2.y+=this.p2.vy*e;var d=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/d,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/d,this.p2.vx=(this.p2.x-this.p2._$s0)*i,this.p2.vy=(this.p2.y-this.p2._$70)*i,this.p2._$xT()},c.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},f.prototype._$oP=function(t,e){},_.prototype=new f,_.prototype._$oP=function(t,e){var i=this.scale*t.getParamFloat(this._$wL),n=e.getPhysicsPoint1();switch(this._$tL){default:case h.Src.SRC_TO_X:n.x=n.x+(i-n.x)*this._$V0;break;case h.Src.SRC_TO_Y:n.y=n.y+(i-n.y)*this._$V0;break;case h.Src.SRC_TO_G_ANGLE:var r=e._$qr();r+=(i-r)*this._$V0,e._$pr(r)}},p.prototype._$YS=function(t,e){},d.prototype=new p,d.prototype._$YS=function(t,e){switch(this._$YP){default:case h.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*e._$5r(),this._$V0);break;case h.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*e._$Cs(),this._$V0)}},h.Src=function(){},h.Src.SRC_TO_X="SRC_TO_X",h.Src.SRC_TO_Y="SRC_TO_Y",h.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",h.Target=function(){},h.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",h.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",g.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},g.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=k.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},g.prototype._$e=function(){};var bt=function(){};bt._$ni=function(t,e,i,n,r,o,s,a,l){var u=s*o-a*r;if(0==u)return null;var h,c=((t-i)*o-(e-n)*r)/u;return h=0!=r?(t-i-c*s)/r:(e-n-c*a)/o,isNaN(h)&&(h=(t-i-c*s)/r,isNaN(h)&&(h=(e-n-c*a)/o),isNaN(h)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+r),console.log("v1x != 0 ? "+(0!=r)))),null==l?new Array(h,c):(l[0]=h,l[1]=c,l)},v.prototype._$8P=function(){return this.x+.5*this.width},v.prototype._$6P=function(){return this.y+.5*this.height},v.prototype._$EL=function(){return this.x+this.width},v.prototype._$5T=function(){return this.y+this.height},v.prototype._$jL=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},v.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},v.prototype.contains=function(t,e){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},v.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},y._$Z2=function(t,e,i,n){var r=e._$Q2(t,i),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,r),r<=0)return n[o[0]];if(1==r)return(a=n[o[0]])+((l=n[o[1]])-a)*(y=s[0])|0;if(2==r){var a=n[o[0]],l=n[o[1]],u=n[o[2]],h=n[o[3]];return(b=a+(l-a)*(y=s[0])|0)+((u+(h-u)*y|0)-b)*($=s[1])|0}if(3==r){var c=n[o[0]],f=n[o[1]],_=n[o[2]],p=n[o[3]],d=n[o[4]],m=n[o[5]],g=n[o[6]],v=n[o[7]];return(b=(a=c+(f-c)*(y=s[0])|0)+((l=_+(p-_)*y|0)-a)*($=s[1])|0)+(((u=d+(m-d)*y|0)+((h=g+(v-g)*y|0)-u)*$|0)-b)*(w=s[2])|0}if(4==r){var y,$,w,b,T=n[o[0]],x=n[o[1]],S=n[o[2]],P=n[o[3]],O=n[o[4]],E=n[o[5]],A=n[o[6]],C=n[o[7]],L=n[o[8]],I=n[o[9]],M=n[o[10]],R=n[o[11]],D=n[o[12]],k=n[o[13]],N=n[o[14]],F=n[o[15]];return(b=(a=(c=T+(x-T)*(y=s[0])|0)+((f=S+(P-S)*y|0)-c)*($=s[1])|0)+((l=(_=O+(E-O)*y|0)+((p=A+(C-A)*y|0)-_)*$|0)-a)*(w=s[2])|0)+(((u=(d=L+(I-L)*y|0)+((m=M+(R-M)*y|0)-d)*$|0)+((h=(g=D+(k-D)*y|0)+((v=N+(F-N)*y|0)-g)*$|0)-u)*w|0)-b)*s[3]|0}for(var U=1<<r,B=new Float32Array(U),j=0;j<U;j++){for(var G=j,z=1,q=0;q<r;q++)z*=G%2==0?1-s[q]:s[q],G/=2;B[j]=z}for(var Y=new Float32Array(U),H=0;H<U;H++)Y[H]=n[o[H]];var V=0;for(H=0;H<U;H++)V+=B[H]*Y[H];return V+.5|0},y._$br=function(t,e,i,n){var r=e._$Q2(t,i),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,r),r<=0)return n[o[0]];if(1==r)return(a=n[o[0]])+((l=n[o[1]])-a)*(c=s[0]);if(2==r){var a=n[o[0]],l=n[o[1]],u=n[o[2]],h=n[o[3]],c=s[0];return(1-($=s[1]))*(a+(l-a)*c)+$*(u+(h-u)*c)}if(3==r){var f=n[o[0]],_=n[o[1]],p=n[o[2]],d=n[o[3]],m=n[o[4]],g=n[o[5]],v=n[o[6]],y=n[o[7]],$=(c=s[0],s[1]);return(1-(N=s[2]))*((1-$)*(f+(_-f)*c)+$*(p+(d-p)*c))+N*((1-$)*(m+(g-m)*c)+$*(v+(y-v)*c))}if(4==r){var w=n[o[0]],b=n[o[1]],T=n[o[2]],x=n[o[3]],S=n[o[4]],P=n[o[5]],O=n[o[6]],E=n[o[7]],A=n[o[8]],C=n[o[9]],L=n[o[10]],I=n[o[11]],M=n[o[12]],R=n[o[13]],D=n[o[14]],k=n[o[15]],N=(c=s[0],$=s[1],s[2]),F=s[3];return(1-F)*((1-N)*((1-$)*(w+(b-w)*c)+$*(T+(x-T)*c))+N*((1-$)*(S+(P-S)*c)+$*(O+(E-O)*c)))+F*((1-N)*((1-$)*(A+(C-A)*c)+$*(L+(I-L)*c))+N*((1-$)*(M+(R-M)*c)+$*(D+(k-D)*c)))}for(var U=1<<r,B=new Float32Array(U),j=0;j<U;j++){for(var G=j,z=1,q=0;q<r;q++)z*=G%2==0?1-s[q]:s[q],G/=2;B[j]=z}for(var Y=new Float32Array(U),H=0;H<U;H++)Y[H]=n[o[H]];var V=0;for(H=0;H<U;H++)V+=B[H]*Y[H];return V},y._$Vr=function(t,e,i,n,r,o,s,a){var l=e._$Q2(t,i),u=t._$vs(),h=t._$Tr();e._$zr(u,h,l);var c=2*n,f=s;if(l<=0){var _=r[u[0]];if(2==a&&0==s)S._$jT(_,0,o,0,c);else for(var p=0;p<c;)o[f]=_[p++],o[f+1]=_[p++],f+=a}else if(1==l){_=r[u[0]];var d=r[u[1]],m=1-(y=h[0]);for(p=0;p<c;)o[f]=_[p]*m+d[p]*y,++p,o[f+1]=_[p]*m+d[p]*y,++p,f+=a}else if(2==l){_=r[u[0]],d=r[u[1]];var g=r[u[2]],v=r[u[3]],y=h[0],$=(G=1-(M=h[1]))*(m=1-y),w=G*y,b=M*m,T=M*y;for(p=0;p<c;)o[f]=$*_[p]+w*d[p]+b*g[p]+T*v[p],++p,o[f+1]=$*_[p]+w*d[p]+b*g[p]+T*v[p],++p,f+=a}else if(3==l){var x=r[u[0]],P=r[u[1]],O=r[u[2]],E=r[u[3]],A=r[u[4]],C=r[u[5]],L=r[u[6]],I=r[u[7]],M=(y=h[0],h[1]),R=(z=1-(st=h[2]))*(G=1-M)*(m=1-y),D=z*G*y,k=z*M*m,N=z*M*y,F=st*G*m,U=st*G*y,B=st*M*m,j=st*M*y;for(p=0;p<c;)o[f]=R*x[p]+D*P[p]+k*O[p]+N*E[p]+F*A[p]+U*C[p]+B*L[p]+j*I[p],++p,o[f+1]=R*x[p]+D*P[p]+k*O[p]+N*E[p]+F*A[p]+U*C[p]+B*L[p]+j*I[p],++p,f+=a}else if(4==l){var G,z,q=r[u[0]],Y=r[u[1]],H=r[u[2]],V=r[u[3]],X=r[u[4]],W=r[u[5]],Q=r[u[6]],J=r[u[7]],K=r[u[8]],Z=r[u[9]],tt=r[u[10]],et=r[u[11]],it=r[u[12]],nt=r[u[13]],rt=r[u[14]],ot=r[u[15]],st=(y=h[0],M=h[1],h[2]),at=h[3],lt=1-at,ut=lt*(z=1-st)*(G=1-M)*(m=1-y),ht=lt*z*G*y,ct=lt*z*M*m,ft=lt*z*M*y,_t=lt*st*G*m,pt=lt*st*G*y,dt=lt*st*M*m,mt=lt*st*M*y,gt=at*z*G*m,vt=at*z*G*y,yt=at*z*M*m,$t=at*z*M*y,wt=at*st*G*m,bt=at*st*G*y,Tt=at*st*M*m,xt=at*st*M*y;for(p=0;p<c;)o[f]=ut*q[p]+ht*Y[p]+ct*H[p]+ft*V[p]+_t*X[p]+pt*W[p]+dt*Q[p]+mt*J[p]+gt*K[p]+vt*Z[p]+yt*tt[p]+$t*et[p]+wt*it[p]+bt*nt[p]+Tt*rt[p]+xt*ot[p],++p,o[f+1]=ut*q[p]+ht*Y[p]+ct*H[p]+ft*V[p]+_t*X[p]+pt*W[p]+dt*Q[p]+mt*J[p]+gt*K[p]+vt*Z[p]+yt*tt[p]+$t*et[p]+wt*it[p]+bt*nt[p]+Tt*rt[p]+xt*ot[p],++p,f+=a}else{for(var St=1<<l,Pt=new Float32Array(St),Ot=0;Ot<St;Ot++){for(var Et=Ot,At=1,Ct=0;Ct<l;Ct++)At*=Et%2==0?1-h[Ct]:h[Ct],Et/=2;Pt[Ot]=At}for(var Lt=new Float32Array(St),It=0;It<St;It++)Lt[It]=r[u[It]];for(p=0;p<c;){var Mt=0,Rt=0,Dt=p+1;for(It=0;It<St;It++)Mt+=Pt[It]*Lt[It][p],Rt+=Pt[It]*Lt[It][Dt];p+=2,o[f]=Mt,o[f+1]=Rt,f+=a}}},$.prototype._$HT=function(t,e){this.x=t,this.y=e},$.prototype._$HT=function(t){this.x=t.x,this.y=t.y},w._$ur=-2,w._$ES=500,w._$wb=2,w._$8S=3,w._$52=w._$ES,w._$R2=w._$ES,w._$or=function(){return w._$52},w._$Pr=function(){return w._$R2},w.prototype.convertClipIDForV2_11=function(t){var e=[];return null==t?null:0==t.length?null:/,/.test(t)?e=t.id.split(","):(e.push(t.id),e)},w.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=k._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},w.prototype.getClipIDList=function(){return this.clipIDList},w.prototype.init=function(t){},w.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=y._$Z2(t,this._$GS,e._$IS,this._$Lb),nt._$Zs);else if(e._$IS[0])return;e._$7s=y._$br(t,this._$GS,e._$IS,this._$mS)},w.prototype._$2b=function(t,e){},w.prototype.getDrawDataID=function(){return this._$gP},w.prototype._$j2=function(t){this._$gP=t},w.prototype.getOpacity=function(t,e){return e._$7s},w.prototype._$zS=function(t,e){return e._$Us},w.prototype._$MS=function(t){for(var e=t.length-1;e>=0;--e){var i=t[e];i<w._$52?w._$52=i:i>w._$R2&&(w._$R2=i)}},w.prototype.getTargetBaseDataID=function(){return this._$dr},w.prototype._$gs=function(t){this._$dr=t},w.prototype._$32=function(){return null!=this._$dr&&this._$dr!=_t._$2o()},w.prototype.preDraw=function(t,e,i){},w.prototype.draw=function(t,e,i){},w.prototype.getType=function(){},w.prototype._$B2=function(t,e,i){},b._$ps=32,b.CLIPPING_PROCESS_NONE=0,b.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,b.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,b.CLIPPING_PROCESS_DRAW=3,b.CLIPPING_PROCESS_CLEAR_ALPHA=4,b.prototype.setChannelFlagAsColor=function(t,e){this.CHANNEL_COLORS[t]=e},b.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},b.prototype._$ZT=function(){},b.prototype._$Uo=function(t,e,i,n,r,o,s){},b.prototype._$Rs=function(){return-1},b.prototype._$Ds=function(t){},b.prototype.setBaseColor=function(t,e,i,n){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),i<0?i=0:i>1&&(i=1),n<0?n=0:n>1&&(n=1),this._$lT=t,this._$C0=e,this._$tT=i,this._$WL=n},b.prototype._$WP=function(t){this.culling=t},b.prototype.setMatrix=function(t){for(var e=0;e<16;e++)this.matrix4x4[e]=t[e]},b.prototype._$IT=function(){return this.matrix4x4},b.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},b.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},b.prototype.setAnisotropy=function(t){this.anisotropy=t},b.prototype.getAnisotropy=function(){return this.anisotropy},b.prototype.getClippingProcess=function(){return this.clippingProcess},b.prototype.setClippingProcess=function(t){this.clippingProcess=t},b.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},b.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},b.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},b.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},x._$ur=-2,x._$c2=1,x._$_b=2,x.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},x.prototype.readV2_opacity=function(t){t.getFormatVersion()>=k.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},x.prototype.init=function(t){},x.prototype._$Nr=function(t,e){},x.prototype.interpolateOpacity=function(t,e,i,n){null==this._$mS?i.setInterpolatedOpacity(1):i.setInterpolatedOpacity(y._$br(t,e,n,this._$mS))},x.prototype._$2b=function(t,e){},x.prototype._$nb=function(t,e,i,n,r,o,s){},x.prototype.getType=function(){},x.prototype._$gs=function(t){this._$dr=t},x.prototype._$a2=function(t){this._$kP=t},x.prototype.getTargetBaseDataID=function(){return this._$dr},x.prototype.getBaseDataID=function(){return this._$kP},x.prototype._$32=function(){return null!=this._$dr&&this._$dr!=_t._$2o()},S._$W2=0,S._$CS=S._$W2,S._$Mo=function(){return!0},S._$XP=function(t){try{for(var e=getTimeMSec();getTimeMSec()-e<t;);}catch(t){t._$Rb()}},S.getUserTimeMSec=function(){return S._$CS==S._$W2?S.getSystemTimeMSec():S._$CS},S.setUserTimeMSec=function(t){S._$CS=t},S.updateUserTimeMSec=function(){return S._$CS=S.getSystemTimeMSec()},S.getTimeMSec=function(){return(new Date).getTime()},S.getSystemTimeMSec=function(){return(new Date).getTime()},S._$Q=function(t){},S._$jT=function(t,e,i,n,r){for(var o=0;o<r;o++)i[n+o]=t[e+o]},P._$ds=-2,P.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},P.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=P._$ds),this._$8o},P.prototype._$Pb=function(t,e){this._$8o=t,this._$2r=e},P.prototype.getParamID=function(){return this._$wL},P.prototype._$yP=function(t){this._$wL=t},P.prototype._$N2=function(){return this._$VP},P.prototype._$d2=function(){return this._$GP},P.prototype._$t2=function(t,e){this._$VP=t,this._$GP=e},P.prototype._$Lr=function(){return this._$O2},P.prototype._$wr=function(t){this._$O2=t},P.prototype._$SL=function(){return this._$ri},P.prototype._$AL=function(t){this._$ri=t},O.startsWith=function(t,e,i){var n=e+i.length;if(n>=t.length)return!1;for(var r=e;r<n;r++)if(O.getChar(t,r)!=i.charAt(r-e))return!1;return!0},O.getChar=function(t,e){return String.fromCharCode(t.getUint8(e))},O.createString=function(t,e,i){for(var n=new ArrayBuffer(2*i),r=new Uint16Array(n),o=0;o<i;o++)r[o]=t.getUint8(e+o);return String.fromCharCode.apply(null,r)},O._$LS=function(t,e,i,n){t instanceof ArrayBuffer&&(t=new DataView(t));var r=i,o=!1,s=!1,a=0,l=O.getChar(t,r);"-"==l&&(o=!0,r++);for(var u=!1;r<e;r++){switch(l=O.getChar(t,r)){case"0":a*=10;break;case"1":a=10*a+1;break;case"2":a=10*a+2;break;case"3":a=10*a+3;break;case"4":a=10*a+4;break;case"5":a=10*a+5;break;case"6":a=10*a+6;break;case"7":a=10*a+7;break;case"8":a=10*a+8;break;case"9":a=10*a+9;break;case".":s=!0,r++,u=!0;break;default:u=!0}if(u)break}if(s)for(var h=.1,c=!1;r<e;r++){switch(l=O.getChar(t,r)){case"0":break;case"1":a+=1*h;break;case"2":a+=2*h;break;case"3":a+=3*h;break;case"4":a+=4*h;break;case"5":a+=5*h;break;case"6":a+=6*h;break;case"7":a+=7*h;break;case"8":a+=8*h;break;case"9":a+=9*h;break;default:c=!0}if(h*=.1,c)break}return o&&(a=-a),n[0]=r,a},E.prototype._$zP=function(){this._$Ob=new Array},E.prototype._$F0=function(t){this._$Ob=t._$nP()},E.prototype._$Ur=function(t){if(t._$WS())return!0;for(var e=t._$v2(),i=this._$Ob.length-1;i>=0;--i){var n=this._$Ob[i].getParamIndex(e);if(n==P._$ds&&(n=t.getParamIndex(this._$Ob[i].getParamID())),t._$Xb(n))return!0}return!1},E.prototype._$Q2=function(t,e){for(var i,n,r=this._$Ob.length,o=t._$v2(),s=0,a=0;a<r;a++){var l=this._$Ob[a];if((i=l.getParamIndex(o))==P._$ds&&(i=t.getParamIndex(l.getParamID()),l._$Pb(i,o)),i<0)throw new Exception("err 23242 : "+l.getParamID());var u=i<0?0:t.getParamFloat(i);n=l._$N2();var h,c,f=l._$d2(),_=-1,p=0;if(n<1);else if(1==n)(h=f[0])-D._$J<u&&u<h+D._$J?(_=0,p=0):(_=0,e[0]=!0);else if(u<(h=f[0])-D._$J)_=0,e[0]=!0;else if(u<h+D._$J)_=0;else{for(var d=!1,m=1;m<n;++m){if(u<(c=f[m])+D._$J){c-D._$J<u?_=m:(_=m-1,p=(u-h)/(c-h),s++),d=!0;break}h=c}d||(_=n-1,p=0,e[0]=!0)}l._$wr(_),l._$AL(p)}return s},E.prototype._$zr=function(t,e,i){var n=1<<i;n+1>D._$Qb&&console.log("err 23245\n");for(var r=this._$Ob.length,o=1,s=1,a=0,l=0;l<n;++l)t[l]=0;for(var u=0;u<r;++u){var h=this._$Ob[u];if(0==h._$SL()){if((c=h._$Lr()*o)<0&&nt._$3T)throw new Exception("err 23246");for(l=0;l<n;++l)t[l]+=c}else{var c=o*h._$Lr(),f=o*(h._$Lr()+1);for(l=0;l<n;++l)t[l]+=(l/s|0)%2==0?c:f;e[a++]=h._$SL(),s*=2}o*=h._$N2()}t[n]=65535,e[a]=-1},E.prototype._$h2=function(t,e,i){for(var n=new Float32Array(e),r=0;r<e;++r)n[r]=i[r];var o=new P;o._$yP(t),o._$t2(e,n),this._$Ob.push(o)},E.prototype._$J2=function(t){for(var e=t,i=this._$Ob.length,n=0;n<i;++n){var r=this._$Ob[n],o=r._$N2(),s=e%r._$N2(),a=r._$d2()[s];console.log("%s[%d]=%7.2f / ",r.getParamID(),s,a),e/=o}console.log("\n")},E.prototype.getParamCount=function(){return this._$Ob.length},E.prototype._$zs=function(){return this._$Ob},A.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},A.prototype.getArray=function(){return this.m},A.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},A.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var e=0;e<16;e++)this.m[e]=t[e]},A.prototype.mult=function(t,e,i){return null==e?null:(this==e?this.mult_safe(this.m,t.m,e.m,i):this.mult_fast(this.m,t.m,e.m,i),e)},A.prototype.mult_safe=function(t,e,i,n){if(t==i){var r=new Array(16);this.mult_fast(t,e,r,n);for(var o=15;o>=0;--o)i[o]=r[o]}else this.mult_fast(t,e,i,n)},A.prototype.mult_fast=function(t,e,i,n){n?(i[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2],i[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6],i[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10],i[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],i[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2],i[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6],i[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10],i[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],i[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2],i[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6],i[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10],i[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],i[3]=i[7]=i[11]=0,i[15]=1):(i[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],i[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],i[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],i[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],i[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],i[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],i[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],i[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],i[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],i[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],i[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],i[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],i[3]=t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],i[7]=t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],i[11]=t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],i[15]=t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15])},A.prototype.translate=function(t,e,i){this.m[12]=this.m[0]*t+this.m[4]*e+this.m[8]*i+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*e+this.m[9]*i+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*e+this.m[10]*i+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*e+this.m[11]*i+this.m[15]},A.prototype.scale=function(t,e,i){this.m[0]*=t,this.m[4]*=e,this.m[8]*=i,this.m[1]*=t,this.m[5]*=e,this.m[9]*=i,this.m[2]*=t,this.m[6]*=e,this.m[10]*=i,this.m[3]*=t,this.m[7]*=e,this.m[11]*=i},A.prototype.rotateX=function(t){var e=vt.fcos(t),i=vt._$9(t),n=this.m[4];this.m[4]=n*e+this.m[8]*i,this.m[8]=n*-i+this.m[8]*e,n=this.m[5],this.m[5]=n*e+this.m[9]*i,this.m[9]=n*-i+this.m[9]*e,n=this.m[6],this.m[6]=n*e+this.m[10]*i,this.m[10]=n*-i+this.m[10]*e,n=this.m[7],this.m[7]=n*e+this.m[11]*i,this.m[11]=n*-i+this.m[11]*e},A.prototype.rotateY=function(t){var e=vt.fcos(t),i=vt._$9(t),n=this.m[0];this.m[0]=n*e+this.m[8]*-i,this.m[8]=n*i+this.m[8]*e,n=this.m[1],this.m[1]=n*e+this.m[9]*-i,this.m[9]=n*i+this.m[9]*e,n=m[2],this.m[2]=n*e+this.m[10]*-i,this.m[10]=n*i+this.m[10]*e,n=m[3],this.m[3]=n*e+this.m[11]*-i,this.m[11]=n*i+this.m[11]*e},A.prototype.rotateZ=function(t){var e=vt.fcos(t),i=vt._$9(t),n=this.m[0];this.m[0]=n*e+this.m[4]*i,this.m[4]=n*-i+this.m[4]*e,n=this.m[1],this.m[1]=n*e+this.m[5]*i,this.m[5]=n*-i+this.m[5]*e,n=this.m[2],this.m[2]=n*e+this.m[6]*i,this.m[6]=n*-i+this.m[6]*e,n=this.m[3],this.m[3]=n*e+this.m[7]*i,this.m[7]=n*-i+this.m[7]*e},C.prototype=new K,C._$tP=new Object,C._$27=function(){C._$tP.clear()},C.getID=function(t){var e=C._$tP[t];return null==e&&(e=new C(t),C._$tP[t]=e),e},C.prototype._$3s=function(){return new C},L._$kS=-1,L._$pS=0,L._$hb=1,L.STATE_IDENTITY=0,L._$gb=1,L._$fo=2,L._$go=4,L.prototype.transform=function(t,e,i){var n,r,o,s,a,l,u=0,h=0;switch(this._$hi){default:return;case L._$go|L._$fo|L._$gb:for(n=this._$7,r=this._$H,o=this._$k,s=this._$f,a=this._$g,l=this._$w;--i>=0;){var c=t[u++],f=t[u++];e[h++]=n*c+r*f+o,e[h++]=s*c+a*f+l}return;case L._$go|L._$fo:for(n=this._$7,r=this._$H,s=this._$f,a=this._$g;--i>=0;){c=t[u++],f=t[u++];e[h++]=n*c+r*f,e[h++]=s*c+a*f}return;case L._$go|L._$gb:for(r=this._$H,o=this._$k,s=this._$f,l=this._$w;--i>=0;){c=t[u++];e[h++]=r*t[u++]+o,e[h++]=s*c+l}return;case L._$go:for(r=this._$H,s=this._$f;--i>=0;){c=t[u++];e[h++]=r*t[u++],e[h++]=s*c}return;case L._$fo|L._$gb:for(n=this._$7,o=this._$k,a=this._$g,l=this._$w;--i>=0;)e[h++]=n*t[u++]+o,e[h++]=a*t[u++]+l;return;case L._$fo:for(n=this._$7,a=this._$g;--i>=0;)e[h++]=n*t[u++],e[h++]=a*t[u++];return;case L._$gb:for(o=this._$k,l=this._$w;--i>=0;)e[h++]=t[u++]+o,e[h++]=t[u++]+l;return;case L.STATE_IDENTITY:return void(t==e&&u==h||S._$jT(t,u,e,h,2*i))}},L.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=L.STATE_IDENTITY,this._$Z=L._$pS):(this._$hi=L._$gb,this._$Z=L._$hb):0==this._$k&&0==this._$w?(this._$hi=L._$fo,this._$Z=L._$kS):(this._$hi=L._$fo|L._$gb,this._$Z=L._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=L._$go,this._$Z=L._$kS):(this._$hi=L._$go|L._$gb,this._$Z=L._$kS):0==this._$k&&0==this._$w?(this._$hi=L._$go|L._$fo,this._$Z=L._$kS):(this._$hi=L._$go|L._$fo|L._$gb,this._$Z=L._$kS)},L.prototype._$RT=function(t){this._$IT(t);var e=t[0],i=t[2],n=t[1],r=t[3],o=Math.sqrt(e*e+n*n),s=e*r-i*n;0==o?nt._$so&&console.log("affine._$RT() / rt==0"):(t[0]=o,t[1]=s/o,t[2]=(n*r+e*i)/s,t[3]=Math.atan2(n,e))},L.prototype._$ho=function(t,e,i,n){var r=new Float32Array(6),o=new Float32Array(6);t._$RT(r),e._$RT(o);var s=new Float32Array(6);s[0]=r[0]+(o[0]-r[0])*i,s[1]=r[1]+(o[1]-r[1])*i,s[2]=r[2]+(o[2]-r[2])*i,s[3]=r[3]+(o[3]-r[3])*i,s[4]=r[4]+(o[4]-r[4])*i,s[5]=r[5]+(o[5]-r[5])*i,n._$CT(s)},L.prototype._$CT=function(t){var e=Math.cos(t[3]),i=Math.sin(t[3]);this._$7=t[0]*e,this._$f=t[0]*i,this._$H=t[1]*(t[2]*e-i),this._$g=t[1]*(t[2]*i+e),this._$k=t[4],this._$w=t[5],this.update()},L.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},I.prototype=new r,I._$cs="VISIBLE:",I._$ar="LAYOUT:",I._$Co=0,I._$D2=[],I._$1T=1,I.loadMotion=function(t){var e=new I,i=[0],n=t.length;e._$yT=0;for(var r=0;r<n;++r){var o=255&t[r];if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if("a"<=o&&o<="z"||"A"<=o&&o<="Z"||"_"==o){for(var s=r,a=-1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){a=r;break}if(a>=0){var l=new R;O.startsWith(t,s,I._$cs)?(l._$RP=R._$hs,l._$4P=new String(t,s,a-s)):O.startsWith(t,s,I._$ar)?(l._$4P=new String(t,s+7,a-s-7),O.startsWith(t,s+7,"ANCHOR_X")?l._$RP=R._$xs:O.startsWith(t,s+7,"ANCHOR_Y")?l._$RP=R._$us:O.startsWith(t,s+7,"SCALE_X")?l._$RP=R._$qs:O.startsWith(t,s+7,"SCALE_Y")?l._$RP=R._$Ys:O.startsWith(t,s+7,"X")?l._$RP=R._$ws:O.startsWith(t,s+7,"Y")&&(l._$RP=R._$Ns)):(l._$RP=R._$Fr,l._$4P=new String(t,s,a-s)),e.motions.push(l);var u=0;for(I._$D2.clear(),r=a+1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var h=O._$LS(t,n,r,i);if(i[0]>0){I._$D2.push(h),u++;var c=i[0];if(c<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=c}}l._$I0=I._$D2._$BL(),u>e._$yT&&(e._$yT=u)}}}else{for(s=r,a=-1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){a=r;break}var f=!1;if(a>=0)for(a==s+4&&"f"==t[s+1]&&"p"==t[s+2]&&"s"==t[s+3]&&(f=!0),r=a+1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){h=O._$LS(t,n,r,i);i[0]>0&&f&&5<h&&h<121&&(e._$D0=h),r=i[0]}for(;r<n&&"\n"!=t[r]&&"\r"!=t[r];++r);}else for(;r<n&&"\n"!=t[r]&&"\r"!=t[r];++r);}return e._$AS=1e3*e._$yT/e._$D0|0,e},I.prototype.getDurationMSec=function(){return this._$AS},I.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var i=0;i<e._$I0.length&&i<10;i++)console.log("%5.2f ,",e._$I0[i]);console.log("\n")}},I.prototype.updateParamExe=function(t,e,i,n){for(var r=(e-n._$z2)*this._$D0/1e3,o=0|r,s=r-o,a=0;a<this.motions.length;a++){var l=this.motions[a],u=l._$I0.length,h=l._$4P;if(l._$RP==R._$hs){var c=l._$I0[o>=u?u-1:o];t.setParamFloat(h,c)}else if(R._$ws<=l._$RP&&l._$RP<=R._$Ys);else{var f=t.getParamFloat(h),_=l._$I0[o>=u?u-1:o],p=f+(_+(l._$I0[o+1>=u?u-1:o+1]-_)*s-f)*i;t.setParamFloat(h,p)}}o>=this._$yT&&(this._$E?(n._$z2=e,this.loopFadeIn&&(n._$bs=e)):n._$9L=!0)},I.prototype._$r0=function(){return this._$E},I.prototype._$aL=function(t){this._$E=t},I.prototype.isLoopFadeIn=function(){return this.loopFadeIn},I.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},M.prototype.clear=function(){this.size=0},M.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);S._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},M.prototype._$BL=function(){var t=new Float32Array(this.size);return S._$jT(this._$P,0,t,0,this.size),t},R._$Fr=0,R._$hs=1,R._$ws=100,R._$Ns=101,R._$xs=102,R._$us=103,R._$qs=104,R._$Ys=105,D._$Ms=1,D._$Qs=2,D._$i2=0,D._$No=2,D._$do=D._$Ms,D._$Ls=!0,D._$1r=5,D._$Qb=65,D._$J=1e-4,D._$FT=.001,D._$Ss=3,k._$o7=6,k._$S7=7,k._$s7=8,k._$77=9,k.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,k.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,k._$T7=k.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,k._$Is=-2004318072,k._$h0=0,k._$4L=23,k._$7P=33,k._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",t)},k._$9o=function(t){if(t<40)return k._$uT(t),null;if(t<50)return k._$uT(t),null;if(t<60)return k._$uT(t),null;if(t<100)switch(t){case 65:return new X;case 66:return new E;case 67:return new P;case 68:return new j;case 69:return new g;case 70:return new st;default:return k._$uT(t),null}else if(t<150)switch(t){case 131:return new et;case 133:return new Q;case 136:return new u;case 137:return new Z;case 142:return new q}return k._$uT(t),null},N._$HP=0,N._$_0=!0,N._$V2=-1,N._$W0=-1,N._$jr=!1,N._$ZS=!0,N._$tr=-1e6,N._$lr=1e6,N._$is=32,N._$e=!1,N.prototype.getDrawDataIndex=function(t){for(var e=this._$aS.length-1;e>=0;--e)if(null!=this._$aS[e]&&this._$aS[e].getDrawDataID()==t)return e;return-1},N.prototype.getDrawData=function(t){if(t instanceof C){if(null==this._$Bo){this._$Bo=new Object;for(var e=this._$aS.length,i=0;i<e;i++){var n=this._$aS[i],r=n.getDrawDataID();null!=r&&(this._$Bo[r]=n)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},N.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},N.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var t=this._$Ri.getModelImpl(),e=t._$Xr(),n=e.length,r=new Array,o=new Array,s=0;s<n;++s){var a=e[s];this._$F2.push(a),this._$Hr.push(a.init(this));for(var l=a.getBaseData(),u=l.length,h=0;h<u;++h)r.push(l[h]);for(h=0;h<u;++h){var c=l[h].init(this);c._$l2(s),o.push(c)}var f=a.getDrawData(),_=f.length;for(h=0;h<_;++h){var p=f[h],d=p.init(this);d._$IP=s,this._$aS.push(p),this._$8b.push(d)}}for(var m=r.length,g=_t._$2o();;){var v=!1;for(s=0;s<m;++s){var y=r[s];if(null!=y){var $=y.getTargetBaseDataID();(null==$||$==g||this.getBaseDataIndex($)>=0)&&(this._$3S.push(y),this._$db.push(o[s]),r[s]=null,v=!0)}}if(!v)break}var w=t._$E2();if(null!=w){var b=w._$1s();if(null!=b){var T=b.length;for(s=0;s<T;++s){var x=b[s];null!=x&&this._$02(x.getParamID(),x.getDefaultValue(),x.getMinValue(),x.getMaxValue())}}}this.clipManager=new i(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},N.prototype.update=function(){N._$e&&o.start("_$zL");for(var t=this._$_2.length,e=0;e<t;e++)this._$_2[e]!=this._$vr[e]&&(this._$Js[e]=N._$ZS,this._$vr[e]=this._$_2[e]);var i=this._$3S.length,n=this._$aS.length,r=z._$or(),s=z._$Pr()-r+1;(null==this._$Ws||this._$Ws.length<s)&&(this._$Ws=new Int16Array(s),this._$Vs=new Int16Array(s));for(e=0;e<s;e++)this._$Ws[e]=N._$V2,this._$Vs[e]=N._$V2;(null==this._$Er||this._$Er.length<n)&&(this._$Er=new Int16Array(n));for(e=0;e<n;e++)this._$Er[e]=N._$W0;N._$e&&o.dump("_$zL"),N._$e&&o.start("_$UL");for(var a=null,l=0;l<i;++l){var u=this._$3S[l],h=this._$db[l];try{u._$Nr(this,h),u._$2b(this,h)}catch(t){null==a&&(a=t)}}null!=a&&N._$_0&&o._$Rb(a),N._$e&&o.dump("_$UL"),N._$e&&o.start("_$DL");for(var c=null,f=0;f<n;++f){var _=this._$aS[f],p=this._$8b[f];try{if(_._$Nr(this,p),p._$u2())continue;_._$2b(this,p);var d,m=Math.floor(_._$zS(this,p)-r);try{d=this._$Vs[m]}catch(t){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",t.toString(),_.getDrawDataID().toString()),m=Math.floor(_._$zS(this,p)-r);continue}d==N._$V2?this._$Ws[m]=f:this._$Er[d]=f,this._$Vs[m]=f}catch(t){null==c&&(c=t,nt._$sT(nt._$H7))}}null!=c&&N._$_0&&o._$Rb(c),N._$e&&o.dump("_$DL"),N._$e&&o.start("_$eL");for(e=this._$Js.length-1;e>=0;e--)this._$Js[e]=N._$jr;return this._$QT=!1,N._$e&&o.dump("_$eL"),!1},N.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},N.prototype.draw=function(t){if(null!=this._$Ws){var e=this._$Ws.length;t._$ZT();for(var i=0;i<e;++i){var n=this._$Ws[i];if(n!=N._$V2)for(;;){var r=this._$aS[n],s=this._$8b[n];if(s._$yo()){var a=s._$IP,l=this._$Hr[a];s._$VS=l.getPartsOpacity(),r.draw(t,this,s)}var u=this._$Er[n];if(u<=n||u==N._$W0)break;n=u}}}else o._$li("call _$Ri.update() before _$Ri.draw() ")},N.prototype.getParamIndex=function(t){for(var e=this._$pb.length-1;e>=0;--e)if(this._$pb[e]==t)return e;return this._$02(t,0,N._$tr,N._$lr)},N.prototype._$BS=function(t){return this.getBaseDataIndex(t)},N.prototype.getBaseDataIndex=function(t){for(var e=this._$3S.length-1;e>=0;--e)if(null!=this._$3S[e]&&this._$3S[e].getBaseDataID()==t)return e;return-1},N.prototype._$UT=function(t,e){var i=new Float32Array(e);return S._$jT(t,0,i,0,t.length),i},N.prototype._$02=function(t,e,i,n){if(this._$qo>=this._$pb.length){var r=this._$pb.length,o=new Array(2*r);S._$jT(this._$pb,0,o,0,r),this._$pb=o,this._$_2=this._$UT(this._$_2,2*r),this._$vr=this._$UT(this._$vr,2*r),this._$Rr=this._$UT(this._$Rr,2*r),this._$Or=this._$UT(this._$Or,2*r);var s=new Array;S._$jT(this._$Js,0,s,0,r),this._$Js=s}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=e,this._$vr[this._$qo]=e,this._$Rr[this._$qo]=i,this._$Or[this._$qo]=n,this._$Js[this._$qo]=N._$ZS,this._$qo++},N.prototype._$Zo=function(t,e){this._$3S[t]=e},N.prototype.setParamFloat=function(t,e){e<this._$Rr[t]&&(e=this._$Rr[t]),e>this._$Or[t]&&(e=this._$Or[t]),this._$_2[t]=e},N.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),S._$jT(this._$fs,0,this._$_2,0,t)},N.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),S._$jT(this._$_2,0,this._$fs,0,t)},N.prototype._$v2=function(){return this._$co},N.prototype._$WS=function(){return this._$QT},N.prototype._$Xb=function(t){return this._$Js[t]==N._$ZS},N.prototype._$vs=function(){return this._$Es},N.prototype._$Tr=function(){return this._$ZP},N.prototype.getBaseData=function(t){return this._$3S[t]},N.prototype.getParamFloat=function(t){return this._$_2[t]},N.prototype.getParamMax=function(t){return this._$Or[t]},N.prototype.getParamMin=function(t){return this._$Rr[t]},N.prototype.setPartsOpacity=function(t,e){this._$Hr[t].setPartsOpacity(e)},N.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},N.prototype.getPartsDataIndex=function(t){for(var e=this._$F2.length-1;e>=0;--e)if(null!=this._$F2[e]&&this._$F2[e]._$p2()==t)return e;return-1},N.prototype._$q2=function(t){return this._$db[t]},N.prototype._$C2=function(t){return this._$8b[t]},N.prototype._$Bb=function(t){return this._$Hr[t]},N.prototype._$5s=function(t,e){for(var i=this._$Ws.length,n=t,r=0;r<i;++r){var o=this._$Ws[r];if(o!=N._$V2)for(;;){var s=this._$8b[o];s._$yo()&&(s._$GT()._$B2(this,s,n),n+=e);var a=this._$Er[o];if(a<=o||a==N._$W0)break;o=a}}},N.prototype.setDrawParam=function(t){this.dp_webgl=t},N.prototype.getDrawParam=function(){return this.dp_webgl},F._$0T=function(t){return F._$0T(new _$5(t))},F._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var e,i=t.length(),n=new Int8Array(i),r=new _$Xs(new _$kb(t),8192),o=0;(e=r.read(n,o,i-o))>0;)o+=e;return n},F._$C=function(t){var e=null,i=null;try{e=t instanceof Array?t:new _$Xs(t,8192),i=new _$js;for(var n,r=new Int8Array(1e3);(n=e.read(r))>0;)i.write(r,0,n);return i._$TS()}finally{null!=t&&t.close(),null!=i&&(i.flush(),i.close())}},U.prototype._$T2=function(){return S.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},U.prototype._$uo=function(t){this._$Br=t},U.prototype._$QS=function(t,e,i){this._$Dr=t,this._$Cb=e,this._$mr=i},U.prototype._$7T=function(t){var e,i=S.getUserTimeMSec(),n=0;switch(this._$_L){case STATE_CLOSING:(n=(i-this._$bb)/this._$Dr)>=1&&(n=1,this._$_L=Tt.STATE_CLOSED,this._$bb=i),e=1-n;break;case STATE_CLOSED:(n=(i-this._$bb)/this._$Cb)>=1&&(this._$_L=Tt.STATE_OPENING,this._$bb=i),e=0;break;case STATE_OPENING:(n=(i-this._$bb)/this._$mr)>=1&&(n=1,this._$_L=Tt.STATE_INTERVAL,this._$12=this._$T2()),e=n;break;case STATE_INTERVAL:this._$12<i&&(this._$_L=Tt.STATE_CLOSING,this._$bb=i),e=1;break;case STATE_FIRST:default:this._$_L=Tt.STATE_INTERVAL,this._$12=this._$T2(),e=1}this._$jo||(e=-e),t.setParamFloat(this._$iL,e),t.setParamFloat(this._$0L,e)};var Tt=function(){};Tt.STATE_FIRST="STATE_FIRST",Tt.STATE_INTERVAL="STATE_INTERVAL",Tt.STATE_CLOSING="STATE_CLOSING",Tt.STATE_CLOSED="STATE_CLOSED",Tt.STATE_OPENING="STATE_OPENING",B.prototype=new b,B._$As=32,B._$Gr=!1,B._$NT=null,B._$vS=null,B._$no=null,B._$9r=function(t){return new Float32Array(t)},B._$vb=function(t){return new Int16Array(t)},B._$cr=function(t,e){return null==t||t._$yL()<e.length?((t=B._$9r(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},B._$mb=function(t,e){return null==t||t._$yL()<e.length?((t=B._$vb(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},B._$Hs=function(){return B._$Gr},B._$as=function(t){B._$Gr=t},B.prototype.setGL=function(t){this.gl=t},B.prototype.setTransform=function(t){this.transform=t},B.prototype._$ZT=function(){},B.prototype._$Uo=function(t,e,i,n,r,o,s,a){if(!(o<.01)){var l=this._$U2[t],u=o>.9?nt.EXPAND_W:0;this.gl.drawElements(l,i,n,r,o,u,this.transform,a)}},B.prototype._$Rs=function(){throw new Error("_$Rs")},B.prototype._$Ds=function(t){throw new Error("_$Ds")},B.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++)0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)},B.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=e},B.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=e},B.prototype._$nS=function(t){var e=Math.max(2*this._$sb.length,t+1+10),i=new Int32Array(e);S._$jT(this._$sb,0,i,0,this._$sb.length),this._$sb=i;var n=new Array;S._$jT(this._$U2,0,n,0,this._$U2.length),this._$U2=n},j.prototype=new x,j._$Xo=new Float32Array(2),j._$io=new Float32Array(2),j._$0o=new Float32Array(2),j._$Lo=new Float32Array(2),j._$To=new Float32Array(2),j._$Po=new Float32Array(2),j._$gT=new Array,j.prototype._$zP=function(){this._$GS=new E,this._$GS._$zP(),this._$Y0=new Array},j.prototype.getType=function(){return x._$c2},j.prototype._$F0=function(t){x.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),x.prototype.readV2_opacity.call(this,t)},j.prototype.init=function(t){var e=new G(this);return e._$Yr=new g,this._$32()&&(e._$Wr=new g),e},j.prototype._$Nr=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var i=e;if(this._$GS._$Ur(t)){var n=j._$gT;n[0]=!1;var r=this._$GS._$Q2(t,n);e._$Ib(n[0]),this.interpolateOpacity(t,this._$GS,e,n);var o=t._$vs(),s=t._$Tr();if(this._$GS._$zr(o,s,r),r<=0){var a=this._$Y0[o[0]];i._$Yr.init(a)}else if(1==r){a=this._$Y0[o[0]];var l=this._$Y0[o[1]],u=s[0];i._$Yr._$fL=a._$fL+(l._$fL-a._$fL)*u,i._$Yr._$gL=a._$gL+(l._$gL-a._$gL)*u,i._$Yr._$B0=a._$B0+(l._$B0-a._$B0)*u,i._$Yr._$z0=a._$z0+(l._$z0-a._$z0)*u,i._$Yr._$qT=a._$qT+(l._$qT-a._$qT)*u}else if(2==r){a=this._$Y0[o[0]],l=this._$Y0[o[1]];var h=this._$Y0[o[2]],c=this._$Y0[o[3]],f=(u=s[0],s[1]),_=a._$fL+(l._$fL-a._$fL)*u,p=h._$fL+(c._$fL-h._$fL)*u;i._$Yr._$fL=_+(p-_)*f,_=a._$gL+(l._$gL-a._$gL)*u,p=h._$gL+(c._$gL-h._$gL)*u,i._$Yr._$gL=_+(p-_)*f,_=a._$B0+(l._$B0-a._$B0)*u,p=h._$B0+(c._$B0-h._$B0)*u,i._$Yr._$B0=_+(p-_)*f,_=a._$z0+(l._$z0-a._$z0)*u,p=h._$z0+(c._$z0-h._$z0)*u,i._$Yr._$z0=_+(p-_)*f,_=a._$qT+(l._$qT-a._$qT)*u,p=h._$qT+(c._$qT-h._$qT)*u,i._$Yr._$qT=_+(p-_)*f}else if(3==r){var d=this._$Y0[o[0]],m=this._$Y0[o[1]],g=this._$Y0[o[2]],v=this._$Y0[o[3]],y=this._$Y0[o[4]],$=this._$Y0[o[5]],w=this._$Y0[o[6]],b=this._$Y0[o[7]],T=(u=s[0],f=s[1],s[2]),x=(_=d._$fL+(m._$fL-d._$fL)*u,p=g._$fL+(v._$fL-g._$fL)*u,y._$fL+($._$fL-y._$fL)*u),S=w._$fL+(b._$fL-w._$fL)*u;i._$Yr._$fL=(1-T)*(_+(p-_)*f)+T*(x+(S-x)*f),_=d._$gL+(m._$gL-d._$gL)*u,p=g._$gL+(v._$gL-g._$gL)*u,x=y._$gL+($._$gL-y._$gL)*u,S=w._$gL+(b._$gL-w._$gL)*u,i._$Yr._$gL=(1-T)*(_+(p-_)*f)+T*(x+(S-x)*f),_=d._$B0+(m._$B0-d._$B0)*u,p=g._$B0+(v._$B0-g._$B0)*u,x=y._$B0+($._$B0-y._$B0)*u,S=w._$B0+(b._$B0-w._$B0)*u,i._$Yr._$B0=(1-T)*(_+(p-_)*f)+T*(x+(S-x)*f),_=d._$z0+(m._$z0-d._$z0)*u,p=g._$z0+(v._$z0-g._$z0)*u,x=y._$z0+($._$z0-y._$z0)*u,S=w._$z0+(b._$z0-w._$z0)*u,i._$Yr._$z0=(1-T)*(_+(p-_)*f)+T*(x+(S-x)*f),_=d._$qT+(m._$qT-d._$qT)*u,p=g._$qT+(v._$qT-g._$qT)*u,x=y._$qT+($._$qT-y._$qT)*u,S=w._$qT+(b._$qT-w._$qT)*u,i._$Yr._$qT=(1-T)*(_+(p-_)*f)+T*(x+(S-x)*f)}else if(4==r){var P=this._$Y0[o[0]],O=this._$Y0[o[1]],E=this._$Y0[o[2]],A=this._$Y0[o[3]],C=this._$Y0[o[4]],L=this._$Y0[o[5]],I=this._$Y0[o[6]],M=this._$Y0[o[7]],R=this._$Y0[o[8]],D=this._$Y0[o[9]],k=this._$Y0[o[10]],N=this._$Y0[o[11]],F=this._$Y0[o[12]],U=this._$Y0[o[13]],B=this._$Y0[o[14]],G=this._$Y0[o[15]],z=(u=s[0],f=s[1],T=s[2],s[3]),q=(_=P._$fL+(O._$fL-P._$fL)*u,p=E._$fL+(A._$fL-E._$fL)*u,x=C._$fL+(L._$fL-C._$fL)*u,S=I._$fL+(M._$fL-I._$fL)*u,R._$fL+(D._$fL-R._$fL)*u),Y=k._$fL+(N._$fL-k._$fL)*u,H=F._$fL+(U._$fL-F._$fL)*u,V=B._$fL+(G._$fL-B._$fL)*u;i._$Yr._$fL=(1-z)*((1-T)*(_+(p-_)*f)+T*(x+(S-x)*f))+z*((1-T)*(q+(Y-q)*f)+T*(H+(V-H)*f)),_=P._$gL+(O._$gL-P._$gL)*u,p=E._$gL+(A._$gL-E._$gL)*u,x=C._$gL+(L._$gL-C._$gL)*u,S=I._$gL+(M._$gL-I._$gL)*u,q=R._$gL+(D._$gL-R._$gL)*u,Y=k._$gL+(N._$gL-k._$gL)*u,H=F._$gL+(U._$gL-F._$gL)*u,V=B._$gL+(G._$gL-B._$gL)*u,i._$Yr._$gL=(1-z)*((1-T)*(_+(p-_)*f)+T*(x+(S-x)*f))+z*((1-T)*(q+(Y-q)*f)+T*(H+(V-H)*f)),_=P._$B0+(O._$B0-P._$B0)*u,p=E._$B0+(A._$B0-E._$B0)*u,x=C._$B0+(L._$B0-C._$B0)*u,S=I._$B0+(M._$B0-I._$B0)*u,q=R._$B0+(D._$B0-R._$B0)*u,Y=k._$B0+(N._$B0-k._$B0)*u,H=F._$B0+(U._$B0-F._$B0)*u,V=B._$B0+(G._$B0-B._$B0)*u,i._$Yr._$B0=(1-z)*((1-T)*(_+(p-_)*f)+T*(x+(S-x)*f))+z*((1-T)*(q+(Y-q)*f)+T*(H+(V-H)*f)),_=P._$z0+(O._$z0-P._$z0)*u,p=E._$z0+(A._$z0-E._$z0)*u,x=C._$z0+(L._$z0-C._$z0)*u,S=I._$z0+(M._$z0-I._$z0)*u,q=R._$z0+(D._$z0-R._$z0)*u,Y=k._$z0+(N._$z0-k._$z0)*u,H=F._$z0+(U._$z0-F._$z0)*u,V=B._$z0+(G._$z0-B._$z0)*u,i._$Yr._$z0=(1-z)*((1-T)*(_+(p-_)*f)+T*(x+(S-x)*f))+z*((1-T)*(q+(Y-q)*f)+T*(H+(V-H)*f)),_=P._$qT+(O._$qT-P._$qT)*u,p=E._$qT+(A._$qT-E._$qT)*u,x=C._$qT+(L._$qT-C._$qT)*u,S=I._$qT+(M._$qT-I._$qT)*u,q=R._$qT+(D._$qT-R._$qT)*u,Y=k._$qT+(N._$qT-k._$qT)*u,H=F._$qT+(U._$qT-F._$qT)*u,V=B._$qT+(G._$qT-B._$qT)*u,i._$Yr._$qT=(1-z)*((1-T)*(_+(p-_)*f)+T*(x+(S-x)*f))+z*((1-T)*(q+(Y-q)*f)+T*(H+(V-H)*f))}else{for(var X=0|Math.pow(2,r),W=new Float32Array(X),Q=0;Q<X;Q++){for(var J=Q,K=1,Z=0;Z<r;Z++)K*=J%2==0?1-s[Z]:s[Z],J/=2;W[Q]=K}for(var tt=new Array,et=0;et<X;et++)tt[et]=this._$Y0[o[et]];var it=0,nt=0,rt=0,ot=0,st=0;for(et=0;et<X;et++)it+=W[et]*tt[et]._$fL,nt+=W[et]*tt[et]._$gL,rt+=W[et]*tt[et]._$B0,ot+=W[et]*tt[et]._$z0,st+=W[et]*tt[et]._$qT;i._$Yr._$fL=it,i._$Yr._$gL=nt,i._$Yr._$B0=rt,i._$Yr._$z0=ot,i._$Yr._$qT=st}a=this._$Y0[o[0]];i._$Yr.reflectX=a.reflectX,i._$Yr.reflectY=a.reflectY}},j.prototype._$2b=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var i=e;if(i._$hS(!0),this._$32()){var n=this.getTargetBaseDataID();if(i._$8r==x._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)nt._$so&&o._$li("_$L _$0P _$G :: %s",n),i._$hS(!1);else{var r=t.getBaseData(i._$8r);if(null!=r){var s=t._$q2(i._$8r),a=j._$Xo;a[0]=i._$Yr._$fL,a[1]=i._$Yr._$gL;var l=j._$io;l[0]=0,l[1]=-.1,s._$GT().getType()==x._$c2?l[1]=-10:l[1]=-.1;var u=j._$0o;this._$Jr(t,r,s,a,l,u);var h=vt._$92(l,u);r._$nb(t,s,a,a,1,0,2),i._$Wr._$fL=a[0],i._$Wr._$gL=a[1],i._$Wr._$B0=i._$Yr._$B0,i._$Wr._$z0=i._$Yr._$z0,i._$Wr._$qT=i._$Yr._$qT-h*vt._$NS;var c=s.getTotalScale();i.setTotalScale_notForClient(c*i._$Wr._$B0);var f=s.getTotalOpacity();i.setTotalOpacity(f*i.getInterpolatedOpacity()),i._$Wr.reflectX=i._$Yr.reflectX,i._$Wr.reflectY=i._$Yr.reflectY,i._$hS(s._$yo())}else i._$hS(!1)}}else i.setTotalScale_notForClient(i._$Yr._$B0),i.setTotalOpacity(i.getInterpolatedOpacity())},j.prototype._$nb=function(t,e,i,n,r,o,s){this!=e._$GT()&&console.log("### assert!! ### ");for(var a,l,u=e,h=null!=u._$Wr?u._$Wr:u._$Yr,c=Math.sin(vt._$bS*h._$qT),f=Math.cos(vt._$bS*h._$qT),_=u.getTotalScale(),p=h.reflectX?-1:1,d=h.reflectY?-1:1,m=f*_*p,g=-c*_*d,v=c*_*p,y=f*_*d,$=h._$fL,w=h._$gL,b=r*s,T=o;T<b;T+=s)a=i[T],l=i[T+1],n[T]=m*a+g*l+$,n[T+1]=v*a+y*l+w},j.prototype._$Jr=function(t,e,i,n,r,o){e!=i._$GT()&&console.log("### assert!! ### ");var s=j._$Lo;j._$Lo[0]=n[0],j._$Lo[1]=n[1],e._$nb(t,i,s,s,1,0,2);for(var a=j._$To,l=j._$Po,u=1,h=0;h<10;h++){if(l[0]=n[0]+u*r[0],l[1]=n[1]+u*r[1],e._$nb(t,i,l,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return o[0]=a[0],void(o[1]=a[1]);if(l[0]=n[0]-u*r[0],l[1]=n[1]-u*r[1],e._$nb(t,i,l,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return a[0]=-a[0],a[0]=-a[0],o[0]=a[0],void(o[1]=a[1]);u*=.1}nt._$so&&console.log("_$L0 to transform _$SP\n")},G.prototype=new it,z.prototype=new w,z._$ur=-2,z._$ES=500,z._$wb=2,z._$8S=3,z._$os=4,z._$52=z._$ES,z._$R2=z._$ES,z._$Sb=function(t){for(var e=t.length-1;e>=0;--e){var i=t[e];i<z._$52?z._$52=i:i>z._$R2&&(z._$R2=i)}},z._$or=function(){return z._$52},z._$Pr=function(){return z._$R2},z.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=k._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,z._$Sb(this._$Lb)},z.prototype.getClipIDList=function(){return this.clipIDList},z.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=y._$Z2(t,this._$GS,e._$IS,this._$Lb),nt._$Zs);else if(e._$IS[0])return;e._$7s=y._$br(t,this._$GS,e._$IS,this._$mS)},z.prototype._$2b=function(t){},z.prototype.getDrawDataID=function(){return this._$gP},z.prototype._$j2=function(t){this._$gP=t},z.prototype.getOpacity=function(t,e){return e._$7s},z.prototype._$zS=function(t,e){return e._$Us},z.prototype.getTargetBaseDataID=function(){return this._$dr},z.prototype._$gs=function(t){this._$dr=t},z.prototype._$32=function(){return null!=this._$dr&&this._$dr!=_t._$2o()},z.prototype.getType=function(){},q._$42=0,q.prototype._$1b=function(){return this._$3S},q.prototype.getDrawDataList=function(){return this._$aS},q.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},q.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},Y.prototype=new e,Y.loadModel=function(t){var i=new Y;return e._$62(i,t),i},Y.loadModel=function(t){var i=new Y;return e._$62(i,t),i},Y._$to=function(){return new Y},Y._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var i=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],n=Y.loadModel(e._$3b()),r=0;r<i.length;r++){var o=new _$5(i[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());n.setTexture(r,_$nL._$_o(t,o._$3b()))}return n},Y.prototype.setGL=function(t){this._$zo.setGL(t)},Y.prototype.setTransform=function(t){this._$zo.setTransform(t)},Y.prototype.draw=function(){this._$5S.draw(this._$zo)},Y.prototype._$K2=function(){this._$zo._$K2()},Y.prototype.setTexture=function(t,e){null==this._$zo&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},Y.prototype.setTexture=function(t,e){null==this._$zo&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},Y.prototype._$Rs=function(){return this._$zo._$Rs()},Y.prototype._$Ds=function(t){this._$zo._$Ds(t)},Y.prototype.getDrawParam=function(){return this._$zo},H.prototype=new r,H._$cs="VISIBLE:",H._$ar="LAYOUT:",H.MTN_PREFIX_FADEIN="FADEIN:",H.MTN_PREFIX_FADEOUT="FADEOUT:",H._$Co=0,H._$1T=1,H.loadMotion=function(t){var e=F._$C(t);return H.loadMotion(e)},H.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var e=new H,i=[0],n=t.byteLength;e._$yT=0;for(var r=0;r<n;++r){var o=V(t,r),s=o.charCodeAt(0);if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if(97<=s&&s<=122||65<=s&&s<=90||"_"==o){for(var a=r,l=-1;r<n&&"\r"!=(o=V(t,r))&&"\n"!=o;++r)if("="==o){l=r;break}if(l>=0){var u=new R;O.startsWith(t,a,H._$cs)?(u._$RP=R._$hs,u._$4P=O.createString(t,a,l-a)):O.startsWith(t,a,H._$ar)?(u._$4P=O.createString(t,a+7,l-a-7),O.startsWith(t,a+7,"ANCHOR_X")?u._$RP=R._$xs:O.startsWith(t,a+7,"ANCHOR_Y")?u._$RP=R._$us:O.startsWith(t,a+7,"SCALE_X")?u._$RP=R._$qs:O.startsWith(t,a+7,"SCALE_Y")?u._$RP=R._$Ys:O.startsWith(t,a+7,"X")?u._$RP=R._$ws:O.startsWith(t,a+7,"Y")&&(u._$RP=R._$Ns)):(u._$RP=R._$Fr,u._$4P=O.createString(t,a,l-a)),e.motions.push(u);var h=0,c=[];for(r=l+1;r<n&&"\r"!=(o=V(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var f=O._$LS(t,n,r,i);if(i[0]>0){c.push(f),h++;var _=i[0];if(_<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=_-1}}u._$I0=new Float32Array(c),h>e._$yT&&(e._$yT=h)}}}else{for(a=r,l=-1;r<n&&"\r"!=(o=V(t,r))&&"\n"!=o;++r)if("="==o){l=r;break}var p=!1;if(l>=0)for(l==a+4&&"f"==V(t,a+1)&&"p"==V(t,a+2)&&"s"==V(t,a+3)&&(p=!0),r=l+1;r<n&&"\r"!=(o=V(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){f=O._$LS(t,n,r,i);i[0]>0&&p&&5<f&&f<121&&(e._$D0=f),r=i[0]}for(;r<n&&"\n"!=V(t,r)&&"\r"!=V(t,r);++r);}else for(;r<n&&"\n"!=V(t,r)&&"\r"!=V(t,r);++r);}return e._$rr=1e3*e._$yT/e._$D0|0,e},H.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},H.prototype.getLoopDurationMSec=function(){return this._$rr},H.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var i=0;i<e._$I0.length&&i<10;i++)console.log("%5.2f ,",e._$I0[i]);console.log("\n")}},H.prototype.updateParamExe=function(t,e,i,n){for(var r=(e-n._$z2)*this._$D0/1e3,o=0|r,s=r-o,a=0;a<this.motions.length;a++){var l=this.motions[a],u=l._$I0.length,h=l._$4P;if(l._$RP==R._$hs){var c=l._$I0[o>=u?u-1:o];t.setParamFloat(h,c)}else if(R._$ws<=l._$RP&&l._$RP<=R._$Ys);else{var f=t.getParamIndex(h),_=t.getModelContext(),p=.4*(_.getParamMax(f)-_.getParamMin(f)),d=_.getParamFloat(f),m=l._$I0[o>=u?u-1:o],g=l._$I0[o+1>=u?u-1:o+1],v=d+((m<g&&g-m>p||m>g&&m-g>p?m:m+(g-m)*s)-d)*i;t.setParamFloat(h,v)}}o>=this._$yT&&(this._$E?(n._$z2=e,this.loopFadeIn&&(n._$bs=e)):n._$9L=!0),this._$eP=i},H.prototype._$r0=function(){return this._$E},H.prototype._$aL=function(t){this._$E=t},H.prototype._$S0=function(){return this._$D0},H.prototype._$U0=function(t){this._$D0=t},H.prototype.isLoopFadeIn=function(){return this.loopFadeIn},H.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},M.prototype.clear=function(){this.size=0},M.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);S._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},M.prototype._$BL=function(){var t=new Float32Array(this.size);return S._$jT(this._$P,0,t,0,this.size),t},R._$Fr=0,R._$hs=1,R._$ws=100,R._$Ns=101,R._$xs=102,R._$us=103,R._$qs=104,R._$Ys=105,X.prototype=new x,X._$gT=new Array,X.prototype._$zP=function(){this._$GS=new E,this._$GS._$zP()},X.prototype._$F0=function(t){x.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),x.prototype.readV2_opacity.call(this,t)},X.prototype.init=function(t){var e=new W(this),i=(this._$o+1)*(this._$A+1);return null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(2*i),null!=e._$hr&&(e._$hr=null),this._$32()?e._$hr=new Float32Array(2*i):e._$hr=null,e},X.prototype._$Nr=function(t,e){var i=e;if(this._$GS._$Ur(t)){var n=this._$VT(),r=X._$gT;r[0]=!1,y._$Vr(t,this._$GS,r,n,this._$Eo,i._$Cr,0,2),e._$Ib(r[0]),this.interpolateOpacity(t,this._$GS,e,r)}},X.prototype._$2b=function(t,e){var i=e;if(i._$hS(!0),this._$32()){var n=this.getTargetBaseDataID();if(i._$8r==x._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)nt._$so&&o._$li("_$L _$0P _$G :: %s",n),i._$hS(!1);else{var r=t.getBaseData(i._$8r),s=t._$q2(i._$8r);if(null!=r&&s._$yo()){var a=s.getTotalScale();i.setTotalScale_notForClient(a);var l=s.getTotalOpacity();i.setTotalOpacity(l*i.getInterpolatedOpacity()),r._$nb(t,s,i._$Cr,i._$hr,this._$VT(),0,2),i._$hS(!0)}else i._$hS(!1)}}else i.setTotalOpacity(i.getInterpolatedOpacity())},X.prototype._$nb=function(t,e,i,n,r,o,s){var a=e,l=null!=a._$hr?a._$hr:a._$Cr;X.transformPoints_sdk2(i,n,r,o,s,l,this._$o,this._$A)},X.transformPoints_sdk2=function(e,i,n,r,o,s,a,l){for(var u,h,c,f=n*o,_=0,p=0,d=0,m=0,g=0,v=0,y=!1,$=r;$<f;$+=o){var w,b,T,x;if(T=e[$],b=(x=e[$+1])*l,(w=T*a)<0||b<0||a<=w||l<=b){var S=a+1;if(!y){y=!0,_=.25*(s[2*(0+0*S)]+s[2*(a+0*S)]+s[2*(0+l*S)]+s[2*(a+l*S)]),p=.25*(s[2*(0+0*S)+1]+s[2*(a+0*S)+1]+s[2*(0+l*S)+1]+s[2*(a+l*S)+1]);var P=s[2*(a+l*S)]-s[2*(0+0*S)],O=s[2*(a+l*S)+1]-s[2*(0+0*S)+1],E=s[2*(a+0*S)]-s[2*(0+l*S)],A=s[2*(a+0*S)+1]-s[2*(0+l*S)+1];_-=.5*((d=.5*(P+E))+(g=.5*(P-E))),p-=.5*((m=.5*(O+A))+(v=.5*(O-A)))}if(-2<T&&T<3&&-2<x&&x<3)if(T<=0)if(x<=0){var C=s[2*(0+0*S)],L=s[2*(0+0*S)+1],I=_-2*d,M=p-2*m,R=_-2*g,D=p-2*v,k=_-2*d-2*g,N=p-2*m-2*v;(F=.5*(T- -2))+(U=.5*(x- -2))<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else if(x>=1){R=s[2*(0+l*S)],D=s[2*(0+l*S)+1],k=_-2*d+1*g,N=p-2*m+1*v,C=_+3*g,L=p+3*v,I=_-2*d+3*g,M=p-2*m+3*v;(F=.5*(T- -2))+(U=.5*(x-1))<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else{(G=0|b)==l&&(G=l-1);var F=.5*(T- -2),U=b-G,B=G/l,j=(G+1)/l;R=s[2*(0+G*S)],D=s[2*(0+G*S)+1],C=s[2*(0+(G+1)*S)],L=s[2*(0+(G+1)*S)+1],k=_-2*d+B*g,N=p-2*m+B*v,I=_-2*d+j*g,M=p-2*m+j*v;F+U<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else if(1<=T)if(x<=0){I=s[2*(a+0*S)],M=s[2*(a+0*S)+1],C=_+3*d,L=p+3*m,k=_+1*d-2*g,N=p+1*m-2*v,R=_+3*d-2*g,D=p+3*m-2*v;(F=.5*(T-1))+(U=.5*(x- -2))<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else if(x>=1){k=s[2*(a+l*S)],N=s[2*(a+l*S)+1],R=_+3*d+1*g,D=p+3*m+1*v,I=_+1*d+3*g,M=p+1*m+3*v,C=_+3*d+3*g,L=p+3*m+3*v;(F=.5*(T-1))+(U=.5*(x-1))<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else{var G;(G=0|b)==l&&(G=l-1);F=.5*(T-1),U=b-G,B=G/l,j=(G+1)/l,k=s[2*(a+G*S)],N=s[2*(a+G*S)+1],I=s[2*(a+(G+1)*S)],M=s[2*(a+(G+1)*S)+1],R=_+3*d+B*g,D=p+3*m+B*v,C=_+3*d+j*g,L=p+3*m+j*v;F+U<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else if(x<=0){(Y=0|w)==a&&(Y=a-1);F=w-Y,U=.5*(x- -2);var z=Y/a,q=(Y+1)/a;I=s[2*(Y+0*S)],M=s[2*(Y+0*S)+1],C=s[2*(Y+1+0*S)],L=s[2*(Y+1+0*S)+1],k=_+z*d-2*g,N=p+z*m-2*v,R=_+q*d-2*g,D=p+q*m-2*v;F+U<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else if(x>=1){var Y;(Y=0|w)==a&&(Y=a-1);F=w-Y,U=.5*(x-1),z=Y/a,q=(Y+1)/a,k=s[2*(Y+l*S)],N=s[2*(Y+l*S)+1],R=s[2*(Y+1+l*S)],D=s[2*(Y+1+l*S)+1],I=_+z*d+3*g,M=p+z*m+3*v,C=_+q*d+3*g,L=p+q*m+3*v;F+U<=1?(i[$]=k+(R-k)*F+(I-k)*U,i[$+1]=N+(D-N)*F+(M-N)*U):(i[$]=C+(I-C)*(1-F)+(R-C)*(1-U),i[$+1]=L+(M-L)*(1-F)+(D-L)*(1-U))}else t.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",T,x);else i[$]=_+T*d+x*g,i[$+1]=p+T*m+x*v}else u=2*((0|w)+(0|b)*(a+1)),(h=w-(0|w))+(c=b-(0|b))<1?(i[$]=s[u]*(1-h-c)+s[u+2]*h+s[u+2*(a+1)]*c,i[$+1]=s[u+1]*(1-h-c)+s[u+3]*h+s[u+2*(a+1)+1]*c):(i[$]=s[u+2*(a+1)+2]*(h-1+c)+s[u+2*(a+1)]*(1-h)+s[u+2]*(1-c),i[$+1]=s[u+2*(a+1)+3]*(h-1+c)+s[u+2*(a+1)+1]*(1-h)+s[u+3]*(1-c))}},X.prototype.transformPoints_sdk1=function(t,e,i,n,r,o,s){for(var a,l,u,h,c,f,_,p=e,d=this._$o,m=this._$A,g=r*s,v=null!=p._$hr?p._$hr:p._$Cr,y=o;y<g;y+=s)nt._$ts?((a=i[y])<0?a=0:a>1&&(a=1),(l=i[y+1])<0?l=0:l>1&&(l=1),(u=0|(a*=d))>d-1&&(u=d-1),(h=0|(l*=m))>m-1&&(h=m-1),f=a-u,_=l-h,c=2*(u+h*(d+1))):(f=(a=i[y]*d)-(0|a),_=(l=i[y+1]*m)-(0|l),c=2*((0|a)+(0|l)*(d+1))),f+_<1?(n[y]=v[c]*(1-f-_)+v[c+2]*f+v[c+2*(d+1)]*_,n[y+1]=v[c+1]*(1-f-_)+v[c+3]*f+v[c+2*(d+1)+1]*_):(n[y]=v[c+2*(d+1)+2]*(f-1+_)+v[c+2*(d+1)]*(1-f)+v[c+2]*(1-_),n[y+1]=v[c+2*(d+1)+3]*(f-1+_)+v[c+2*(d+1)+1]*(1-f)+v[c+3]*(1-_))},X.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},X.prototype.getType=function(){return x._$_b},W.prototype=new it,Q._$42=0,Q.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},Q.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},Q.prototype.init=function(t){var e=new J(this);return e.setPartsOpacity(this.isVisible()?1:0),e},Q.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},Q.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},Q.prototype._$Zo=function(t){this._$3S=t},Q.prototype._$xo=function(t){this._$aS=t},Q.prototype.isVisible=function(){return this.visible},Q.prototype._$uL=function(){return this._$g0},Q.prototype._$KP=function(t){this.visible=t},Q.prototype._$ET=function(t){this._$g0=t},Q.prototype.getBaseData=function(){return this._$3S},Q.prototype.getDrawData=function(){return this._$aS},Q.prototype._$p2=function(){return this._$NL},Q.prototype._$ob=function(t){this._$NL=t},Q.prototype.getPartsID=function(){return this._$NL},Q.prototype._$MP=function(t){this._$NL=t},J.prototype=new function(){},J.prototype.getPartsOpacity=function(){return this._$VS},J.prototype.setPartsOpacity=function(t){this._$VS=t},K._$L7=function(){l._$27(),_t._$27(),C._$27(),a._$27()},K.prototype.toString=function(){return this.id},Z.prototype._$1s=function(){return this._$4S},Z.prototype._$zP=function(){this._$4S=new Array},Z.prototype._$F0=function(t){this._$4S=t._$nP()},Z.prototype._$Ks=function(t){this._$4S.push(t)},tt.tr=new ft,tt._$50=new ft,tt._$Ti=new Array(0,0),tt._$Pi=new Array(0,0),tt._$B=new Array(0,0),tt.prototype._$lP=function(t,e,i,n){this.viewport=new Array(t,e,i,n)},tt.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},tt.prototype._$ei=function(){this.context.restore()},tt.prototype.drawElements=function(t,e,i,n,r,s,a,l){try{r!=this._$Qo&&(this._$Qo=r,this.context.globalAlpha=r);for(var u=e.length,h=t.width,c=t.height,f=this.context,_=this._$xP,p=this._$uP,d=this._$6r,m=this._$3r,g=tt.tr,v=tt._$Ti,y=tt._$Pi,$=tt._$B,w=0;w<u;w+=3){f.save();var b=e[w],T=e[w+1],x=e[w+2],S=_+d*i[2*b],P=p+m*i[2*b+1],O=_+d*i[2*T],E=p+m*i[2*T+1],A=_+d*i[2*x],C=p+m*i[2*x+1];a&&(a._$PS(S,P,$),S=$[0],P=$[1],a._$PS(O,E,$),O=$[0],E=$[1],a._$PS(A,C,$),A=$[0],C=$[1]);var L=h*n[2*b],I=c-c*n[2*b+1],M=h*n[2*T],R=c-c*n[2*T+1],D=h*n[2*x],k=c-c*n[2*x+1],N=Math.atan2(R-I,M-L),F=Math.atan2(E-P,O-S),U=O-S,B=E-P,j=Math.sqrt(U*U+B*B),G=M-L,z=R-I,q=j/Math.sqrt(G*G+z*z);bt._$ni(D,k,L,I,M-L,R-I,-(R-I),M-L,v),bt._$ni(A,C,S,P,O-S,E-P,-(E-P),O-S,y);var Y=(y[0]-v[0])/v[1],H=Math.min(L,M,D),V=Math.max(L,M,D),X=Math.min(I,R,k),W=Math.max(I,R,k),Q=Math.floor(H),J=Math.floor(X),K=Math.ceil(V),Z=Math.ceil(W);if(g.identity(),g.translate(S,P),g.rotate(F),g.scale(1,y[1]/v[1]),g.shear(Y,0),g.scale(q,q),g.rotate(-N),g.translate(-L,-I),g.setContext(f),s||(s=1.2),nt.IGNORE_EXPAND&&(s=0),nt.USE_CACHED_POLYGON_IMAGE){var et=l._$e0;if(et.gl_cacheImage=et.gl_cacheImage||{},!et.gl_cacheImage[w]){var it=tt.createCanvas(K-Q,Z-J);nt.DEBUG_DATA.LDGL_CANVAS_MB=nt.DEBUG_DATA.LDGL_CANVAS_MB||0,nt.DEBUG_DATA.LDGL_CANVAS_MB+=(K-Q)*(Z-J)*4;var rt=it.getContext("2d");rt.translate(-Q,-J),tt.clip(rt,g,s,j,L,I,M,R,D,k,S,P,O,E,A,C),rt.drawImage(t,0,0),et.gl_cacheImage[w]={cacheCanvas:it,cacheContext:rt}}f.drawImage(et.gl_cacheImage[w].cacheCanvas,Q,J)}else nt.IGNORE_CLIP||tt.clip(f,g,s,j,L,I,M,R,D,k,S,P,O,E,A,C),nt.USE_ADJUST_TRANSLATION&&(H=0,V=h,X=0,W=c),f.drawImage(t,H,X,V-H,W-X,H,X,V-H,W-X);f.restore()}}catch(t){o._$Rb(t)}},tt.clip=function(t,e,i,n,r,o,s,a,l,u,h,c,f,_,p,d){i>.02?tt.expandClip(t,e,i,n,h,c,f,_,p,d):tt.clipWithTransform(t,null,r,o,s,a,l,u)},tt.expandClip=function(t,e,i,n,r,o,s,a,l,u){var h=s-r,c=a-o,f=l-r,_=u-o,p=h*_-c*f>0?i:-i,d=-c,m=h,g=l-s,v=u-a,y=-v,$=g,w=Math.sqrt(g*g+v*v),b=-_,T=f,x=Math.sqrt(f*f+_*_),S=r-p*d/n,P=o-p*m/n,O=s-p*d/n,E=a-p*m/n,A=s-p*y/w,C=a-p*$/w,L=l-p*y/w,I=u-p*$/w,M=r+p*b/x,R=o+p*T/x,D=l+p*b/x,k=u+p*T/x,N=tt._$50;return null!=e._$P2(N)&&(tt.clipWithTransform(t,N,S,P,O,E,A,C,L,I,D,k,M,R),!0)},tt.clipWithTransform=function(t,e,i,n,r,s,a,l){if(arguments.length<7)o._$li("err : @LDGL.clip()");else if(arguments[1]instanceof ft){var u=tt._$B,h=e,c=arguments;if(t.beginPath(),h){h._$PS(c[2],c[3],u),t.moveTo(u[0],u[1]);for(var f=4;f<c.length;f+=2)h._$PS(c[f],c[f+1],u),t.lineTo(u[0],u[1])}else{t.moveTo(c[2],c[3]);for(f=4;f<c.length;f+=2)t.lineTo(c[f],c[f+1])}t.clip()}else o._$li("err : a[0] is _$6 LDTransform @LDGL.clip()")},tt.createCanvas=function(t,e){var i=document.createElement("canvas");return i.setAttribute("width",t),i.setAttribute("height",e),i||o._$li("err : "+i),i},tt.dumpValues=function(){for(var t="",e=0;e<arguments.length;e++)t+="["+e+"]= "+arguments[e].toFixed(3)+" , ";console.log(t)},et.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},et.prototype.getMinValue=function(){return this._$TT},et.prototype.getMaxValue=function(){return this._$LT},et.prototype.getDefaultValue=function(){return this._$FS},et.prototype.getParamID=function(){return this._$wL},it.prototype._$yo=function(){return this._$AT&&!this._$JS},it.prototype._$hS=function(t){this._$AT=t},it.prototype._$GT=function(){return this._$e0},it.prototype._$l2=function(t){this._$IP=t},it.prototype.getPartsIndex=function(){return this._$IP},it.prototype._$x2=function(){return this._$JS},it.prototype._$Ib=function(t){this._$JS=t},it.prototype.getTotalScale=function(){return this.totalScale},it.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},it.prototype.getInterpolatedOpacity=function(){return this._$7s},it.prototype.setInterpolatedOpacity=function(t){this._$7s=t},it.prototype.getTotalOpacity=function(t){return this.totalOpacity},it.prototype.setTotalOpacity=function(t){this.totalOpacity=t},nt._$2s="2.1.00_1",nt._$Kr=201001e3,nt._$sP=!0,nt._$so=!0,nt._$cb=!1,nt._$3T=!0,nt._$Ts=!0,nt._$fb=!0,nt._$ts=!0,nt.L2D_DEFORMER_EXTEND=!0,nt._$Wb=!1,nt._$yr=!1,nt._$Zs=!1,nt.L2D_NO_ERROR=0,nt._$i7=1e3,nt._$9s=1001,nt._$es=1100,nt._$r7=2e3,nt._$07=2001,nt._$b7=2002,nt._$H7=4e3,nt.L2D_COLOR_BLEND_MODE_MULT=0,nt.L2D_COLOR_BLEND_MODE_ADD=1,nt.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,nt._$6b=!0,nt._$cT=0,nt.clippingMaskBufferSize=256,nt.glContext=new Array,nt.frameBuffers=new Array,nt.fTexture=new Array,nt.IGNORE_CLIP=!1,nt.IGNORE_EXPAND=!1,nt.EXPAND_W=2,nt.USE_ADJUST_TRANSLATION=!0,nt.USE_CANVAS_TRANSFORM=!0,nt.USE_CACHED_POLYGON_IMAGE=!1,nt.DEBUG_DATA={},nt.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},nt.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},nt.PROFILE_IOS_DEFAULT=nt.PROFILE_IOS_QUALITY,nt.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},nt.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},nt.initProfile=function(){$t.isIOS()?nt.setupProfile(nt.PROFILE_IOS_DEFAULT):$t.isAndroid()?nt.setupProfile(nt.PROFILE_ANDROID):nt.setupProfile(nt.PROFILE_DESKTOP)},nt.setupProfile=function(t,e){if("number"==typeof t)switch(t){case 9901:t=nt.PROFILE_IOS_SPEED;break;case 9902:t=nt.PROFILE_IOS_QUALITY;break;case 9903:t=nt.PROFILE_IOS_DEFAULT;break;case 9904:t=nt.PROFILE_ANDROID;break;case 9905:t=nt.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}for(var i in arguments.length<2&&(e=!0),e&&console.log("profile : "+t.PROFILE_NAME),t)nt[i]=t[i],e&&console.log("  ["+i+"] = "+t[i])},nt.init=function(){nt._$6b&&(console.log("Live2D %s",nt._$2s),nt._$6b=!1,nt.initProfile())},nt.getVersionStr=function(){return nt._$2s},nt.getVersionNo=function(){return nt._$Kr},nt._$sT=function(t){nt._$cT=t},nt.getError=function(){var t=nt._$cT;return nt._$cT=0,t},nt.dispose=function(){nt.glContext=[],nt.frameBuffers=[],nt.fTexture=[]},nt.setGL=function(t,e){var i=e||0;nt.glContext[i]=t},nt.getGL=function(t){return nt.glContext[t]},nt.setClippingMaskBufferSize=function(t){nt.clippingMaskBufferSize=t},nt.getClippingMaskBufferSize=function(){return nt.clippingMaskBufferSize},nt.deleteBuffer=function(t){nt.getGL(t).deleteFramebuffer(nt.frameBuffers[t].framebuffer),delete nt.frameBuffers[t],delete nt.glContext[t]},rt._$r2=function(t){return t<0?0:t>1?1:.5-.5*Math.cos(t*vt.PI_F)},ot._$fr=-1,ot.prototype.toString=function(){return this._$ib},st.prototype=new z,st._$42=0,st._$Os=30,st._$ms=0,st._$ns=1,st._$_s=2,st._$gT=new Array,st.prototype._$_S=function(t){this._$LP=t},st.prototype.getTextureNo=function(){return this._$LP},st.prototype._$ZL=function(){return this._$Qi},st.prototype._$H2=function(){return this._$JP},st.prototype.getNumPoints=function(){return this._$d0},st.prototype.getType=function(){return z._$wb},st.prototype._$B2=function(t,e,i){var n=e,r=null!=n._$hr?n._$hr:n._$Cr;switch(D._$do){default:case D._$Ms:throw new Error("_$L _$ro ");case D._$Qs:for(var o=this._$d0-1;o>=0;--o)r[o*D._$No+4]=i}},st.prototype._$zP=function(){this._$GS=new E,this._$GS._$zP()},st.prototype._$F0=function(t){z.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var e=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var i=3*this._$Yo-1;i>=0;--i)this._$BP[i]=e[i];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=k._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var n=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(n)}0!=(this._$JP&st._$Os)?this._$6s=(this._$JP&st._$Os)>>1:this._$6s=st._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},st.prototype.init=function(t){var e=new at(this),i=this._$d0*D._$No,n=this._$32();switch(null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(i),null!=e._$hr&&(e._$hr=null),e._$hr=n?new Float32Array(i):null,D._$do){default:case D._$Ms:if(D._$Ls)for(var r=this._$d0-1;r>=0;--r){var o=r<<1;this._$Qi[o+1]=1-this._$Qi[o+1]}break;case D._$Qs:for(r=this._$d0-1;r>=0;--r){o=r<<1;var s=r*D._$No,a=this._$Qi[o],l=this._$Qi[o+1];e._$Cr[s]=a,e._$Cr[s+1]=l,e._$Cr[s+4]=0,n&&(e._$hr[s]=a,e._$hr[s+1]=l,e._$hr[s+4]=0)}}return e},st.prototype._$Nr=function(t,e){var i=e;if(this!=i._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(z.prototype._$Nr.call(this,t,i),!i._$IS[0])){var n=st._$gT;n[0]=!1,y._$Vr(t,this._$GS,n,this._$d0,this._$Eo,i._$Cr,D._$i2,D._$No)}},st.prototype._$2b=function(t,e){try{this!=e._$GT()&&console.log("### assert!! ### ");var i=!1;e._$IS[0]&&(i=!0);var n=e;if(!i&&(z.prototype._$2b.call(this,t),this._$32())){var r=this.getTargetBaseDataID();if(n._$8r==z._$ur&&(n._$8r=t.getBaseDataIndex(r)),n._$8r<0)nt._$so&&o._$li("_$L _$0P _$G :: %s",r);else{var s=t.getBaseData(n._$8r),a=t._$q2(n._$8r);null==s||a._$x2()?n._$AT=!1:(s._$nb(t,a,n._$Cr,n._$hr,this._$d0,D._$i2,D._$No),n._$AT=!0),n.baseOpacity=a.getTotalOpacity()}}}catch(t){throw t}},st.prototype.draw=function(t,e,i){if(this!=i._$GT()&&console.log("### assert!! ### "),!i._$IS[0]){var n=i,r=this._$LP;r<0&&(r=1);var o=this.getOpacity(e,n)*i._$VS*i.baseOpacity,s=null!=n._$hr?n._$hr:n._$Cr;t.setClipBufPre_clipContextForDraw(i.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(r,3*this._$Yo,this._$BP,s,this._$Qi,o,this._$6s,n)}},st.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);console.log("\n  _$5i _$30");for(t=0;t<this._$Eo.length;t++){console.log("\n    _$30[%d] = ",t);for(var e=this._$Eo[t],i=0;i<e.length;i++)console.log("%6.2f, ",e[i])}console.log("\n")},st.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},st.prototype.getIndexArray=function(){return this._$BP},at.prototype=new yt,at.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},lt.prototype._$HT=function(t){this.x=t.x,this.y=t.y},lt.prototype._$HT=function(t,e){this.x=t,this.y=e},ut.prototype=new e,ut.loadModel=function(t){var i=new ut;return e._$62(i,t),i},ut.loadModel=function(t,i){var n=new ut(i||0);return e._$62(n,t),n},ut._$to=function(){return new ut},ut._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var i=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],n=ut.loadModel(e._$3b()),r=0;r<i.length;r++){var o=new _$5(i[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());n.setTexture(r,_$nL._$_o(t,o._$3b()))}return n},ut.prototype.setGL=function(t){nt.setGL(t)},ut.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},ut.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},ut.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},ut.prototype._$K2=function(){this.drawParamWebGL._$K2()},ut.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},ut.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},ut.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},ut.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},ut.prototype.getDrawParam=function(){return this.drawParamWebGL},ut.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},ut.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},ut.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},ut.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},ut.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},ht.prototype._$tb=function(){return this.motions},ht.prototype.startMotion=function(t,e){for(var i=null,n=this.motions.length,r=0;r<n;++r)null!=(i=this.motions[r])&&(i._$qS(i._$w0.getFadeOut()),this._$eb&&o._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",n,i._$sr));if(null==t)return-1;(i=new ct)._$w0=t,this.motions.push(i);var s=i._$sr;return this._$eb&&o._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",n,s),s},ht.prototype.updateParam=function(t){try{for(var e=!1,i=0;i<this.motions.length;i++){var n=this.motions[i];if(null!=n){var r=n._$w0;null!=r?(r.updateParam(t,n),e=!0,n.isFinished()&&(this._$eb&&o._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,n._$sr),this.motions.splice(i,1),i--)):(this.motions=this.motions.splice(i,1),i--)}else this.motions.splice(i,1),i--}return e}catch(t){return o._$li(t),!0}},ht.prototype.isFinished=function(t){if(arguments.length>=1){for(var e=0;e<this.motions.length;e++){if(null!=(i=this.motions[e])&&i._$sr==t&&!i.isFinished())return!1}return!0}for(e=0;e<this.motions.length;e++){var i;if(null!=(i=this.motions[e]))if(null!=i._$w0){if(!i.isFinished())return!1}else this.motions.splice(e,1),e--;else this.motions.splice(e,1),e--}return!0},ht.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];null!=e?(e._$w0,this.motions.splice(t,1),t--):(this.motions.splice(t,1),t--)}},ht.prototype._$Zr=function(t){this._$eb=t},ht.prototype._$e=function(){console.log("-- _$R --\n");for(var t=0;t<this.motions.length;t++){var e=this.motions[t]._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,e.toString())}},ct._$Gs=0,ct.prototype.isFinished=function(){return this._$9L},ct.prototype._$qS=function(t){var e=S.getUserTimeMSec()+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},ct.prototype._$Bs=function(){return this._$sr},ft.prototype.setContext=function(t){var e=this.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},ft.prototype.toString=function(){for(var t="LDTransform { ",e=0;e<9;e++)t+=this.m[e].toFixed(2)+" ,";return t+" }"},ft.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},ft.prototype._$PS=function(t,e,i){null==i&&(i=new Array(0,0));var n=this.m;return i[0]=n[0]*t+n[3]*e+n[6],i[1]=n[1]*t+n[4]*e+n[7],i},ft.prototype._$P2=function(t){t||(t=new ft);var e=this.m,i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=i*s*h+n*a*l+r*o*u-i*a*u-r*s*l-n*o*h;if(0==c)return null;var f=1/c;return t.m[0]=f*(s*h-u*a),t.m[1]=f*(u*r-n*h),t.m[2]=f*(n*a-s*r),t.m[3]=f*(l*a-o*h),t.m[4]=f*(i*h-l*r),t.m[5]=f*(o*r-i*a),t.m[6]=f*(o*u-l*s),t.m[7]=f*(l*n-i*u),t.m[8]=f*(i*s-o*n),t},ft.prototype.transform=function(t,e,i){null==i&&(i=new Array(0,0));var n=this.m;return i[0]=n[0]*t+n[3]*e+n[6],i[1]=n[1]*t+n[4]*e+n[7],i},ft.prototype.translate=function(t,e){var i=this.m;i[6]=i[0]*t+i[3]*e+i[6],i[7]=i[1]*t+i[4]*e+i[7],i[8]=i[2]*t+i[5]*e+i[8]},ft.prototype.scale=function(t,e){var i=this.m;i[0]*=t,i[1]*=t,i[2]*=t,i[3]*=e,i[4]*=e,i[5]*=e},ft.prototype.shear=function(t,e){var i=this.m,n=i[0]+i[3]*e,r=i[1]+i[4]*e,o=i[2]+i[5]*e;i[3]=i[0]*t+i[3],i[4]=i[1]*t+i[4],i[5]=i[2]*t+i[5],i[0]=n,i[1]=r,i[2]=o},ft.prototype.rotate=function(t){var e=this.m,i=Math.cos(t),n=Math.sin(t),r=e[0]*i+e[3]*n,o=e[1]*i+e[4]*n,s=e[2]*i+e[5]*n;e[3]=-e[0]*n+e[3]*i,e[4]=-e[1]*n+e[4]*i,e[5]=-e[2]*n+e[5]*i,e[0]=r,e[1]=o,e[2]=s},ft.prototype.concatenate=function(t){var e=this.m,i=t.m,n=e[0]*i[0]+e[3]*i[1]+e[6]*i[2],r=e[1]*i[0]+e[4]*i[1]+e[7]*i[2],o=e[2]*i[0]+e[5]*i[1]+e[8]*i[2],s=e[0]*i[3]+e[3]*i[4]+e[6]*i[5],a=e[1]*i[3]+e[4]*i[4]+e[7]*i[5],l=e[2]*i[3]+e[5]*i[4]+e[8]*i[5],u=e[0]*i[6]+e[3]*i[7]+e[6]*i[8],h=e[1]*i[6]+e[4]*i[7]+e[7]*i[8],c=e[2]*i[6]+e[5]*i[7]+e[8]*i[8];m[0]=n,m[1]=r,m[2]=o,m[3]=s,m[4]=a,m[5]=l,m[6]=u,m[7]=h,m[8]=c},_t.prototype=new K,_t._$eT=null,_t._$tP=new Object,_t._$2o=function(){return null==_t._$eT&&(_t._$eT=_t.getID("DST_BASE")),_t._$eT},_t._$27=function(){_t._$tP.clear(),_t._$eT=null},_t.getID=function(t){var e=_t._$tP[t];return null==e&&(e=new _t(t),_t._$tP[t]=e),e},_t.prototype._$3s=function(){return new _t},pt.prototype=new b,pt._$9r=function(t){return new Float32Array(t)},pt._$vb=function(t){return new Int16Array(t)},pt._$cr=function(t,e){return null==t||t._$yL()<e.length?((t=pt._$9r(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},pt._$mb=function(t,e){return null==t||t._$yL()<e.length?((t=pt._$vb(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},pt._$Hs=function(){return this._$Gr},pt._$as=function(t){this._$Gr=t},pt.prototype.getGL=function(){return this.gl},pt.prototype.setGL=function(t){this.gl=t},pt.prototype.setTransform=function(t){this.transform=t},pt.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},pt.prototype._$Uo=function(t,e,i,n,r,o,s,a){if(!(o<.01&&null==this.clipBufPre_clipContextMask)){var l=(o>.9&&nt.EXPAND_W,this.gl);if(null==this.gl)throw new Error("gl is null");var u,h,c,f,_=1*this._$C0*o,p=1*this._$tT*o,d=1*this._$WL*o,m=this._$lT*o;if(null!=this.clipBufPre_clipContextMask){l.frontFace(l.CCW),l.useProgram(this.shaderProgram),this._$vS=dt(l,this._$vS,n),this._$no=mt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=dt(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var g=this.getClipBufPre_clipContextMask().layoutChannelNo,v=this.getChannelFlagAsColor(g);l.uniform4f(this.u_channelFlag,v.r,v.g,v.b,v.a);var y=this.getClipBufPre_clipContextMask().layoutBounds;l.uniform4f(this.u_baseColor_Loc,2*y.x-1,2*y.y-1,2*y._$EL()-1,2*y._$5T()-1),l.uniform1i(this.u_maskFlag_Loc,!0)}else if(null!=this.getClipBufPre_clipContextDraw()){l.useProgram(this.shaderProgramOff),this._$vS=dt(l,this._$vS,n),this._$no=mt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc_Off),l.vertexAttribPointer(this.a_position_Loc_Off,2,l.FLOAT,!1,0,0),this._$NT=dt(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc_Off,1),l.enableVertexAttribArray(this.a_texCoord_Loc_Off),l.vertexAttribPointer(this.a_texCoord_Loc_Off,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),l.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,nt.fTexture[this.glno]),l.uniform1i(this.s_texture1_Loc_Off,2);g=this.getClipBufPre_clipContextDraw().layoutChannelNo,v=this.getChannelFlagAsColor(g);l.uniform4f(this.u_channelFlag_Loc_Off,v.r,v.g,v.b,v.a),l.uniform4f(this.u_baseColor_Loc_Off,_,p,d,m)}else l.useProgram(this.shaderProgram),this._$vS=dt(l,this._$vS,n),this._$no=mt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=dt(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),l.uniform4f(this.u_baseColor_Loc,_,p,d,m),l.uniform1i(this.u_maskFlag_Loc,!1);if(this.culling?this.gl.enable(l.CULL_FACE):this.gl.disable(l.CULL_FACE),this.gl.enable(l.BLEND),null!=this.clipBufPre_clipContextMask)u=l.ONE,h=l.ONE_MINUS_SRC_ALPHA,c=l.ONE,f=l.ONE_MINUS_SRC_ALPHA;else switch(s){case st._$ms:u=l.ONE,h=l.ONE_MINUS_SRC_ALPHA,c=l.ONE,f=l.ONE_MINUS_SRC_ALPHA;break;case st._$ns:u=l.ONE,h=l.ONE,c=l.ZERO,f=l.ONE;break;case st._$_s:u=l.DST_COLOR,h=l.ONE_MINUS_SRC_ALPHA,c=l.ZERO,f=l.ONE}l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(u,h,c,f),this.anisotropyExt&&l.texParameteri(l.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var $=i.length;l.drawElements(l.TRIANGLES,$,l.UNSIGNED_SHORT,0),l.bindTexture(l.TEXTURE_2D,null)}},pt.prototype._$Rs=function(){throw new Error("_$Rs")},pt.prototype._$Ds=function(t){throw new Error("_$Ds")},pt.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++)0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)},pt.prototype.setTexture=function(t,e){this.textures[t]=e},pt.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},pt.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},pt.prototype.compileShader=function(t,e){var i=this.gl,n=e,r=i.createShader(t);if(null==r)return o._$Ji("_$L0 to create shader"),null;if(i.shaderSource(r,n),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS)){var s=i.getShaderInfoLog(r);return o._$Ji("_$L0 to compile shader : "+s),i.deleteShader(r),null}return r},pt.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return o._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return o._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return o._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return o._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),!t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)){var e=t.getProgramInfoLog(this.shaderProgram);return o._$Ji("_$L0 to link program: "+e),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},pt.prototype.createFramebuffer=function(){var t=this.gl,e=nt.clippingMaskBufferSize,i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i);var n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,e,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,n);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,e,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),nt.fTexture[this.glno]=r,{framebuffer:i,renderbuffer:n,texture:nt.fTexture[this.glno]}},gt.prototype._$fP=function(){var t,e,i,n=this._$ST();if(0==(128&n))return 255&n;if(0==(128&(t=this._$ST())))return(127&n)<<7|127&t;if(0==(128&(e=this._$ST())))return(127&n)<<14|(127&t)<<7|255&e;if(0==(128&(i=this._$ST())))return(127&n)<<21|(127&t)<<14|(127&e)<<7|255&i;throw new ot("_$L _$0P  _")},gt.prototype.getFormatVersion=function(){return this._$S2},gt.prototype._$gr=function(t){this._$S2=t},gt.prototype._$3L=function(){return this._$fP()},gt.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},gt.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},gt.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},gt.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},gt.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},gt.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new ot("_$L _$q read long")},gt.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var xt=!0;gt.prototype._$bT=function(){this._$zT();var t=this._$3L(),e=null;if(xt)try{var i=new ArrayBuffer(2*t);e=new Uint16Array(i);for(var n=0;n<t;++n)e[n]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,e)}catch(t){xt=!1}try{var r=new Array;if(null==e)for(n=0;n<t;++n)r[n]=this._$T.getUint8(this._$F++);else for(n=0;n<t;++n)r[n]=e[n];return String.fromCharCode.apply(null,r)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},gt.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),e=new Int32Array(t),i=0;i<t;i++)e[i]=this._$T.getInt32(this._$F),this._$F+=4;return e},gt.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),e=new Float32Array(t),i=0;i<t;i++)e[i]=this._$T.getFloat32(this._$F),this._$F+=4;return e},gt.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),e=new Float64Array(t),i=0;i<t;i++)e[i]=this._$T.getFloat64(this._$F),this._$F+=8;return e},gt.prototype._$nP=function(){return this._$Jb(-1)},gt.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==k._$7P){var e=this._$6L();if(0<=e&&e<this._$Ko.length)return this._$Ko[e];throw new ot("_$sL _$4i @_$m0")}var i=this._$4b(t);return this._$Ko.push(i),i},gt.prototype._$4b=function(t){if(0==t)return null;if(50==t){var e=this._$bT();return r=C.getID(e)}if(51==t){e=this._$bT();return r=_t.getID(e)}if(134==t){e=this._$bT();return r=a.getID(e)}if(60==t){e=this._$bT();return r=l.getID(e)}if(t>=48){var i=k._$9o(t);return null!=i?(i._$F0(this),i):null}switch(t){case 1:return this._$bT();case 10:return new function(){wt||(this.color=null)}(this._$6L(),!0);case 11:return new v(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new v(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new $(this._$mP(),this._$mP());case 14:return new $(this._$_T(),this._$_T());case 15:for(var n=this._$3L(),r=new Array(n),o=0;o<n;o++)r[o]=this._$nP();return r;case 17:return r=new L(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());case 21:return new s(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new lt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new ot("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new ot("_$6 _$q : _$nP() NO _$i : "+t)}},gt.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},gt.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},vt._$2S=Math.PI/180,vt._$bS=Math.PI/180,vt._$wS=180/Math.PI,vt._$NS=180/Math.PI,vt.PI_F=Math.PI,vt._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],vt._$92=function(t,e){var i=Math.atan2(t[1],t[0]),n=Math.atan2(e[1],e[0]);return vt._$tS(i,n)},vt._$tS=function(t,e){for(var i=t-e;i<-Math.PI;)i+=2*Math.PI;for(;i>Math.PI;)i-=2*Math.PI;return i},vt._$9=function(t){return Math.sin(t)},vt.fcos=function(t){return Math.cos(t)},yt.prototype._$u2=function(){return this._$IS[0]},yt.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},yt.prototype._$GT=function(){return this._$e0},$t._$W2=0,$t.SYSTEM_INFO=null,$t.USER_AGENT=navigator.userAgent,$t.isIPhone=function(){return $t.SYSTEM_INFO||$t.setup(),$t.SYSTEM_INFO._isIPhone},$t.isIOS=function(){return $t.SYSTEM_INFO||$t.setup(),$t.SYSTEM_INFO._isIPhone||$t.SYSTEM_INFO._isIPad},$t.isAndroid=function(){return $t.SYSTEM_INFO||$t.setup(),$t.SYSTEM_INFO._isAndroid},$t.getOSVersion=function(){return $t.SYSTEM_INFO||$t.setup(),$t.SYSTEM_INFO.version},$t.getOS=function(){return $t.SYSTEM_INFO||$t.setup(),$t.SYSTEM_INFO._isIPhone||$t.SYSTEM_INFO._isIPad?"iOS":$t.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},$t.setup=function(){function t(t,e){for(var i=t.substring(e).split(/[ _,;\.]/),n=0,r=0;r<=2&&!isNaN(i[r]);r++){var s=parseInt(i[r]);if(s<0||s>999){o._$li("err : "+s+" @UtHtml5.setup()"),n=0;break}n+=s*Math.pow(1e3,2-r)}return n}var e,i=$t.USER_AGENT,n=$t.SYSTEM_INFO={userAgent:i};if((e=i.indexOf("iPhone OS "))>=0)n.os="iPhone",n._isIPhone=!0,n.version=t(i,e+"iPhone OS ".length);else if((e=i.indexOf("iPad"))>=0){if((e=i.indexOf("CPU OS"))<0)return void o._$li(" err : "+i+" @UtHtml5.setup()");n.os="iPad",n._isIPad=!0,n.version=t(i,e+"CPU OS ".length)}else(e=i.indexOf("Android"))>=0?(n.os="Android",n._isAndroid=!0,n.version=t(i,e+"Android ".length)):(n.os="-",n.version=-1)},window.UtSystem=S,window.UtDebug=o,window.LDTransform=ft,window.LDGL=tt,window.Live2D=nt,window.Live2DModelWebGL=ut,window.Live2DModelJS=Y,window.Live2DMotion=H,window.MotionQueueManager=ht,window.PhysicsHair=h,window.AMotion=r,window.PartsDataID=a,window.DrawDataID=C,window.BaseDataID=_t,window.ParamID=l,nt.init();wt=!1}()}).call(e,i(10))},function(t,e){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},function(t,e,i){t.exports=i(4)}])},function(t,e,i){"use strict";$(".site-master-avatar, .site-title").on("mouseout",function(){this.classList.remove("animated","tada")})},function(t,e,i){"use strict";function n(t){var e=t.clipboardData||window.clipboardData;if(e){t.preventDefault();var i="著作权归作者所有。<br>商业转载请联系作者获得授权，非商业转载请注明出处。<br>作者："+CONFIG.site.author+"<br>链接："+window.location.href+"<br>来源："+CONFIG.site.title+"<br><br>"+window.getSelection().toString(),n="著作权归作者所有。\n商业转载请联系作者获得授权，非商业转载请注明出处。\n作者："+CONFIG.site.author+"\n链接："+window.location.href+"\n来源："+CONFIG.site.title+"\n\n"+window.getSelection().toString();e.setData("text/html",i),e.setData("text/plain",n)}}for(var r=document.getElementsByClassName("post-body"),o=0;o<r.length;o++)r[o].addEventListener("copy",function(t){window.getSelection().toString()&&window.getSelection().toString().length>42&&(n(t),notie("商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。",{type:"info",autoHide:!0}))})},function(t,e,i){"use strict";i(32);var n=i(33);n.configure({showSpinner:!1,easing:"ease-out",speed:1e3}),$(document).pjax("a:not(.fancybox)","#main",{scrollTo:$(".main").position().top-60,fragment:"#main",timeout:5e3}),$(document).on("pjax:start",function(){if(n.start(),$("html, body").animate({scrollTop:$(".main").position().top-60},500),window.dplayerInstances)for(var t=0;t<window.dplayerInstances.length;t++)window.dplayerInstances[t].destroy()}),$(document).on("pjax:end",function(){n.done(),i(3)(),i(4)(),i(5)(),i(2)(),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),ga("set","location",window.location.href),ga("send","pageview")})},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(e,n,r){return r=m(n,r),this.on("click.pjax",e,function(e){var n=r;n.container||((n=t.extend({},r)).container=t(this).attr("data-pjax")),i(e,n)})}function i(e,i,n){n=m(i,n);var r=e.currentTarget,s=t(r);if("A"!==r.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==r.protocol||location.hostname!==r.hostname||r.href.indexOf("#")>-1&&d(r)==d(location)||e.isDefaultPrevented())){var a={url:r.href,container:s.attr("data-pjax"),target:r},l=t.extend({},a,n),u=t.Event("pjax:click");s.trigger(u,[l]),u.isDefaultPrevented()||(o(l),e.preventDefault(),s.trigger("pjax:clicked",[l]))}}function r(e,i,n){n=m(i,n);var r=e.currentTarget,s=t(r);if("FORM"!==r.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:(s.attr("method")||"GET").toUpperCase(),url:s.attr("action"),container:s.attr("data-pjax"),target:r};if("GET"!==a.type&&void 0!==window.FormData)a.data=new FormData(r),a.processData=!1,a.contentType=!1;else{if(s.find(":file").length)return;a.data=s.serializeArray()}o(t.extend({},a,n)),e.preventDefault()}function o(e){function i(i,n,r){r||(r={}),r.relatedTarget=e.target;var o=t.Event(i,r);return l.trigger(o,n),!o.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,o.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=p(e.url).hash,r=t.type(e.container);if("string"!==r)throw"expected string value for 'container' option; got "+r;var s,l=e.context=t(e.container);if(!l.length)throw"the container selector '"+e.container+"' did not match anything";e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:e.container}):e.data._pjax=e.container,e.beforeSend=function(t,r){if("GET"!==r.type&&(r.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e.container),!i("pjax:beforeSend",[t,r]))return!1;r.timeout>0&&(s=setTimeout(function(){i("pjax:timeout",[t,e])&&t.abort("timeout")},r.timeout),r.timeout=0);var o=p(r.url);n&&(o.hash=n),e.requestUrl=_(o)},e.complete=function(t,n){s&&clearTimeout(s),i("pjax:complete",[t,n,e]),i("pjax:end",[t,e])},e.error=function(t,n,r){var o=y("",t,e),s=i("pjax:error",[t,n,r,e]);"GET"==e.type&&"abort"!==n&&s&&a(o.url)},e.success=function(r,s,u){var h=o.state,f="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,_=u.getResponseHeader("X-PJAX-Version"),d=y(r,u,e),m=p(d.url);if(n&&(m.hash=n,d.url=m.href),f&&_&&f!==_)a(d.url);else if(d.contents){if(o.state={id:e.id||c(),url:d.url,title:d.title,container:e.container,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(o.state,d.title,d.url),t.contains(l,document.activeElement))try{document.activeElement.blur()}catch(t){}d.title&&(document.title=d.title),i("pjax:beforeReplace",[d.contents,e],{state:o.state,previousState:h}),l.html(d.contents);var g=l.find("input[autofocus], textarea[autofocus]").last()[0];g&&document.activeElement!==g&&g.focus(),function(e){if(e){var i=t("script[src]");e.each(function(){var e=this.src;if(!i.filter(function(){return this.src===e}).length){var n=document.createElement("script"),r=t(this).attr("type");r&&(n.type=r),n.src=t(this).attr("src"),document.head.appendChild(n)}})}}(d.scripts);var v=e.scrollTo;if(n){var $=decodeURIComponent(n.slice(1)),w=document.getElementById($)||document.getElementsByName($)[0];w&&(v=t(w).offset().top)}"number"==typeof v&&t(window).scrollTop(v),i("pjax:success",[r,s,u,e])}else a(d.url)},o.state||(o.state={id:c(),url:window.location.href,title:document.title,container:e.container,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(o.state,document.title)),h(o.xhr),o.options=e;var u,d,m=o.xhr=t.ajax(e);return m.readyState>0&&(e.push&&!e.replace&&(u=o.state.id,d=[e.container,f(l)],O[u]=d,A.push(u),$(E,0),$(A,o.defaults.maxCacheLength),window.history.pushState(null,"",e.requestUrl)),i("pjax:start",[m,e]),i("pjax:send",[m,e])),o.xhr}function s(e,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(t.extend(n,m(e,i)))}function a(t){window.history.replaceState(null,"",o.state.url),window.location.replace(t)}function l(e){x||h(o.xhr);var i,n,r,s,l,u,c=o.state,_=e.state;if(_&&_.container){if(x&&S==_.url)return;if(c){if(c.id===_.id)return;i=c.id<_.id?"forward":"back"}var p=O[_.id]||[],d=p[0]||_.container,m=t(d),g=p[1];if(m.length){c&&(n=i,r=c.id,s=[d,f(m)],O[r]=s,"forward"===n?(l=A,u=E):(l=E,u=A),l.push(r),(r=u.pop())&&delete O[r],$(l,o.defaults.maxCacheLength));var v=t.Event("pjax:popstate",{state:_,direction:i});m.trigger(v);var y={id:_.id,url:_.url,container:d,push:!1,fragment:_.fragment,timeout:_.timeout,scrollTo:!1};if(g){m.trigger("pjax:start",[null,y]),o.state=_,_.title&&(document.title=_.title);var w=t.Event("pjax:beforeReplace",{state:_,previousState:c});m.trigger(w,[g,y]),m.html(g),m.trigger("pjax:end",[null,y])}else o(y);m[0].offsetHeight}else a(location.href)}x=!1}function u(e){var i=t.isFunction(e.url)?e.url():e.url,r=e.type?e.type.toUpperCase():"GET",o=t("<form>",{method:"GET"===r?"GET":"POST",action:i,style:"display:none"});"GET"!==r&&"POST"!==r&&o.append(t("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var s=e.data;if("string"==typeof s)t.each(s.split("&"),function(e,i){var n=i.split("=");o.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if(t.isArray(s))t.each(s,function(e,i){o.append(t("<input>",{type:"hidden",name:i.name,value:i.value}))});else if("object"===(void 0===s?"undefined":n(s))){var a;for(a in s)o.append(t("<input>",{type:"hidden",name:a,value:s[a]}))}t(document.body).append(o),o.submit()}function h(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function c(){return(new Date).getTime()}function f(e){var i=e.clone();return i.find("script").each(function(){this.src||t._data(this,"globalEval",!1)}),i.contents()}function _(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function p(t){var e=document.createElement("a");return e.href=t,e}function d(t){return t.href.replace(/#.*/,"")}function m(e,i){return e&&i?((i=t.extend({},i)).container=e,i):t.isPlainObject(e)?e:{container:e}}function g(t,e){return t.filter(e).add(t.find(e))}function v(e){return t.parseHTML(e,document,!0)}function y(e,i,n){var r,o,s={},a=/<html/i.test(e),l=i.getResponseHeader("X-PJAX-URL");if(s.url=l?_(p(l)):n.requestUrl,a){o=t(v(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var u=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);r=null!=u?t(v(u[0])):o}else r=o=t(v(e));if(0===o.length)return s;if(s.title=g(r,"title").last().text(),n.fragment){var h=o;"body"!==n.fragment&&(h=g(h,n.fragment).first()),h.length&&(s.contents="body"===n.fragment?h:h.contents(),s.title||(s.title=h.attr("title")||h.data("title")))}else a||(s.contents=o);return s.contents&&(s.contents=s.contents.not(function(){return t(this).is("title")}),s.contents.find("title").remove(),s.scripts=g(s.contents,"script[src]").remove(),s.contents=s.contents.not(s.scripts)),s.title&&(s.title=t.trim(s.title)),s}function $(t,e){for(;t.length>e;)delete O[t.shift()]}function w(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function b(){t.fn.pjax=e,t.pjax=o,t.pjax.enable=t.noop,t.pjax.disable=T,t.pjax.click=i,t.pjax.submit=r,t.pjax.reload=s,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:w},t(window).on("popstate.pjax",l)}function T(){t.fn.pjax=function(){return this},t.pjax=u,t.pjax.enable=b,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",l)}var x=!0,S=window.location.href,P=window.history.state;P&&P.container&&(o.state=P),"state"in window.history&&(x=!1);var O={},E=[],A=[];t.event.props&&t.inArray("state",t.event.props)<0?t.event.props.push("state"):"state"in t.Event.prototype||t.event.addProp("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?b():T()}(jQuery)},function(t,e,i){"use strict";var n,r;"function"==typeof Symbol&&Symbol.iterator,void 0!==(r="function"==typeof(n=function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,e){return("string"==typeof t?t:o(t)).indexOf(" "+e+" ")>=0}function n(t,e){var n=o(t),r=n+e;i(n,e)||(t.className=r.substring(1))}function r(t,e){var n,r=o(t);i(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var a,l,u={version:"0.2.0"},h=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,i;for(e in t)void 0!==(i=t[e])&&t.hasOwnProperty(e)&&(h[e]=i);return this},u.status=null,u.set=function(i){var n=u.isStarted();i=t(i,h.minimum,1),u.status=1===i?null:i;var r=u.render(!n),o=r.querySelector(h.barSelector),s=h.speed,a=h.easing;return r.offsetWidth,c(function(t){var n,l,c,_;""===h.positionUsing&&(h.positionUsing=u.getPositioningCSS()),f(o,(n=i,l=s,c=a,(_="translate3d"===h.positionUsing?{transform:"translate3d("+e(n)+"%,0,0)"}:"translate"===h.positionUsing?{transform:"translate("+e(n)+"%,0)"}:{"margin-left":e(n)+"%"}).transition="all "+l+"ms "+c,_)),1===i?(f(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){f(r,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},s)},s)):setTimeout(t,s)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){return u.status||u.set(0),h.trickle&&function t(){setTimeout(function(){u.status&&(u.trickle(),t())},h.trickleSpeed)}(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var i=u.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),u.set(i)):u.start()},u.trickle=function(){return u.inc(Math.random()*h.trickleRate)},a=0,l=0,u.promise=function(t){return t&&"resolved"!==t.state()?(0===l&&u.start(),a++,l++,t.always(function(){0==--l?(a=0,u.done()):u.set((a-l)/a)}),this):this},u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");n(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=h.template;var r,o=i.querySelector(h.barSelector),a=t?"-100":e(u.status||0),l=document.querySelector(h.parent);return f(o,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),h.showSpinner||(r=i.querySelector(h.spinnerSelector))&&s(r),l!=document.body&&n(l,"nprogress-custom-parent"),l.appendChild(i),i},u.remove=function(){r(document.documentElement,"nprogress-busy"),r(document.querySelector(h.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&s(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var c=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),f=function(){function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),n[t]||(n[t]=function(t){var e=document.body.style;if(t in e)return t;for(var n,r=i.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((n=i[r]+o)in e)return n;return t}(t))}function e(e,i,n){i=t(i),e.style[i]=n}var i=["Webkit","O","Moz","ms"],n={};return function(t,i){var n,r,o=arguments;if(2==o.length)for(n in i)void 0!==(r=i[n])&&i.hasOwnProperty(n)&&e(t,n,r);else e(t,o[1],o[2])}}();return u})?n.call(e,i,e,t):n)&&(t.exports=r)},function(t,e,i){"use strict";function n(t,e,i,n,r){var o,s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a=[],l="-"==(t+="").trim()[0],u=0;n||(n=s),r||(r=s),l&&(t=t.slice(1));for(var h=t.length;h--;)u+=n.indexOf(t[h])*Math.pow(e,t.length-h-1);for(;0!=u;a.unshift(r[o]))o=u%i,u=Math.floor(u/i);return u&&a.unshift(r[u]),(l?"-":"")+a.join("")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.addr=e,this.groups=new Set,this.on=!1,this.waiting=!1,this.onOnlineChange=null,this.pinger=setInterval(function(){i.opened&&i.ws.send("")},2e4),this.user=n(Date.now(),10,62)+"-"+n(Math.round(99999999*Math.random()),10,62),this.ws=null,window.localStorage){var r=localStorage.getItem("online_user");r?this.user=r:localStorage.setItem("online_user",this.user)}e&&(this.on=!0,this.connet())}return r(t,[{key:"enter",value:function(t){if("string"!=typeof t)throw"name is not a string:"+t;return this.groups.add(t),this.opened&&this.ws.send(JSON.stringify({_:"enter",g:t,u:this.user})),this}},{key:"leave",value:function(t){if("string"!=typeof t)throw"name is not a string:"+t;return this.opened&&this.groups.delete(t)&&this.ws.send(JSON.stringify({_:"leave",g:t})),this}},{key:"leaveAll",value:function(){if(this.opened){var t=!0,e=!1,i=void 0;try{for(var n,r=this.groups[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;this.leave(o)}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}}return this}},{key:"_report",value:function(t){this.onOnlineChange&&this.onOnlineChange(t)}},{key:"connet",value:function(t){var e=this;if(this.waiting=!1,t&&(this.addr=t),!1!==this.on&&!this.opened){var i=this.ws=new WebSocket(this.addr);return i.onmessage=function(t){if("connected"!==t.data){var i=JSON.parse(t.data);switch(i._){case"ol":i.c=parseInt(i.c,32),i.u=parseInt(i.u,32),e._report(i)}}else{var n=!0,r=!1,o=void 0;try{for(var s,a=e.groups[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;e.enter(l)}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},i.onclose=function(t){if(!e.waiting){var i=!0,n=!1,r=void 0;try{for(var o,s=e.groups[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;e._report({g:a,c:0,u:0})}}catch(t){n=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}e.waiting=!0,setTimeout(function(){e.connet()},5e3)}},i.onerror=function(t){i.onclose()},this}}},{key:"close",value:function(){this.on=!1,this.ws.close(),clearInterval(this.pinger)}},{key:"opened",get:function(){return this.ws&&1===this.ws.readyState}}]),t}();if(window.CONFIG.onlineAPI&&!NexT.utils.isMobile()){var s=new o(window.CONFIG.onlineAPI);s.enter(document.domain),s.onOnlineChange=function(t){document.getElementById("online-count").innerHTML=t.u}}},function(t,e,i){"use strict";$(".search-form").submit(function(t){t.preventDefault(),window.open("https://www.google.com/search?&q=site%3A"+window.location.host+"+"+encodeURIComponent($('.search-form input[name="keyword"]').val()))})}]);